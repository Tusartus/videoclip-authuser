(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u});var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.getOptions=function(t){return void 0===t&&(t=s),this.instancesOptions.get(t)||{}},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,o=void 0===i?{}:i,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:s,options:o});try{for(var u=Object(r.g)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=Object(r.e)(c.value,2),h=l[1];s===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(f){e={error:f}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return a},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,o=this.onInitCallbacks.get(e);if(o)try{for(var s=Object(r.g)(o),a=s.next();!a.done;a=s.next()){var u=a.value;try{u(t,e)}catch(c){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===s?void 0:e),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=s),this.component?this.component.multipleInstances?t:s:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return u});var r=n("XNiG"),i=n("HDdC"),o=(n("7o/Q"),n("quSY")),s=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.a,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.a.EMPTY)),t}refCount(){return Object(s.a)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("mCNh"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:Object(a.b)(t)(this)}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a});var i="8.10.1";r.a.registerVersion("firebase",i,"app"),r.a.SDK_VERSION=i},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("EY2u"),i=n("LRne"),o=n("HDdC");let s=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return t=this.error,new o.a(e=>e.error(t));case"C":return Object(r.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return ln}),n.d(e,"b",function(){return Tu}),n.d(e,"c",function(){return Su}),n.d(e,"d",function(){return _u}),n.d(e,"e",function(){return wu}),n.d(e,"f",function(){return _c}),n.d(e,"g",function(){return lc}),n.d(e,"h",function(){return _a}),n.d(e,"i",function(){return Lu}),n.d(e,"j",function(){return Qs}),n.d(e,"k",function(){return Au}),n.d(e,"l",function(){return Ws}),n.d(e,"m",function(){return Cr}),n.d(e,"n",function(){return nu}),n.d(e,"o",function(){return lo}),n.d(e,"p",function(){return An}),n.d(e,"q",function(){return R}),n.d(e,"r",function(){return cn}),n.d(e,"s",function(){return To}),n.d(e,"t",function(){return da}),n.d(e,"u",function(){return ga}),n.d(e,"v",function(){return Iu}),n.d(e,"w",function(){return Ra}),n.d(e,"x",function(){return fc}),n.d(e,"y",function(){return Aa}),n.d(e,"z",function(){return oc}),n.d(e,"A",function(){return qu}),n.d(e,"B",function(){return Rn}),n.d(e,"C",function(){return xu}),n.d(e,"D",function(){return Ou}),n.d(e,"E",function(){return iu}),n.d(e,"F",function(){return Zs}),n.d(e,"G",function(){return Ys}),n.d(e,"H",function(){return Tr}),n.d(e,"I",function(){return Js}),n.d(e,"J",function(){return yr}),n.d(e,"K",function(){return jn}),n.d(e,"L",function(){return gc}),n.d(e,"M",function(){return xa}),n.d(e,"N",function(){return Wu}),n.d(e,"O",function(){return hn}),n.d(e,"P",function(){return ea}),n.d(e,"Q",function(){return ta}),n.d(e,"R",function(){return Na}),n.d(e,"S",function(){return M}),n.d(e,"T",function(){return sc}),n.d(e,"U",function(){return rc}),n.d(e,"V",function(){return g}),n.d(e,"W",function(){return nc}),n.d(e,"X",function(){return yc}),n.d(e,"Y",function(){return Zu}),n.d(e,"Z",function(){return ku}),n.d(e,"ab",function(){return fo}),n.d(e,"bb",function(){return As}),n.d(e,"cb",function(){return y}),n.d(e,"db",function(){return mr}),n.d(e,"eb",function(){return Jn}),n.d(e,"fb",function(){return Hn}),n.d(e,"gb",function(){return Qn}),n.d(e,"hb",function(){return Wn}),n.d(e,"ib",function(){return Gn}),n.d(e,"jb",function(){return zn}),n.d(e,"kb",function(){return $n}),n.d(e,"lb",function(){return xs}),n.d(e,"mb",function(){return bc}),n.d(e,"nb",function(){return Ts}),n.d(e,"ob",function(){return ks}),n.d(e,"pb",function(){return Bn}),n.d(e,"qb",function(){return H}),n.d(e,"rb",function(){return Mo}),n.d(e,"sb",function(){return ns}),n.d(e,"tb",function(){return ts}),n.d(e,"ub",function(){return es}),n.d(e,"vb",function(){return Os}),n.d(e,"wb",function(){return kt}),n.d(e,"xb",function(){return f}),n.d(e,"yb",function(){return qn}),n.d(e,"zb",function(){return Io}),n.d(e,"Ab",function(){return wt}),n.d(e,"Bb",function(){return qs}),n.d(e,"Cb",function(){return pi}),n.d(e,"Db",function(){return Ho}),n.d(e,"Eb",function(){return fs}),n.d(e,"Fb",function(){return gu}),n.d(e,"Gb",function(){return tt}),n.d(e,"Hb",function(){return at}),n.d(e,"Ib",function(){return S}),n.d(e,"Jb",function(){return C}),n.d(e,"Kb",function(){return it}),n.d(e,"Lb",function(){return ut}),n.d(e,"Mb",function(){return zo}),n.d(e,"Nb",function(){return Yo}),n.d(e,"Ob",function(){return Xo}),n.d(e,"Pb",function(){return Zo}),n.d(e,"Qb",function(){return Ko}),n.d(e,"Rb",function(){return Wo}),n.d(e,"Sb",function(){return Jo}),n.d(e,"Tb",function(){return rn}),n.d(e,"Ub",function(){return ws}),n.d(e,"Vb",function(){return Tn}),n.d(e,"Wb",function(){return sn}),n.d(e,"Xb",function(){return vu}),n.d(e,"Yb",function(){return rs}),n.d(e,"Zb",function(){return mu}),n.d(e,"ac",function(){return we}),n.d(e,"bc",function(){return _e}),n.d(e,"cc",function(){return ss}),n.d(e,"dc",function(){return Ja}),n.d(e,"ec",function(){return tu}),n.d(e,"fc",function(){return cs}),n.d(e,"gc",function(){return us}),n.d(e,"hc",function(){return Go}),n.d(e,"ic",function(){return Wa}),n.d(e,"jc",function(){return Ka}),n.d(e,"kc",function(){return Ya}),n.d(e,"lc",function(){return pu}),n.d(e,"mc",function(){return Qo}),n.d(e,"nc",function(){return $t}),n.d(e,"oc",function(){return vr}),n.d(e,"pc",function(){return ot}),n.d(e,"qc",function(){return Bo}),n.d(e,"rc",function(){return yu}),n.d(e,"sc",function(){return bs}),n.d(e,"tc",function(){return ys}),n.d(e,"uc",function(){return vs}),n.d(e,"vc",function(){return _s});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("EQ5u"),u=n("x+ZX");function c(){return new r.a}function l(t){for(let e in t)if(t[e]===l)return e;throw Error("Could not find renamed property on target object.")}function h(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function f(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(f).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function d(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const p=l({__forward_ref__:l});function g(t){return t.__forward_ref__=g,t.toString=function(){return f(this())},t}function m(t){return b(t)?t():t}function b(t){return"function"==typeof t&&t.hasOwnProperty(p)&&t.__forward_ref__===g}class y extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function v(t){return"string"==typeof t?t:null==t?"":String(t)}function _(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():v(t)}function w(t,e){const n=e?` in ${e}`:"";throw new y("201",`No provider for ${_(t)} found${n}`)}function S(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function C(t){return{providers:t.providers||[],imports:t.imports||[]}}function E(t){return O(t,T)||O(t,I)}function O(t,e){return t.hasOwnProperty(e)?t[e]:null}function x(t){return t&&(t.hasOwnProperty(k)||t.hasOwnProperty(A))?t[k]:null}const T=l({"\u0275prov":l}),k=l({"\u0275inj":l}),I=l({ngInjectableDef:l}),A=l({ngInjectorDef:l});var R=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let j;function N(t){const e=j;return j=t,e}function D(t,e,n){const r=E(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&R.Optional?null:void 0!==e?e:void w(f(t),"Injector")}function P(t){return{toString:t}.toString()}var V=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),M=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const L="undefined"!=typeof globalThis&&globalThis,F="undefined"!=typeof window&&window,U="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,q="undefined"!=typeof global&&global,H=L||q||F||U,B={},Q=[],z=[],G=l({"\u0275cmp":l}),$=l({"\u0275dir":l}),W=l({"\u0275pipe":l}),K=l({"\u0275mod":l}),Y=l({"\u0275loc":l}),Z=l({"\u0275fac":l}),X=l({__NG_ELEMENT_ID__:l});let J=0;function tt(t){return P(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===V.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||z,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||M.Emulated,id:"c",styles:t.styles||z,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=J++,n.inputs=st(t.inputs,e),n.outputs=st(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(et):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(nt):null,n})}function et(t){return ct(t)||function(t){return t[$]||null}(t)}function nt(t){return function(t){return t[W]||null}(t)}const rt={};function it(t){const e={type:t.type,bootstrap:t.bootstrap||z,declarations:t.declarations||z,imports:t.imports||z,exports:t.exports||z,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&P(()=>{rt[t.id]=t.type}),e}function ot(t,e){return P(()=>{const n=lt(t,!0);n.declarations=e.declarations||z,n.imports=e.imports||z,n.exports=e.exports||z})}function st(t,e){if(null==t)return B;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const at=tt;function ut(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[G]||null}function lt(t,e){const n=t[K]||null;if(!n&&!0===e)throw new Error(`Type ${f(t)} does not have '\u0275mod' property.`);return n}const ht=20,ft=10;function dt(t){return Array.isArray(t)&&"object"==typeof t[1]}function pt(t){return Array.isArray(t)&&!0===t[1]}function gt(t){return 0!=(8&t.flags)}function mt(t){return 2==(2&t.flags)}function bt(t){return 1==(1&t.flags)}function yt(t){return null!==t.template}function vt(t,e){return t.hasOwnProperty(Z)?t[Z]:null}class _t{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function wt(){return St}function St(t){return t.type.prototype.ngOnChanges&&(t.setInput=Et),Ct}function Ct(){const t=Ot(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===B)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Et(t,e,n,r){const i=Ot(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:B,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new _t(u&&u.currentValue,e,s===B),t[r]=e}function Ot(t){return t.__ngSimpleChanges__||null}wt.ngInherit=!0;const xt="http://www.w3.org/2000/svg";let Tt;function kt(t){Tt=t}function It(t){return!!t.listen}const At={createRenderer:(t,e)=>void 0!==Tt?Tt:"undefined"!=typeof document?document:void 0};function Rt(t){for(;Array.isArray(t);)t=t[0];return t}function jt(t,e){return Rt(e[t])}function Nt(t,e){return Rt(e[t.index])}function Dt(t,e){return t.data[e]}function Pt(t,e){return t[e]}function Vt(t,e){const n=e[t];return dt(n)?n:n[0]}function Mt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Lt(t){return 4==(4&t[2])}function Ft(t){return 128==(128&t[2])}function Ut(t,e){return null==e?null:t[e]}function qt(t){t[18]=0}function Ht(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Bt={lFrame:de(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Qt(){return Bt.bindingsEnabled}function zt(){return Bt.lFrame.lView}function Gt(){return Bt.lFrame.tView}function $t(t){Bt.lFrame.contextLView=t}function Wt(){let t=Kt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Kt(){return Bt.lFrame.currentTNode}function Yt(t,e){const n=Bt.lFrame;n.currentTNode=t,n.isParent=e}function Zt(){return Bt.lFrame.isParent}function Xt(){Bt.lFrame.isParent=!1}function Jt(){return Bt.isInCheckNoChangesMode}function te(t){Bt.isInCheckNoChangesMode=t}function ee(){const t=Bt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ne(){return Bt.lFrame.bindingIndex}function re(){return Bt.lFrame.bindingIndex++}function ie(t){const e=Bt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function oe(t,e){const n=Bt.lFrame;n.bindingIndex=n.bindingRootIndex=t,se(e)}function se(t){Bt.lFrame.currentDirectiveIndex=t}function ae(){return Bt.lFrame.currentQueryIndex}function ue(t){Bt.lFrame.currentQueryIndex=t}function ce(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function le(t,e,n){if(n&R.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&R.Host||(r=ce(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Bt.lFrame=fe();return r.currentTNode=e,r.lView=t,!0}function he(t){const e=fe(),n=t[1];Bt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function fe(){const t=Bt.lFrame,e=null===t?null:t.child;return null===e?de(t):e}function de(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function pe(){const t=Bt.lFrame;return Bt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ge=pe;function me(){const t=pe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function be(){return Bt.lFrame.selectedIndex}function ye(t){Bt.lFrame.selectedIndex=t}function ve(){const t=Bt.lFrame;return Dt(t.tView,t.selectedIndex)}function _e(){Bt.lFrame.currentNamespace=xt}function we(){Bt.lFrame.currentNamespace=null}function Se(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Ce(t,e,n){xe(t,e,3,n)}function Ee(t,e,n,r){(3&t[2])===n&&xe(t,e,n,r)}function Oe(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function xe(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(Te(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Te(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(s)}finally{}}}else try{o.call(s)}finally{}}const ke=-1;class Ie{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Ae(t,e,n){const r=It(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];je(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Re(t){return 3===t||4===t||6===t}function je(t){return 64===t.charCodeAt(0)}function Ne(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||De(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function De(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Pe(t){return t!==ke}function Ve(t){return 32767&t}function Me(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Le=!0;function Fe(t){const e=Le;return Le=t,e}let Ue=0;function qe(t,e){const n=Be(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,He(r.data,t),He(e,null),He(r.blueprint,null));const i=Qe(t,e),o=t.injectorIndex;if(Pe(i)){const t=Ve(i),n=Me(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function He(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Be(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Qe(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return ke;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ke}function ze(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(X)&&(r=n[X]),null==r&&(r=n[X]=Ue++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Ge(t,e,n){if(n&R.Optional)return t;w(e,"NodeInjector")}function $e(t,e,n,r){if(n&R.Optional&&void 0===r&&(r=null),0==(n&(R.Self|R.Host))){const i=t[9],o=N(void 0);try{return i?i.get(e,r,n&R.Optional):D(e,r,n&R.Optional)}finally{N(o)}}return Ge(r,e,n)}function We(t,e,n,r=R.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(X)?t[X]:void 0;return"number"==typeof e?e>=0?255&e:Ye:e}(n);if("function"==typeof o){if(!le(e,t,r))return r&R.Host?Ge(i,n,r):$e(e,n,r,i);try{const t=o();if(null!=t||r&R.Optional)return t;w(n)}finally{ge()}}else if("number"==typeof o){let i=null,s=Be(t,e),a=ke,u=r&R.Host?e[16][6]:null;for((-1===s||r&R.SkipSelf)&&(a=-1===s?Qe(t,e):e[s+8],a!==ke&&en(r,!1)?(i=e[1],s=Ve(a),e=Me(a,e)):s=-1);-1!==s;){const t=e[1];if(tn(o,s,t.data)){const t=Ze(s,e,n,i,r,u);if(t!==Ke)return t}a=e[s+8],a!==ke&&en(r,e[1].data[s+8]===u)&&tn(o,s,e)?(i=t,s=Ve(a),e=Me(a,e)):s=-1}}}return $e(e,n,r,i)}const Ke={};function Ye(){return new nn(Wt(),zt())}function Ze(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=Xe(a,s,n,null==r?mt(a)&&Le:r!=s&&0!=(3&a.type),i&R.Host&&o===a);return null!==u?Je(e,s,u,a):Ke}function Xe(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&yt(t)&&t.type===n)return u}return null}function Je(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Ie){const s=i;s.resolving&&function(t,e){throw new y("200",`Circular dependency in DI detected for ${t}`)}(_(o[n]));const a=Fe(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?N(s.injectImpl):null;le(t,r,R.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=St(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&N(u),Fe(a),s.resolving=!1,ge()}}return i}function tn(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function en(t,e){return!(t&R.Self||t&R.Host&&e)}class nn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return We(this._tNode,this._lView,t,void 0,e)}}function rn(t){return P(()=>{const e=t.prototype.constructor,n=e[Z]||on(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Z]||on(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function on(t){return b(t)?()=>{const e=on(m(t));return e&&e()}:vt(t)}function sn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Re(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Wt(),t)}const an="__parameters__";function un(t,e,n){return P(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(an)?t[an]:Object.defineProperty(t,an,{value:[]})[an];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class cn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=S({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ln=new cn("AnalyzeForEntryComponents"),hn=Function;function fn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),fn(r,e)):e!==t&&e.push(r)}return e}function dn(t,e){t.forEach(t=>Array.isArray(t)?dn(t,e):e(t))}function pn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function gn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function mn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function bn(t,e,n){let r=vn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function yn(t,e){const n=vn(t,e);if(n>=0)return t[1|n]}function vn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const _n={},wn=/\n/gm,Sn="__source",Cn=l({provide:String,useValue:l});let En;function On(t){const e=En;return En=t,e}function xn(t,e=R.Default){if(void 0===En)throw new Error("inject() must be called from an injection context");return null===En?D(t,void 0,e):En.get(t,e&R.Optional?null:void 0,e)}function Tn(t,e=R.Default){return(j||xn)(m(t),e)}function kn(t){const e=[];for(let n=0;n<t.length;n++){const r=m(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=R.Default;for(let e=0;e<r.length;e++){const i=r[e],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(Tn(t,n))}else e.push(Tn(r))}return e}function In(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const An=In(un("Inject",t=>({token:t})),-1),Rn=In(un("Optional"),8),jn=In(un("SkipSelf"),4);let Nn;function Dn(t){var e;return(null===(e=function(){if(void 0===Nn&&(Nn=null,H.trustedTypes))try{Nn=H.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Nn}())||void 0===e?void 0:e.createHTML(t))||t}class Pn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Vn extends Pn{getTypeName(){return"HTML"}}class Mn extends Pn{getTypeName(){return"Style"}}class Ln extends Pn{getTypeName(){return"Script"}}class Fn extends Pn{getTypeName(){return"URL"}}class Un extends Pn{getTypeName(){return"ResourceURL"}}function qn(t){return t instanceof Pn?t.changingThisBreaksApplicationSecurity:t}function Hn(t,e){const n=Bn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Bn(t){return t instanceof Pn&&t.getTypeName()||null}function Qn(t){return new Vn(t)}function zn(t){return new Mn(t)}function Gn(t){return new Ln(t)}function $n(t){return new Fn(t)}function Wn(t){return new Un(t)}class Kn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Dn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Yn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Dn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Dn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Zn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Xn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Jn(t){return(t=String(t)).match(Zn)||t.match(Xn)?t:"unsafe:"+t}function tr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function er(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const nr=tr("area,br,col,hr,img,wbr"),rr=tr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ir=tr("rp,rt"),or=er(ir,rr),sr=er(nr,er(rr,tr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),er(ir,tr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),or),ar=tr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ur=tr("srcset"),cr=er(ar,ur,tr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),tr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),lr=tr("script,style,template");class hr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!sr.hasOwnProperty(e))return this.sanitizedSomething=!0,!lr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!cr.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;ar[o]&&(s=Jn(s)),ur[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Jn(t.trim())).join(", ")),this.buf.push(" ",e,'="',pr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();sr.hasOwnProperty(e)&&!nr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(pr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const fr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,dr=/([^\#-~ |!])/g;function pr(t){return t.replace(/&/g,"&amp;").replace(fr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(dr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let gr;function mr(t,e){let n=null;try{gr=gr||function(t){const e=new Yn(t);return function(){try{return!!(new window.DOMParser).parseFromString(Dn(""),"text/html")}catch(t){return!1}}()?new Kn(e):e}(t);let r=e?String(e):"";n=gr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=gr.getInertBodyElement(r)}while(r!==o);return Dn((new hr).sanitizeChildren(br(n)||n))}finally{if(n){const t=br(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function br(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var yr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function vr(t){const e=function(){const t=zt();return t&&t[12]}();return e?e.sanitize(yr.URL,t)||"":Hn(t,"URL")?qn(t):Jn(v(t))}function _r(t){return t.ngDebugContext}function wr(t){return t.ngOriginalError}function Sr(t,...e){t.error(...e)}class Cr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Sr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?_r(t)?_r(t):this._findContext(wr(t)):null}_findOriginalError(t){let e=wr(t);for(;e&&wr(e);)e=wr(e);return e}}function Er(t,e){t.__ngContext__=e}const Or=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(H))();function xr(t){return t instanceof Function?t():t}var Tr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function kr(t,e){return(void 0)(t,e)}function Ir(t){const e=t[3];return pt(e)?e[3]:e}function Ar(t){return jr(t[13])}function Rr(t){return jr(t[4])}function jr(t){for(;null!==t&&!pt(t);)t=t[4];return t}function Nr(t,e,n,r,i){if(null!=r){let o,s=!1;pt(r)?o=r:dt(r)&&(s=!0,r=r[0]);const a=Rt(r);0===t&&null!==n?null==i?qr(e,n,a):Ur(e,n,a,i||null,!0):1===t&&null!==n?Ur(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Br(t,e);r&&function(t,e,n,r){It(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Rt(n)&&Nr(e,t,r,o,i);for(let s=ft;s<n.length;s++){const i=n[s];Zr(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Dr(t,e,n){return It(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Pr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Ht(i,-1)),n.splice(r,1)}function Vr(t,e){if(t.length<=ft)return;const n=ft+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Pr(o,r),e>0&&(t[n-1][4]=r[4]);const s=gn(t,ft+e);Zr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Mr(t,e){if(!(256&e[2])){const n=e[11];It(n)&&n.destroyNode&&Zr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Lr(t[1],t);for(;e;){let n=null;if(dt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)dt(e)&&Lr(e[1],e),e=e[3];null===e&&(e=t),dt(e)&&Lr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Lr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Ie)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const r=t[e[n]],i=e[n+1];try{i.call(r)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):Rt(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&It(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&pt(e[3])){n!==e[3]&&Pr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Fr(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===M.None||e===M.Emulated)return null}return Nt(r,n)}(t,e.parent,n)}function Ur(t,e,n,r,i){It(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function qr(t,e,n){It(t)?t.appendChild(e,n):e.appendChild(n)}function Hr(t,e,n,r,i){null!==r?Ur(t,e,n,r,i):qr(t,e,n)}function Br(t,e){return It(t)?t.parentNode(e):e.parentNode}function Qr(t,e,n){return zr(t,e,n)}let zr=function(t,e,n){return 40&t.type?Nt(t,n):null};function Gr(t,e,n,r){const i=Fr(t,r,e),o=e[11],s=Qr(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Hr(o,i,n[a],s,!1);else Hr(o,i,n,s,!1)}function $r(t,e){if(null!==e){const n=e.type;if(3&n)return Nt(e,t);if(4&n)return Kr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return $r(t,n);{const n=t[e.index];return pt(n)?Kr(-1,n):Rt(n)}}if(32&n)return kr(e,t)()||Rt(t[e.index]);{const n=Wr(t,e);return null!==n?Array.isArray(n)?n[0]:$r(Ir(t[16]),n):$r(t,e.next)}}return null}function Wr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Kr(t,e){const n=ft+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return $r(t,r)}return e[7]}function Yr(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&Er(Rt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Yr(t,e,n.child,r,i,o,!1),Nr(e,t,i,a,o);else if(32&u){const s=kr(n,r);let u;for(;u=s();)Nr(e,t,i,u,o);Nr(e,t,i,a,o)}else 16&u?Xr(t,e,r,n,i,o):Nr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Zr(t,e,n,r,i,o){Yr(n,r,t.firstChild,e,i,o,!1)}function Xr(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Nr(e,t,i,a[u],o);else Yr(t,e,a,s[3],i,o,!0)}function Jr(t,e,n){It(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ti(t,e,n){It(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function ei(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const ni="ng-template";function ri(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==ei(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ii(t){return 4===t.type&&t.value!==ni}function oi(t,e,n){return e===(4!==t.type||n?t.value:ni)}function si(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Re(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!oi(t,u,n)||""===u&&1===e.length){if(ai(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!ri(t.attrs,c,n)){if(ai(r))return!1;s=!0}continue}const l=ui(8&r?"class":u,i,ii(t),n);if(-1===l){if(ai(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==ei(e,c,0)||2&r&&c!==t){if(ai(r))return!1;s=!0}}}}else{if(!s&&!ai(r)&&!ai(u))return!1;if(s&&ai(u))continue;s=!1,r=u|1&r}}return ai(r)||s}function ai(t){return 0==(1&t)}function ui(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ci(t,e,n=!1){for(let r=0;r<e.length;r++)if(si(t,e[r],n))return!0;return!1}function li(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function hi(t,e){return t?":not("+e.trim()+")":e}function fi(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||ai(s)||(e+=hi(o,i),i=""),r=s,o=o||!ai(r);n++}return""!==i&&(e+=hi(o,i)),e}const di={};function pi(t){gi(Gt(),zt(),be()+t,Jt())}function gi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Ce(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Ee(e,r,0,n)}ye(n)}function mi(t,e){return t<<17|e<<2}function bi(t){return t>>17&32767}function yi(t){return 2|t}function vi(t){return(131068&t)>>2}function _i(t,e){return-131069&t|e<<2}function wi(t){return 1|t}function Si(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];ue(i),n.contentQueries(2,e[o],o)}}}function Ci(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,qt(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Ei(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Kt(),s=Zt(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),Bt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=Bt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Yt(o,!0),o}function Oi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function xi(t,e,n){he(e);try{const r=t.viewQuery;null!==r&&no(1,r,n);const i=t.template;null!==i&&Ii(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Si(t,e),t.staticViewQueries&&no(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Zi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,me()}}function Ti(t,e,n,r){const i=e[2];if(256==(256&i))return;he(e);const o=Jt();try{qt(e),Bt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Ii(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&Ce(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Ee(e,n,0,null),Oe(e,0)}if(function(t){for(let e=Ar(t);null!==e;e=Rr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Ht(r,1),n[2]|=1024}}}(e),function(t){for(let e=Ar(t);null!==e;e=Rr(e))for(let t=ft;t<e.length;t++){const n=e[t],r=n[1];Ft(n)&&Ti(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Si(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&Ce(e,n)}else{const n=t.contentHooks;null!==n&&Ee(e,n,1),Oe(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)ye(~r);else{const i=r,o=n[++t],s=n[++t];oe(o,i),s(2,e[i])}}}finally{ye(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Ki(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&no(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&Ce(e,n)}else{const n=t.viewHooks;null!==n&&Ee(e,n,2),Oe(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ht(e[3],-1))}finally{me()}}function ki(t,e,n,r){const i=e[10],o=!Jt(),s=Lt(e);try{o&&!s&&i.begin&&i.begin(),s&&xi(t,e,r),Ti(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Ii(t,e,n,r,i){const o=be(),s=2&r;try{ye(-1),s&&e.length>ht&&gi(t,e,ht,Jt()),n(r,i)}finally{ye(o)}}function Ai(t,e,n){if(gt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Ri(t,e,n){Qt()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||qe(n,e),Er(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=yt(r);o&&zi(e,n,r);const u=Je(e,t,a,n);Er(u,e),null!==s&&Gi(0,a-i,u,r,0,s),o&&(Vt(n.index,e)[8]=u)}}(t,e,n,Nt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Bt.lFrame.currentDirectiveIndex;try{ye(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];se(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Ui(r,i)}}finally{ye(-1),se(s)}}(t,e,n))}function ji(t,e,n=Nt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Ni(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Di(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Di(t,e,n,r,i,o,s,a,u,c){const l=ht+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:di);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Pi(t,e,n,r){const i=io(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&oo(t).push(r,i.length-1))}function Vi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Mi(t,e,n,r,i,o,s,a){const u=Nt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(ao(t,n,c,r,i),mt(e)&&function(t,e){const n=Vt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,It(o)?o.setProperty(u,r,i):je(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Li(t,e,n,r){let i=!1;if(Qt()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];ci(n,s.selectors,!1)&&(i||(i=[]),ze(qe(n,e),t,s.type),yt(s)?(qi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Bi(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=Oi(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Ne(n.mergedAttrs,c.hostAttrs),Qi(t,n,e,u,c),Hi(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||ii(e)?null:$i(n,i);o.push(c),s=Vi(n,u,s),a=Vi(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new y("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Ne(n.mergedAttrs,n.attrs),i}function Fi(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function Ui(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function qi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Hi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;yt(e)&&(n[""]=t)}}function Bi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Qi(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=vt(i.type)),s=new Ie(o,yt(i),null);t.blueprint[r]=s,n[r]=s,Fi(t,e,0,r,Oi(t,n,i.hostVars,di),i)}function zi(t,e,n){const r=Nt(e,t),i=Ni(n),o=t[10],s=Xi(t,Ci(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Gi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function $i(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Wi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Ki(t,e){const n=Vt(e,t);if(Ft(n)){const t=n[1];80&n[2]?Ti(t,n,t.template,n[8]):n[5]>0&&Yi(n)}}function Yi(t){for(let n=Ar(t);null!==n;n=Rr(n))for(let t=ft;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Ti(t,e,t.template,e[8])}else e[5]>0&&Yi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Vt(e[n],t);Ft(r)&&r[5]>0&&Yi(r)}}function Zi(t,e){const n=Vt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),xi(r,n,n[8])}function Xi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Ji(t){for(;t;){t[2]|=64;const e=Ir(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function to(t,e,n){const r=e[10];r.begin&&r.begin();try{Ti(t,e,t.template,n)}catch(i){throw so(e,i),i}finally{r.end&&r.end()}}function eo(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Mt(n),i=r[1];ki(i,r,i.template,n)}}(t[8])}function no(t,e,n){ue(0),e(t,n)}const ro=(()=>Promise.resolve(null))();function io(t){return t[7]||(t[7]=[])}function oo(t){return t.cleanup||(t.cleanup=[])}function so(t,e){const n=t[9],r=n?n.get(Cr,null):null;r&&r.handleError(e)}function ao(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function uo(t,e,n){const r=jt(e,t);!function(t,e,n){It(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function co(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=d(i,t):2==o&&(r=d(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const lo=new cn("INJECTOR",-1);class ho{get(t,e=_n){if(e===_n){const e=new Error(`NullInjectorError: No provider for ${f(t)}!`);throw e.name="NullInjectorError",e}return e}}const fo=new cn("Set Injector scope."),po={},go={},mo=[];let bo;function yo(){return void 0===bo&&(bo=new ho),bo}function vo(t,e=null,n=null,r){return new _o(t,n,e||yo(),r)}class _o{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&dn(e,n=>this.processProvider(n,t,e)),dn([t],t=>this.processInjectorType(t,[],i)),this.records.set(lo,Co(void 0,this));const o=this.records.get(fo);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:f(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=_n,n=R.Default){this.assertNotDestroyed();const r=On(this);try{if(!(n&R.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof cn)&&E(t);e=n&&this.injectableDefInScope(n)?Co(wo(t),po):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&R.Self?yo():this.parent).get(t,e=n&R.Optional&&e===_n?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(f(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[Sn]&&i.unshift(e[Sn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=f(e);if(Array.isArray(e))i=e.map(f).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):f(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(wn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{On(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(f(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=m(t)))return!1;let r=x(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=x(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{dn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];dn(r,t=>this.processProvider(t,n,r||mo))}}this.injectorDefTypes.add(o);const a=vt(o)||(()=>new o);this.records.set(o,Co(a,po));const u=r.providers;if(null!=u&&!s){const e=t;dn(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Oo(t=m(t))?t:m(t&&t.provide);const i=function(t,e,n){return Eo(t)?Co(void 0,t.useValue):Co(So(t),po)}(t);if(Oo(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Co(void 0,po,!0),e.factory=()=>kn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===po&&(e.value=go,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function wo(t){const e=E(t),n=null!==e?e.factory:vt(t);if(null!==n)return n;if(t instanceof cn)throw new Error(`Token ${f(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=mn(e,"?");throw new Error(`Can't resolve all parameters for ${f(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[T]||t[I]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function So(t,e,n){let r;if(Oo(t)){const e=m(t);return vt(e)||wo(e)}if(Eo(t))r=()=>m(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...kn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Tn(m(t.useExisting));else{const e=m(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return vt(e)||wo(e);r=()=>new e(...kn(t.deps))}var i;return r}function Co(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Eo(t){return null!==t&&"object"==typeof t&&Cn in t}function Oo(t){return"function"==typeof t}const xo=function(t,e,n){return function(t,e=null,n=null,r){const i=vo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let To=(()=>{class t{static create(t,e){return Array.isArray(t)?xo(t,e,""):xo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=_n,t.NULL=new ho,t.\u0275prov=S({token:t,providedIn:"any",factory:()=>Tn(lo)}),t.__NG_ELEMENT_ID__=-1,t})();function ko(t,e){Se(Mt(t)[1],Wt())}function Io(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(yt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Ao(t.inputs),e.declaredInputs=Ao(t.declaredInputs),e.outputs=Ao(t.outputs);const n=i.hostBindings;n&&No(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&Ro(t,o),s&&jo(t,s),h(t.inputs,i.inputs),h(t.declaredInputs,i.declaredInputs),h(t.outputs,i.outputs),yt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Io&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ne(i.hostAttrs,n=Ne(n,i.hostAttrs))}}(r)}function Ao(t){return t===B?{}:t===z?[]:t}function Ro(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function jo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function No(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Do=null;function Po(){if(!Do){const t=H.Symbol;if(t&&t.iterator)Do=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Do=n)}}}return Do}class Vo{constructor(t){this.wrapped=t}static wrap(t){return new Vo(t)}static unwrap(t){return Vo.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Vo}}function Mo(t){return!!Lo(t)&&(Array.isArray(t)||!(t instanceof Map)&&Po()in t)}function Lo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Fo(t,e,n){return t[e]=n}function Uo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function qo(t,e,n,r){const i=Uo(t,e,n);return Uo(t,e+1,r)||i}function Ho(t,e,n,r){const i=zt();return Uo(i,re(),e)&&(Gt(),function(t,e,n,r,i,o){const s=Nt(t,e);!function(t,e,n,r,i,o,s){if(null==o)It(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?v(o):s(o,r||"",i);It(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(ve(),i,t,e,n,r)),Ho}function Bo(t,e,n,r,i,o,s,a){const u=zt(),c=Gt(),l=t+ht,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=Ei(e,t,4,s||null,Ut(c,a));Li(e,n,l,Ut(c,u)),Se(e,l);const h=l.tViews=Di(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Yt(h,!1);const f=u[11].createComment("");Gr(c,u,f,h),Er(f,u),Xi(u,u[l]=Wi(f,u,f,h)),bt(h)&&Ri(c,u,h),null!=s&&ji(u,h,a)}function Qo(t){return Pt(Bt.lFrame.contextLView,ht+t)}function zo(t,e=R.Default){const n=zt();return null===n?Tn(t,e):We(Wt(),n,m(t),e)}function Go(t,e,n){const r=zt();return Uo(r,re(),e)&&Mi(Gt(),ve(),r,t,e,r[11],n,!1),Go}function $o(t,e,n,r,i){const o=i?"class":"style";ao(t,n,e.inputs[o],o,r)}function Wo(t,e,n,r){const i=zt(),o=Gt(),s=ht+t,a=i[11],u=i[s]=Dr(a,e,Bt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=Ei(e,t,2,i,Ut(a,o));return Li(e,n,u,Ut(a,s)),null!==u.attrs&&co(u,u.attrs,!1),null!==u.mergedAttrs&&co(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];Yt(c,!0);const l=c.mergedAttrs;null!==l&&Ae(a,u,l);const h=c.classes;null!==h&&ti(a,u,h);const f=c.styles;null!==f&&Jr(a,u,f),64!=(64&c.flags)&&Gr(o,i,u,c),0===Bt.lFrame.elementDepthCount&&Er(u,i),Bt.lFrame.elementDepthCount++,bt(c)&&(Ri(o,i,c),Ai(o,c,i)),null!==r&&ji(i,c)}function Ko(){let t=Wt();Zt()?Xt():(t=t.parent,Yt(t,!1));const e=t;Bt.lFrame.elementDepthCount--;const n=Gt();n.firstCreatePass&&(Se(n,t),gt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&$o(n,e,zt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&$o(n,e,zt(),e.stylesWithoutHost,!1)}function Yo(t,e,n,r){Wo(t,e,n,r),Ko()}function Zo(t,e,n){const r=zt(),i=Gt(),o=t+ht,s=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=Ut(o,r),a=Ei(e,t,8,"ng-container",s);return null!==s&&co(a,s,!0),Li(e,n,a,Ut(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];Yt(s,!0);const a=r[o]=r[11].createComment("");Gr(i,r,a,s),Er(a,r),bt(s)&&(Ri(i,r,s),Ai(i,s,r)),null!=n&&ji(r,s)}function Xo(){let t=Wt();const e=Gt();Zt()?Xt():(t=t.parent,Yt(t,!1)),e.firstCreatePass&&(Se(e,t),gt(t)&&e.queries.elementEnd(t))}function Jo(){return zt()}function ts(t){return!!t&&"function"==typeof t.then}function es(t){return!!t&&"function"==typeof t.subscribe}const ns=es;function rs(t,e,n=!1,r){const i=zt(),o=Gt(),s=Wt();return function(t,e,n,r,i,o,s=!1,a){const u=bt(r),c=t.firstCreatePass&&oo(t),l=io(e);let h=!0;if(3&r.type){const f=Nt(r,e),d=a?a(f):B,p=d.target||f,g=l.length,m=a?t=>a(Rt(t[r.index])).target:r.index;if(It(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=os(r,e,0,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,m,g,g+1)}}else o=os(r,e,0,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,m,g,s)}else o=os(r,e,0,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),rs}function is(t,e,n,r){try{return!1!==n(r)}catch(i){return so(t,i),!1}}function os(t,e,n,r,i){return function n(o){if(o===Function)return r;const s=2&t.flags?Vt(t.index,e):e;0==(32&e[2])&&Ji(s);let a=is(e,0,r,o),u=n.__ngNextListenerFn__;for(;u;)a=is(e,0,u,o)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function ss(t=1){return function(t){return(Bt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Bt.lFrame.contextLView))[8]}(t)}function as(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?ci(t,o,!0):li(r,o))return i}else n=i}return n}function us(t){const e=zt()[16][6];if(!e.projection){const n=e.projection=mn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?as(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function cs(t,e=0,n){const r=zt(),i=Gt(),o=Ei(i,ht+t,16,null,n||null);null===o.projection&&(o.projection=e),Xt(),64!=(64&o.flags)&&function(t,e,n){Xr(e[11],0,e,n,Fr(t,n,e),Qr(n.parent||e[6],n,e))}(i,r,o)}function ls(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?bi(o):vi(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];hs(t[a],e)&&(u=!0,t[a+1]=r?wi(n):yi(n)),a=r?bi(n):vi(n)}u&&(t[n+1]=r?yi(o):wi(o))}function hs(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&vn(t,e)>=0}function fs(t,e){return function(t,e,n,r){const i=zt(),o=Gt(),s=ie(2);o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[be()],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(o)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Bt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=e.residualClasses;if(null===i)0===e.classBindings&&(n=ps(n=ds(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=ds(i,t,e,n,r),null===o){let n=function(t,e,n){const r=e.classBindings;if(0!==vi(r))return t[bi(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=ds(null,t,e,n[1],r),n=ps(n,e.attrs,r),function(t,e,n,r){t[bi(e.classBindings)]=r}(t,e,0,n))}else o=function(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=ps(r,t[o].hostAttrs,true);return ps(r,e.attrs,true)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=e.classBindings,a=bi(s),u=vi(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||vn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=bi(t[a+1]);t[r+1]=mi(e,a),0!==e&&(t[e+1]=_i(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=mi(a,0),0!==a&&(t[a+1]=_i(t[a+1],r)),a=r;else t[r+1]=mi(u,0),0===a?a=r:t[u+1]=_i(t[u+1],r),u=r;l&&(t[r+1]=yi(t[r+1])),ls(t,c,r,!0),ls(t,c,r,!1),function(t,e,n,r,i){const o=t.residualClasses;null!=o&&"string"==typeof e&&vn(o,e)>=0&&(n[r+1]=wi(n[r+1]))}(e,c,t,r),s=mi(a,u),e.classBindings=s}(i,o,e,n,s)}}(o,t,s,true),e!==di&&Uo(i,s,e)&&function(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];ms(1==(1&c)?gs(u,e,n,i,vi(c),s):void 0)||(ms(o)||function(t){return 2==(2&t)}(c)&&(o=gs(u,null,n,i,a,s)),function(t,e,n,r,i){const o=It(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,jt(be(),n),i,o))}(o,o.data[be()],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=f(qn(t))),t}(e),true,s)}(t,e),fs}function ds(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=ps(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function ps(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),bn(t,s,!!n||e[++o]))}return void 0===t?null:t}function gs(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===di&&(l=c?Q:void 0);let h=c?yn(l,r):u===r?l:void 0;if(o&&!ms(h)&&(h=yn(e,r)),ms(h)&&(a=h,s))return a;const f=t[i+1];i=s?bi(f):vi(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=yn(t,r))}return a}function ms(t){return void 0!==t}function bs(t,e=""){const n=zt(),r=Gt(),i=t+ht,o=r.firstCreatePass?Ei(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return It(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Gr(r,n,s,o),Yt(o,!1)}function ys(t){return vs("",t,""),ys}function vs(t,e,n){const r=zt(),i=function(t,e,n,r){return Uo(t,re(),n)?e+v(n)+r:di}(r,t,e,n);return i!==di&&uo(r,be(),i),vs}function _s(t,e,n,r,i){const o=zt(),s=function(t,e,n,r,i,o){const s=qo(t,ne(),n,i);return ie(2),s?e+v(n)+r+v(i)+o:di}(o,t,e,n,r,i);return s!==di&&uo(o,be(),s),_s}function ws(t,e,n){const r=zt();return Uo(r,re(),e)&&Mi(Gt(),ve(),r,t,e,r[11],n,!0),ws}const Ss=void 0;var Cs=["en",[["a","p"],["AM","PM"],Ss],[["AM","PM"],Ss,Ss],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ss,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ss,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ss,"{1} 'at' {0}",Ss],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Es={};function Os(t,e,n){"string"!=typeof e&&(n=e,e=t[As.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Es[e]=t,n&&(Es[e][As.ExtraData]=n)}function xs(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Is(e);if(n)return n;const r=e.split("-")[0];if(n=Is(r),n)return n;if("en"===r)return Cs;throw new Error(`Missing locale data for the locale "${t}".`)}function Ts(t){return xs(t)[As.CurrencyCode]||null}function ks(t){return xs(t)[As.PluralCase]}function Is(t){return t in Es||(Es[t]=H.ng&&H.ng.common&&H.ng.common.locales&&H.ng.common.locales[t]),Es[t]}var As=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Rs="en-US";let js=Rs;function Ns(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(js=t.toLowerCase().replace(/_/g,"-"))}function Ds(t,e,n,r,i){if(t=m(t),Array.isArray(t))for(let o=0;o<t.length;o++)Ds(t[o],e,n,r,i);else{const o=Gt(),s=zt();let a=Oo(t)?t:m(t.provide),u=So(t);const c=Wt(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(Oo(t)||!t.multi){const r=new Ie(u,i,zo),d=Ms(a,e,i?l:l+f,h);-1===d?(ze(qe(c,s),o,a),Ps(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=Ms(a,e,l+f,h),p=Ms(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){ze(qe(c,s),o,a);const l=function(t,e,n,r,i){const o=new Ie(t,n,zo);return o.multi=[],o.index=e,o.componentProviders=0,Vs(o,i,r&&!n),o}(i?Fs:Ls,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),Ps(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else Ps(o,t,d>-1?d:p,Vs(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Ps(t,e,n,r){const i=Oo(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function Vs(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ms(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Ls(t,e,n,r){return Us(this.multi,[])}function Fs(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Je(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),Us(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],Us(i,o);return o}function Us(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function qs(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Gt();if(r.firstCreatePass){const i=yt(t);Ds(n,r.data,r.blueprint,i,!0),Ds(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Hs{}class Bs{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${f(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Qs=(()=>{class t{}return t.NULL=new Bs,t})();function zs(...t){}function Gs(t,e){return new Ws(Nt(t,e))}const $s=function(){return Gs(Wt(),zt())};let Ws=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=$s,t})();function Ks(t){return t instanceof Ws?t.nativeElement:t}class Ys{}let Zs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Xs(),t})();const Xs=function(){const t=zt(),e=Vt(Wt().index,t);return function(t){return t[11]}(dt(e)?e:t)};let Js=(()=>{class t{}return t.\u0275prov=S({token:t,providedIn:"root",factory:()=>null}),t})();class ta{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const ea=new ta("11.2.14");class na{constructor(){}supports(t){return Mo(t)}create(t){return new ia(t)}}const ra=(t,e)=>e;class ia{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ra}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<ua(n,r,i)?e:n,s=ua(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Mo(t))throw new Error(`Error trying to diff '${f(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Po()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new oa(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new aa),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new aa),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class oa{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class sa{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class aa{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new sa,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ua(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class ca{constructor(){}supports(t){return t instanceof Map||Lo(t)}create(){return new la}}class la{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Lo(t)))throw new Error(`Error trying to diff '${f(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ha(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ha{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fa(){return new da([new na])}let da=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||fa()),deps:[[t,new jn,new Rn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=S({token:t,providedIn:"root",factory:fa}),t})();function pa(){return new ga([new ca])}let ga=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||pa()),deps:[[t,new jn,new Rn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=S({token:t,providedIn:"root",factory:pa}),t})();function ma(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(Rt(o)),pt(o))for(let t=ft;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&ma(e[1],e,n,r)}const s=n.type;if(8&s)ma(t,e,n.child,r);else if(32&s){const t=kr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=Wr(e,n);if(Array.isArray(t))r.push(...t);else{const n=Ir(e[16]);ma(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class ba{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return ma(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(pt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Vr(t,n),gn(e,n))}this._attachedToViewContainer=!1}Mr(this._lView[1],this._lView)}onDestroy(t){Pi(this._lView[1],this._lView,null,t)}markForCheck(){Ji(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){to(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){te(!0);try{to(t,e,n)}finally{te(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Zr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ya extends ba{constructor(t){super(t),this._view=t}detectChanges(){eo(this._view)}checkNoChanges(){!function(t){te(!0);try{eo(t)}finally{te(!1)}}(this._view)}get context(){return null}}const va=wa;let _a=(()=>{class t{}return t.__NG_ELEMENT_ID__=va,t.__ChangeDetectorRef__=!0,t})();function wa(t=!1){return function(t,e,n){if(!n&&mt(t)){const n=Vt(t.index,e);return new ba(n,n)}return 47&t.type?new ba(e[16],e):null}(Wt(),zt(),t)}const Sa=[new ca],Ca=new da([new na]),Ea=new ga(Sa),Oa=function(){return Ia(Wt(),zt())};let xa=(()=>{class t{}return t.__NG_ELEMENT_ID__=Oa,t})();const Ta=xa,ka=class extends Ta{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Ci(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),xi(e,n,t),new ba(n)}};function Ia(t,e){return 4&t.type?new ka(e,t,Gs(t,e)):null}class Aa{}class Ra{}const ja=function(){return La(Wt(),zt())};let Na=(()=>{class t{}return t.__NG_ELEMENT_ID__=ja,t})();const Da=Na,Pa=class extends Da{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Gs(this._hostTNode,this._hostLView)}get injector(){return new nn(this._hostTNode,this._hostLView)}get parentInjector(){const t=Qe(this._hostTNode,this._hostLView);if(Pe(t)){const e=Me(t,this._hostLView),n=Ve(t);return new nn(e[1].data[n+8],e)}return new nn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Va(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(Aa,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(pt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Pa(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=ft+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-ft?(e[4]=n[i],pn(n,ft+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=Kr(i,o),a=n[11],u=Br(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Zr(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),pn(Ma(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Va(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Vr(this._lContainer,e);n&&(gn(Ma(this._lContainer),e),Mr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Vr(this._lContainer,e);return n&&null!=gn(Ma(this._lContainer),e)?new ba(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Va(t){return t[8]}function Ma(t){return t[8]||(t[8]=[])}function La(t,e){let n;const r=e[t.index];if(pt(r))n=r;else{let i;if(8&t.type)i=Rt(r);else{const n=e[11];i=n.createComment("");const r=Nt(t,e);Ur(n,Br(n,r),i,function(t,e){return It(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Wi(r,e,i,t),Xi(e,n)}return new Pa(n,t,e)}const Fa={};class Ua extends Qs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new Ba(e,this.ngModule)}}function qa(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Ha=new cn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Or});class Ba extends Hs{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(fi).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return qa(this.componentDef.inputs)}get outputs(){return qa(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Fa,i);return o!==Fa||r===Fa?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Ys,At),s=i.get(Js,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(It(t))return t.selectRootElement(e,n===M.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Dr(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?xt:"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Or,clean:ro,playerHandler:null,flags:0},f=Di(0,null,null,1,0,null,null,null,null,null),d=Ci(null,f,h,l,null,null,o,a,s,i);let p,g;he(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=Ei(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(co(a,u,!0),null!==t&&(Ae(i,t,u),null!==a.classes&&ti(i,t,a.classes),null!==a.styles&&Jr(i,t,a.styles)));const c=r.createRenderer(t,e),l=Ci(n,Ni(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(ze(qe(a,n),s,e.type),qi(s,a),Bi(a,n.length,1)),Xi(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)Ae(a,c,["ng-version",ea.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!ai(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Ae(a,c,t),e&&e.length>0&&ti(a,c,e.join(" "))}if(g=Dt(f,ht),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Wt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Qi(t,r,e,Oi(t,e,1,null),n));const i=Je(e,t,r.directiveStart,r);Er(i,e);const o=Nt(r,e);return o&&Er(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Wt();e.contentQueries(1,s,t.directiveStart)}const a=Wt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ye(a.index),Fi(n[1],a,0,a.directiveStart,a.directiveEnd,e),Ui(e,s)),s}(t,this.componentDef,d,h,[ko]),xi(f,d,null)}finally{me()}return new Qa(this.componentType,p,Gs(g,d),d,g)}}class Qa extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new ya(r),this.componentType=t}get injector(){return new nn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const za=new Map;class Ga extends Aa{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ua(this);const n=lt(t),r=t[Y]||null;r&&Ns(r),this._bootstrapComponents=xr(n.bootstrap),this._r3Injector=vo(t,e,[{provide:Aa,useValue:this},{provide:Qs,useValue:this.componentFactoryResolver}],f(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=To.THROW_IF_NOT_FOUND,n=R.Default){return t===To||t===Aa||t===lo?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class $a extends Ra{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const r=lt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${f(e)} vs ${f(e.name)}`)}(i,za.get(i),n),za.set(i,n));const o=xr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Ga(this.moduleType,t)}}function Wa(t,e,n){const r=ee()+t,i=zt();return i[r]===di?Fo(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function Ka(t,e,n,r){return Xa(zt(),ee(),t,e,n,r)}function Ya(t,e,n,r,i){return function(t,e,n,r,i,o,s){const a=e+n;return qo(t,a,i,o)?Fo(t,a+2,s?r.call(s,i,o):r(i,o)):Za(t,a+2)}(zt(),ee(),t,e,n,r,i)}function Za(t,e){const n=t[e];return n===di?void 0:n}function Xa(t,e,n,r,i,o){const s=e+n;return Uo(t,s,i)?Fo(t,s+1,o?r.call(o,i):r(i)):Za(t,s+1)}function Ja(t,e){const n=Gt();let r;const i=t+ht;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new y("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=vt(r.type)),s=N(zo);try{const t=Fe(!1),e=o();return Fe(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,zt(),i,e),e}finally{N(s)}}function tu(t,e,n){const r=t+ht,i=zt(),o=Pt(i,r);return function(t,e){return Vo.isWrapped(e)&&(e=Vo.unwrap(e),t[ne()]=di),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?Xa(i,ee(),e,o.transform,n,o):o.transform(n))}function eu(t){return e=>{setTimeout(t,void 0,e)}}const nu=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,o,s;let a=t,u=e||(()=>null),c=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),u=null===(o=e.error)||void 0===o?void 0:o.bind(e),c=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}this.__isAsync&&(u=eu(u),a&&(a=eu(a)),c&&(c=eu(c)));const l=super.subscribe({next:a,error:u,complete:c});return t instanceof i.a&&t.add(l),l}};function ru(){return this._results[Po()]()}class iu{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Po(),n=iu.prototype;n[e]||(n[e]=ru)}get changes(){return this._changes||(this._changes=new nu)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=fn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class ou{constructor(t){this.queryList=t,this.matches=null}clone(){return new ou(this.queryList)}setDirty(){this.queryList.setDirty()}}class su{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new su(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==bu(t,e).matches&&this.queries[e].setDirty()}}class au{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class uu{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new uu(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class cu{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new cu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,lu(e,i)),this.matchTNodeWithReadOption(t,e,Xe(e,t,i,!1,!1))}else n===xa?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Xe(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Ws||r===Na||r===xa&&4&e.type)this.addMatch(e.index,-2);else{const n=Xe(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function lu(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function hu(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Gs(t,e):4&t.type?Ia(t,e):null}(e,t):-2===n?function(t,e,n){return n===Ws?Gs(e,t):n===xa?Ia(e,t):n===Na?La(e,t):void 0}(t,e,r):Je(t,t[1],n,e)}function fu(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:hu(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function du(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=fu(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=ft;t<s.length;t++){const e=s[t];e[17]===e[3]&&du(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];du(n[1],n,i,r)}}}}}return r}function pu(t){const e=zt(),n=Gt(),r=ae();ue(r+1);const i=bu(n,r);if(t.dirty&&Lt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?du(n,e,r,[]):fu(n,e,i,r);t.reset(o,Ks),t.notifyOnChanges()}return!0}return!1}function gu(t,e,n,r){const i=Gt();if(i.firstCreatePass){const o=Wt();(function(t,e,n){null===t.queries&&(t.queries=new uu),t.queries.track(new cu(e,n))})(i,new au(e,n,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}!function(t,e,n){const r=new iu(4==(4&n));Pi(t,e,r,r.destroy),null===e[19]&&(e[19]=new su),e[19].queries.push(new ou(r))}(i,zt(),n)}function mu(){return t=zt(),e=ae(),t[19].queries[e].queryList;var t,e}function bu(t,e){return t.queries.getByIndex(e)}function yu(t,e){return Ia(t,e)}function vu(t=R.Default){const e=wa(!0);if(null!=e||t&R.Optional)return e;w("ChangeDetectorRef")}const _u=new cn("Application Initializer");let wu=(()=>{class t{constructor(t){this.appInits=t,this.resolve=zs,this.reject=zs,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();ts(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Tn(_u,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const Su=new cn("AppId"),Cu={provide:Su,useFactory:function(){return`${Eu()}${Eu()}${Eu()}`},deps:[]};function Eu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ou=new cn("Platform Initializer"),xu=new cn("Platform ID"),Tu=new cn("appBootstrapListener");let ku=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const Iu=new cn("LocaleId"),Au=new cn("DefaultCurrencyCode");class Ru{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const ju=function(t){return new $a(t)},Nu=ju,Du=function(t){return Promise.resolve(ju(t))},Pu=function(t){const e=ju(t),n=xr(lt(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new Ba(n)),t},[]);return new Ru(e,n)},Vu=Pu,Mu=function(t){return Promise.resolve(Pu(t))};let Lu=(()=>{class t{constructor(){this.compileModuleSync=Nu,this.compileModuleAsync=Du,this.compileModuleAndAllComponentsSync=Vu,this.compileModuleAndAllComponentsAsync=Mu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const Fu=(()=>Promise.resolve(0))();function Uu(t){"undefined"==typeof Zone?Fu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class qu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nu(!1),this.onMicrotaskEmpty=new nu(!1),this.onStable=new nu(!1),this.onError=new nu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=H.requestAnimationFrame,e=H.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(H,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Qu(t),Bu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Qu(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return zu(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),Gu(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return zu(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Gu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Qu(t),Bu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!qu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(qu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Hu,zs,zs);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Hu={};function Bu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Qu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function zu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Gu(t){t._nesting--,Bu(t)}class $u{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nu,this.onMicrotaskEmpty=new nu,this.onStable=new nu,this.onError=new nu}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Wu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{qu.assertNotInAngularZone(),Uu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Uu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Tn(qu))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})(),Ku=(()=>{class t{constructor(){this._applications=new Map,Ju.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Ju.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();class Yu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Zu(t){Ju=t}let Xu,Ju=new Yu,tc=!0,ec=!1;function nc(){return ec=!0,tc}function rc(){if(ec)throw new Error("Cannot enable prod mode after platform setup.");tc=!1}const ic=new cn("AllowMultipleToken");class oc{constructor(t,e){this.name=t,this.token=e}}function sc(t,e,n=[]){const r=`Platform: ${e}`,i=new cn(r);return(e=[])=>{let o=ac();if(!o||o.injector.get(ic,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:fo,useValue:"platform"});!function(t){if(Xu&&!Xu.destroyed&&!Xu.injector.get(ic,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Xu=t.get(uc);const e=t.get(Ou,null);e&&e.forEach(t=>t())}(To.create({providers:t,name:r}))}return function(t){const e=ac();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function ac(){return Xu&&!Xu.destroyed?Xu:null}let uc=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new $u:("zone.js"===t?void 0:t)||new qu({enableLongStackTrace:nc(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:qu,useValue:n}];return n.run(()=>{const e=To.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(Cr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{hc(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return ts(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(wu);return t.runInitializers(),t.donePromise.then(()=>(Ns(i.injector.get(Iu,Rs)||Rs),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=cc({},e);return function(t,e,n){const r=new $a(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(lc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${f(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Tn(To))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function cc(t,e){return Array.isArray(e)?e.reduce(cc,t):Object.assign(Object.assign({},t),e)}let lc=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),h=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{qu.assertNotInAngularZone(),Uu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{qu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(l,h.pipe(t=>{return Object(u.a)()((e=c,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,a.b);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Hs?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Aa),i=n.create(To.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(Wu,null),a=s&&i.injector.get(Ku);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),hc(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;hc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Tu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Tn(qu),Tn(To),Tn(Cr),Tn(Qs),Tn(wu))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function hc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class fc{}class dc{}const pc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let gc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||pc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>mc(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>mc(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(Tn(Lu),Tn(dc,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function mc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const bc=function(t){return null},yc=sc(null,"core",[{provide:xu,useValue:"unknown"},{provide:uc,deps:[To]},{provide:Ku,deps:[]},{provide:ku,deps:[]}]),vc=[{provide:lc,useClass:lc,deps:[qu,To,Cr,Qs,wu]},{provide:Ha,deps:[qu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:wu,useClass:wu,deps:[[new Rn,_u]]},{provide:Lu,useClass:Lu,deps:[]},Cu,{provide:da,useFactory:function(){return Ca},deps:[]},{provide:ga,useFactory:function(){return Ea},deps:[]},{provide:Iu,useFactory:function(t){return Ns(t=t||"undefined"!=typeof $localize&&$localize.locale||Rs),t},deps:[[new An(Iu),new Rn,new jn]]},{provide:Au,useValue:"USD"}];let _c=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(Tn(lc))},t.\u0275mod=it({type:t}),t.\u0275inj=C({providers:vc}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mCNh:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("SpAZ");function i(...t){return o(t)}function o(t){return 0===t.length?r.a:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a});var r=n("7o/Q"),i=n("WMd4");function o(t,e=0){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new u(t,this.destination)))}_next(t){this.scheduleMessage(i.a.createNext(t))}_error(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}class u{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return c}),n.d(e,"b",function(){return S}),n.d(e,"c",function(){return w}),n.d(e,"d",function(){return O}),n.d(e,"e",function(){return l}),n.d(e,"f",function(){return x}),n.d(e,"g",function(){return a}),n.d(e,"h",function(){return u}),n.d(e,"i",function(){return I}),n.d(e,"j",function(){return h}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return g}),n.d(e,"m",function(){return b}),n.d(e,"n",function(){return y}),n.d(e,"o",function(){return f}),n.d(e,"p",function(){return d}),n.d(e,"q",function(){return m}),n.d(e,"r",function(){return _}),n.d(e,"s",function(){return v});var r=n("mrSG"),i=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},o={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(i(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},s=function(t){return function(t){var e=i(t);return o.encodeByteArray(e,!0)}(t).replace(/\./g,"")};function a(t){return u(void 0,t)}function u(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=u(t[n],e[n]));return t}var c=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function l(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object(r.a)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[s(JSON.stringify({alg:"none",type:"JWT"})),s(JSON.stringify(a)),""].join(".")}function h(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function f(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())}function d(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function p(){return"object"==typeof self&&self.self===self}function g(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function m(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function b(){return h().indexOf("Electron/")>=0}function y(){var t=h();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function v(){return h().indexOf("MSAppHost/")>=0}function _(){return!d()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var w=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,S.prototype.create),o}return Object(r.c)(e,t),e}(Error),S=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?C(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new w(i,a,r);return u},t}();function C(t,e){return t.replace(E,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var E=/\{\$([^}]+)}/g;function O(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function x(t,e){var n=new T(t,e);return n.subscribe.bind(n)}var T=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=k),void 0===r.error&&(r.error=k),void 0===r.complete&&(r.complete=k);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function k(){}function I(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return x}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return y}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return b}),n.d(e,"f",function(){return E}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return m}),n.d(e,"j",function(){return S});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),b=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},y=new u.r("angularfire2.app.options"),v=new u.r("angularfire2.app.nameOrConfig"),_=new u.Q("6.1.5");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&C("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const S=()=>{C("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},C=(t,...e)=>{Object(u.W)()&&"undefined"!=typeof console&&console[t](...e)};function E(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&C("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const O={provide:class{},useFactory:w,deps:[y,u.A,[new u.B,v]]};let x=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.P.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:y,useValue:e},{provide:v,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(u.Vb(u.C))},t.\u0275mod=u.Kb({type:t}),t.\u0275inj=u.Jb({providers:[O]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new b(t,e))}}class b{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new o(t))}}class o{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class s extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.g)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=f),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.d)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.d)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Object(s.h)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.h)(e,t)},createSubscribe:s.f,ErrorFactory:s.b,deepExtend:s.h}),e}(),b=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.k)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.p)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var _=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new b(t)},"PRIVATE")),t.registerVersion(h,"0.6.30",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function o(){return i}const s=new r.r("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(r.Vb)(l)}const c=new r.r("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(s))},t.\u0275prov=Object(r.Ib)({factory:f,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function f(){return new l(Object(r.Vb)(s))}function d(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:b,token:t,providedIn:"root"}),t})();function b(t){const e=Object(r.Vb)(s).location;return new v(Object(r.Vb)(a),e&&e.origin||"")}const y=new r.r("appBaseHref");let v=(()=>{class t extends m{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return d(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(a),r.Vb(y,8))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends m{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=d(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(a),r.Vb(y,8))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(C(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,C(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(m),r.Vb(a))},t.normalizeQueryParams=g,t.joinWithSlash=d,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Ib)({factory:S,token:t,providedIn:"root"}),t})();function S(){return new w(Object(r.Vb)(m),Object(r.Vb)(a))}function C(t){return t.replace(/\/index.html$/,"")}var E=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),O=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),x=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function T(t,e){const n=Object(r.lb)(t),i=n[r.bb.NumberSymbols][e];if(void 0===i){if(e===x.CurrencyDecimal)return n[r.bb.NumberSymbols][x.Decimal];if(e===x.CurrencyGroup)return n[r.bb.NumberSymbols][x.Group]}return i}const k=r.ob,I=/^(\d+)?\.((\d+)(-(\d+))?)?$/,A=".",R="0";function j(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class N{}let D=(()=>{class t extends N{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(k(e||this.locale)(t)){case O.Zero:return"zero";case O.One:return"one";case O.Two:return"two";case O.Few:return"few";case O.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(r.v))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),P=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.rb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Object(r.xb)(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.t),r.Mb(r.u),r.Mb(r.l),r.Mb(r.F))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class V{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let M=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new V(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new L(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new L(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.R),r.Mb(r.M),r.Mb(r.t))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class L{constructor(t,e){this.record=t,this.view=e}}let F=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new U,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){q("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){q("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.R),r.Mb(r.M))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class U{constructor(){this.$implicit=null,this.ngIf=null}}function q(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.xb)(e)}'.`)}function H(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.xb)(t)}'`)}class B{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class Q{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const z=new Q,G=new B;let $=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.tb)(e))return z;if(Object(r.ub)(e))return G;throw H(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Xb())},t.\u0275pipe=r.Lb({name:"async",type:t,pure:!1}),t})(),W=(()=>{class t{constructor(t){this._locale=t}transform(e,n,i){if(!function(t){return!(null==t||""===t||t!=t)}(e))return null;i=i||this._locale;try{return function(t,e,n){return function(t,e,n,r,i,o,s=!1){let a="",u=!1;if(isFinite(t)){let c=function(t){let e,n,r,i,o,s=Math.abs(t)+"",a=0;for((n=s.indexOf(A))>-1&&(s=s.replace(A,"")),(r=s.search(/e/i))>0?(n<0&&(n=r),n+=+s.slice(r+1),s=s.substring(0,r)):n<0&&(n=s.length),r=0;s.charAt(r)===R;r++);if(r===(o=s.length))e=[0],n=1;else{for(o--;s.charAt(o)===R;)o--;for(n-=r,e=[],i=0;r<=o;r++,i++)e[i]=Number(s.charAt(r))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);s&&(c=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));let l=e.minInt,h=e.minFrac,f=e.maxFrac;if(o){const t=o.match(I);if(null===t)throw new Error(`${o} is not a valid digit info`);const e=t[1],n=t[3],r=t[5];null!=e&&(l=j(e)),null!=n&&(h=j(n)),null!=r?f=j(r):null!=n&&h>f&&(f=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const o=Math.min(Math.max(e,i),n);let s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let t=s;t<r.length;t++)r[t]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let t=1;t<s;t++)r[t]=0}if(a>=5)if(s-1<0){for(let e=0;e>s;e--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=0!==o;const c=e+t.integerLen,l=r.reduceRight(function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,u&&(0===r[n]&&n>=c?r.pop():u=!1),e>=10?1:0},0);l&&(r.unshift(l),t.integerLen++)}(c,h,f);let d=c.digits,p=c.integerLen;const g=c.exponent;let m=[];for(u=d.every(t=>!t);p<l;p++)d.unshift(0);for(;p<0;p++)d.unshift(0);p>0?m=d.splice(p,d.length):(m=d,d=[0]);const b=[];for(d.length>=e.lgSize&&b.unshift(d.splice(-e.lgSize,d.length).join(""));d.length>e.gSize;)b.unshift(d.splice(-e.gSize,d.length).join(""));d.length&&b.unshift(d.join("")),a=b.join(T(n,r)),m.length&&(a+=T(n,i)+m.join("")),g&&(a+=T(n,x.Exponential)+"+"+g)}else a=T(n,x.Infinity);return a=t<0&&!u?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],o=r[1],s=-1!==i.indexOf(A)?i.split(A):[i.substring(0,i.lastIndexOf(R)+1),i.substring(i.lastIndexOf(R)+1)],a=s[0],u=s[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let l=0;l<u.length;l++){const t=u.charAt(l);t===R?n.minFrac=n.maxFrac=l+1:"#"===t?n.maxFrac=l+1:n.posSuf+=t}const c=a.split(",");if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){const t=i.length-n.posPre.length-n.posSuf.length,e=o.indexOf("#");n.negPre=o.substr(0,e).replace(/'/g,""),n.negSuf=o.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return Object(r.lb)(t)[r.bb.NumberFormats][e]}(e,E.Percent),T(e,x.MinusSign)),e,x.Group,x.Decimal,n,!0).replace(new RegExp("%","g"),T(e,x.PercentSign))}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(e),i,n)}catch(o){throw H(t,o.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.v))},t.\u0275pipe=r.Lb({name:"percent",type:t,pure:!0}),t})(),K=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[{provide:N,useClass:D}]}),t})();function Y(t){return"server"===t}let Z=(()=>{class t{}return t.\u0275prov=Object(r.Ib)({token:t,providedIn:"root",factory:()=>new X(Object(r.Vb)(s),window)}),t})();class X{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=J(this.window.history)||J(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function J(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class tt extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new tt,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=nt||(nt=document.querySelector("base"),nt)?nt.getAttribute("href"):null;return null==e?null:(n=e,et||(et=document.createElement("a")),et.setAttribute("href",n),"/"===et.pathname.charAt(0)?et.pathname:"/"+et.pathname);var n}resetBaseElement(){nt=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let et,nt=null;const rt=new r.r("TRANSITION_ID"),it=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[rt,s,r.s],multi:!0}];class ot{static init(){Object(r.Y)(new ot)}addToWindow(t){r.qb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.qb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.qb.getAllAngularRootElements=()=>t.getAllRootElements(),r.qb.frameworkStabilizers||(r.qb.frameworkStabilizers=[]),r.qb.frameworkStabilizers.push(t=>{const e=r.qb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const st=new r.r("EventManagerPlugins");let at=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(st),r.Vb(r.A))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class ut{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let ct=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),lt=(()=>{class t extends ct{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(ht),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(ht))}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();function ht(t){o().remove(t)}const ft={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},dt=/%COMP%/g;function pt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?pt(t,i,n):(i=i.replace(dt,t),n.push(i))}return n}function gt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let mt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new bt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.S.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new yt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.S.ShadowDom:return new vt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=pt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(at),r.Vb(lt),r.Vb(r.c))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class bt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(ft[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=ft[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=ft[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.H.DashCase|r.H.Important)?t.style.setProperty(e,n,i&r.H.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.H.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,gt(n)):this.eventManager.addEventListener(t,e,gt(n))}}class yt extends bt{constructor(t,e,n,r){super(t),this.component=n;const i=pt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(dt,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(dt,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class vt extends bt{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=pt(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let _t=(()=>{class t extends ut{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const wt=["alt","control","meta","shift"],St={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ct={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Et={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Ot=(()=>{class t extends ut{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(wt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Ct.hasOwnProperty(e)&&(e=Ct[e]))}return St[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),wt.forEach(r=>{r!=n&&(0,Et[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const xt=[{provide:r.C,useValue:"browser"},{provide:r.D,useValue:function(){tt.makeCurrent(),ot.init()},multi:!0},{provide:s,useFactory:function(){return Object(r.wb)(document),document},deps:[]}],Tt=Object(r.T)(r.X,"browser",xt),kt=[[],{provide:r.ab,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:st,useClass:_t,multi:!0,deps:[s,r.A,r.C]},{provide:st,useClass:Ot,multi:!0,deps:[s]},[],{provide:mt,useClass:mt,deps:[at,lt,r.c]},{provide:r.G,useExisting:mt},{provide:ct,useExisting:lt},{provide:lt,useClass:lt,deps:[s]},{provide:r.N,useClass:r.N,deps:[r.A]},{provide:at,useClass:at,deps:[st,r.A]},[]];let It=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:rt,useExisting:r.c},it]}}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(t,12))},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:kt,imports:[K,r.f]}),t})();"undefined"!=typeof window&&window;const At={apiKey:"AIzaSyCDuk0puRaAc47VmflDWyl9yjo1JEq3xSU",authDomain:"clipvideo-12838.firebaseapp.com",projectId:"clipvideo-12838",storageBucket:"clipvideo-12838.appspot.com",appId:"1:983669224384:web:f9991ab5cb1967df460e25"};var Rt=n("Cfvw"),jt=n("LRne"),Nt=n("XNiG"),Dt=n("9ppp");class Pt extends Nt.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Dt.a;return this._value}next(t){super.next(this._value=t)}}var Vt=n("z+Ro"),Mt=n("DH7j"),Lt=n("7o/Q");class Ft extends Lt.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Ut extends Lt.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var qt=n("SeVD"),Ht=n("HDdC");function Bt(t,e,n,r,i=new Ut(t,n,r)){if(!i.closed)return e instanceof Ht.a?e.subscribe(i):Object(qt.a)(e)(i)}var Qt=n("yCtX");const zt={};function Gt(...t){let e,n;return Object(Vt.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Mt.a)(t[0])&&(t=t[0]),Object(Qt.a)(t,n).lift(new $t(e))}class $t{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Wt(t,this.resultSelector))}}class Wt extends Ft{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(zt),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Bt(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===zt?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Kt=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Yt=n("bHdf");function Zt(...t){return Object(Yt.a)(1)(Object(jt.a)(...t))}var Xt=n("EY2u");function Jt(t){return new Ht.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Rt.a)(n):Object(Xt.b)()).subscribe(e)})}var te=n("EQ5u"),ee=n("lJxs"),ne=n("zx2A");function re(t,e){return"function"==typeof e?n=>n.pipe(re((n,r)=>Object(Rt.a)(t(n,r)).pipe(Object(ee.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new ie(t))}class ie{constructor(t){this.project=t}call(t,e){return e.subscribe(new oe(t,this.project))}}class oe extends ne.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new ne.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(ne.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const se=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function ae(t){return e=>0===t?Object(Xt.b)():e.lift(new ue(t))}class ue{constructor(t){if(this.total=t,this.total<0)throw new se}call(t,e){return e.subscribe(new ce(t,this.total))}}class ce extends Lt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function le(...t){const e=t[t.length-1];return Object(Vt.a)(e)?(t.pop(),n=>Zt(t,n,e)):e=>Zt(t,e)}function he(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new fe(t,e,n))}}class fe{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new de(t,this.accumulator,this.seed,this.hasSeed))}}class de extends Lt.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function pe(t,e){return function(n){return n.lift(new ge(t,e))}}class ge{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new me(t,this.predicate,this.thisArg))}}class me extends Lt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function be(t){return function(e){const n=new ye(t),r=e.lift(n);return n.caught=r}}class ye{constructor(t){this.selector=t}call(t,e){return e.subscribe(new ve(t,this.selector,this.caught))}}class ve extends ne.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new ne.a(this);this.add(r);const i=Object(ne.c)(n,r);i!==r&&this.add(i)}}}var _e=n("5+tZ");function we(t,e){return Object(_e.a)(t,e,1)}function Se(t){return function(e){return 0===t?Object(Xt.b)():e.lift(new Ce(t))}}class Ce{constructor(t){if(this.total=t,this.total<0)throw new se}call(t,e){return e.subscribe(new Ee(t,this.total))}}class Ee extends Lt.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Oe(t=ke){return e=>e.lift(new xe(t))}class xe{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Te(t,this.errorFactory))}}class Te extends Lt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(Pv){t=Pv}this.destination.error(t)}}}function ke(){return new Kt}function Ie(t=null){return e=>e.lift(new Ae(t))}class Ae{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Re(t,this.defaultValue))}}class Re extends Lt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var je=n("SpAZ");function Ne(t,e){const n=arguments.length>=2;return r=>r.pipe(t?pe((e,n)=>t(e,n,r)):je.a,Se(1),n?Ie(e):Oe(()=>new Kt))}function De(t,e){const n=arguments.length>=2;return r=>r.pipe(t?pe((e,n)=>t(e,n,r)):je.a,ae(1),n?Ie(e):Oe(()=>new Kt))}var Pe=n("vkgz"),Ve=n("x+ZX"),Me=n("quSY");class Le{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Fe(t,this.callback))}}class Fe extends Lt.a{constructor(t,e){super(t),this.add(new Me.a(e))}}class Ue{constructor(t,e){this.id=t,this.url=e}}class qe extends Ue{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class He extends Ue{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Be extends Ue{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Qe extends Ue{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ze extends Ue{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ge extends Ue{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $e extends Ue{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class We extends Ue{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ke extends Ue{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ye{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ze{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Xe{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Je{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tn{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class en{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nn{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const rn="primary";class on{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function sn(t){return new on(t)}function an(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function un(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function cn(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!ln(t[i],e[i]))return!1;return!0}function ln(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function hn(t){return Array.prototype.concat.apply([],t)}function fn(t){return t.length>0?t[t.length-1]:null}function dn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function pn(t){return Object(r.sb)(t)?t:Object(r.tb)(t)?Object(Rt.a)(Promise.resolve(t)):Object(jt.a)(t)}function gn(t,e,n){return n?function(t,e){return cn(t,e)}(t.queryParams,e.queryParams)&&mn(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>ln(t[n],e[n]))}(t.queryParams,e.queryParams)&&bn(t.root,e.root)}function mn(t,e){if(!Sn(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!mn(t.children[n],e.children[n]))return!1}return!0}function bn(t,e){return yn(t,e,e.segments)}function yn(t,e,n){if(t.segments.length>n.length)return!!Sn(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Sn(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!bn(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!Sn(t.segments,r)&&!!t.children.primary&&yn(t.children.primary,e,i)}}class vn{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sn(this.queryParams)),this._queryParamMap}toString(){return On.serialize(this)}}class _n{constructor(t,e){this.segments=t,this.children=e,this.parent=null,dn(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xn(this)}}class wn{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=sn(this.parameters)),this._parameterMap}toString(){return Nn(this)}}function Sn(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class Cn{}class En{parse(t){const e=new Ln(t);return new vn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${Tn(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${In(e)}=${In(t)}`).join("&"):`${In(e)}=${In(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const On=new En;function xn(t){return t.segments.map(t=>Nn(t)).join("/")}function Tn(t,e){if(!t.hasChildren())return xn(t);if(e){const e=t.children.primary?Tn(t.children.primary,!1):"",n=[];return dn(t.children,(t,e)=>{e!==rn&&n.push(`${e}:${Tn(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return dn(t.children,(t,r)=>{r===rn&&(n=n.concat(e(t,r)))}),dn(t.children,(t,r)=>{r!==rn&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===rn?[Tn(t.children.primary,!1)]:[`${n}:${Tn(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${xn(t)}/${e[0]}`:`${xn(t)}/(${e.join("//")})`}}function kn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function In(t){return kn(t).replace(/%3B/gi,";")}function An(t){return kn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rn(t){return decodeURIComponent(t)}function jn(t){return Rn(t.replace(/\+/g,"%20"))}function Nn(t){return`${An(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${An(t)}=${An(e[t])}`).join("")}`;var e}const Dn=/^[^\/()?;=#]+/;function Pn(t){const e=t.match(Dn);return e?e[0]:""}const Vn=/^[^=?&#]+/,Mn=/^[^?&#]+/;class Ln{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _n([],{}):new _n([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new _n(t,e)),n}parseSegment(){const t=Pn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new wn(Rn(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Pn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Pn(this.remaining);t&&(n=t,this.capture(n))}t[Rn(e)]=Rn(n)}parseQueryParam(t){const e=function(t){const e=t.match(Vn);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Mn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=jn(e),i=jn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Pn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=rn);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new _n([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Fn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Un(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Un(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=qn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return qn(t,this._root).map(t=>t.value)}}function Un(t,e){if(t===e.value)return e;for(const n of e.children){const e=Un(t,n);if(e)return e}return null}function qn(t,e){if(t===e.value)return[e];for(const n of e.children){const r=qn(t,n);if(r.length)return r.unshift(e),r}return[]}class Hn{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Bn(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Qn extends Fn{constructor(t,e){super(t),this.snapshot=e,Yn(this,t)}toString(){return this.snapshot.toString()}}function zn(t,e){const n=function(t,e){const n=new Wn([],{},{},"",{},rn,e,null,t.root,-1,{});return new Kn("",new Hn(n,[]))}(t,e),r=new Pt([new wn("",{})]),i=new Pt({}),o=new Pt({}),s=new Pt({}),a=new Pt(""),u=new Gn(r,i,s,a,o,rn,e,n.root);return u.snapshot=n.root,new Qn(new Hn(u,[]),n)}class Gn{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(ee.a)(t=>sn(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(ee.a)(t=>sn(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $n(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Wn{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=sn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Kn extends Fn{constructor(t,e){super(e),this.url=t,Yn(this,e)}toString(){return Zn(this._root)}}function Yn(t,e){e.value._routerState=t,e.children.forEach(e=>Yn(t,e))}function Zn(t){const e=t.children.length>0?` { ${t.children.map(Zn).join(", ")} } `:"";return`${t.value}${e}`}function Xn(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,cn(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),cn(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!cn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),cn(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Jn(t,e){return cn(t.params,e.params)&&function(t,e){return Sn(t,e)&&t.every((t,n)=>cn(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Jn(t.parent,e.parent))}function tr(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return tr(t,e,r);return tr(t,e)})}(t,e,n);return new Hn(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return er(e,t),t}}const n=new Gn(new Pt((r=e.value).url),new Pt(r.params),new Pt(r.queryParams),new Pt(r.fragment),new Pt(r.data),r.outlet,r.component,r),i=e.children.map(e=>tr(t,e));return new Hn(n,i)}var r}function er(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)er(t.children[n],e.children[n])}function nr(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function rr(t){return"object"==typeof t&&null!=t&&t.outlets}function ir(t,e,n,r,i){let o={};return r&&dn(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new vn(n.root===t?e:or(n.root,t,e),o,i)}function or(t,e,n){const r={};return dn(t.children,(t,i)=>{r[i]=t===e?n:or(t,e,n)}),new _n(t.segments,r)}class sr{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&nr(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(rr);if(r&&r!==fn(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ar{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function ur(t,e,n){if(t||(t=new _n([],{})),0===t.segments.length&&t.hasChildren())return cr(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(rr(s))break;const a=`${s}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!dr(a,u,e))return o;r+=2}else{if(!dr(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new _n(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new _n(t.segments.slice(r.pathIndex),t.children),cr(e,0,i)}return r.match&&0===i.length?new _n(t.segments,{}):r.match&&!t.hasChildren()?lr(t,e,n):r.match?cr(t,0,i):lr(t,e,n)}function cr(t,e,n){if(0===n.length)return new _n(t.segments,{});{const r=function(t){return rr(t[0])?t[0].outlets:{[rn]:t}}(n),i={};return dn(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=ur(t.children[r],e,n))}),dn(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new _n(t.segments,i)}}function lr(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(rr(o)){const t=hr(o.outlets);return new _n(r,t)}if(0===i&&nr(n[0])){r.push(new wn(t.segments[e].path,fr(n[0]))),i++;continue}const s=rr(o)?o.outlets.primary:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&nr(a)?(r.push(new wn(s,fr(a))),i+=2):(r.push(new wn(s,{})),i++)}return new _n(r,{})}function hr(t){const e={};return dn(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=lr(new _n([],{}),0,t))}),e}function fr(t){const e={};return dn(t,(t,n)=>e[n]=`${t}`),e}function dr(t,e,n){return t==n.path&&cn(e,n.parameters)}class pr{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Xn(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Bn(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),dn(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Bn(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=Bn(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new en(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Je(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Xn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),gr(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function gr(t){Xn(t.value),t.children.forEach(gr)}class mr{constructor(t,e){this.routes=t,this.module=e}}function br(t){return"function"==typeof t}function yr(t){return t instanceof vn}const vr=Symbol("INITIAL_VALUE");function _r(){return re(t=>Gt(t.map(t=>t.pipe(ae(1),le(vr)))).pipe(he((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==vr)return t;if(r===vr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||yr(r))return r}return t},t)},vr),pe(t=>t!==vr),Object(ee.a)(t=>yr(t)?t:!0===t),ae(1)))}let wr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Nb(0,"router-outlet")},directives:function(){return[bi]},encapsulation:2}),t})();function Sr(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Cr(r,Er(e,r))}}function Cr(t,e){t.children&&Sr(t.children,e)}function Er(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Or(t){const e=t.children&&t.children.map(Or),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==rn&&(n.component=wr),n}function xr(t){return t.outlet||rn}function Tr(t,e){const n=t.filter(t=>xr(t)===e);return n.push(...t.filter(t=>xr(t)!==e)),n}const kr={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Ir(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},kr):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||un)(n,t,e);if(!i)return Object.assign({},kr);const o={};dn(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Ar(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>Rr(t,e,n)&&xr(n)!==rn)}(t,n,r)){const i=new _n(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&xr(o)!==rn){const n=new _n([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[xr(o)]=n}return i}(t,e,r,new _n(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Rr(t,e,n))}(t,n,r)){const o=new _n(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(Rr(t,n,a)&&!i[xr(a)]){const n=new _n([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[xr(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new _n(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Rr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function jr(t,e,n,r){return!!(xr(t)===r||r!==rn&&Rr(e,n,t))&&("**"===t.path||Ir(e,t,n).matched)}function Nr(t,e,n){return 0===e.length&&!t.children[n]}class Dr{constructor(t){this.segmentGroup=t||null}}class Pr{constructor(t){this.urlTree=t}}function Vr(t){return new Ht.a(e=>e.error(new Dr(t)))}function Mr(t){return new Ht.a(e=>e.error(new Pr(t)))}function Lr(t){return new Ht.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Fr{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.y)}apply(){const t=Ar(this.urlTree.root,[],[],this.config).segmentGroup,e=new _n(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,rn).pipe(Object(ee.a)(t=>this.createUrlTree(Ur(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(be(t=>{if(t instanceof Pr)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Dr)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,rn).pipe(Object(ee.a)(e=>this.createUrlTree(Ur(e),t.queryParams,t.fragment))).pipe(be(t=>{if(t instanceof Dr)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new _n([],{[rn]:t}):t;return new vn(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(ee.a)(t=>new _n([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(Rt.a)(r).pipe(we(r=>{const i=n.children[r],o=Tr(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(Object(ee.a)(t=>({segment:t,outlet:r})))}),he((t,e)=>(t[e.outlet]=e.segment,t),{}),Ne())}expandSegment(t,e,n,r,i,o){return Object(Rt.a)(n).pipe(we(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(be(t=>{if(t instanceof Dr)return Object(jt.a)(null);throw t}))),De(t=>!!t),be((t,n)=>{if(t instanceof Kt||"EmptyError"===t.name){if(Nr(e,r,i))return Object(jt.a)(new _n([],{}));throw new Dr(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return jr(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Vr(e):Vr(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Mr(i):this.lineralizeSegments(n,i).pipe(Object(_e.a)(n=>{const i=new _n(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Ir(e,r,i);if(!s)return Vr(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Mr(l):this.lineralizeSegments(r,l).pipe(Object(_e.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(jt.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(ee.a)(t=>(n._loadedConfig=t,new _n(r,{})))):Object(jt.a)(new _n(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=Ir(e,n,r);if(!o)return Vr(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(_e.a)(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=Ar(e,s,u,o),l=new _n(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe(Object(ee.a)(t=>new _n(s,t)));if(0===o.length&&0===c.length)return Object(jt.a)(new _n(s,{}));const h=xr(n)===i;return this.expandSegment(r,l,o,c,h?rn:i,!0).pipe(Object(ee.a)(t=>new _n(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(jt.a)(new mr(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(jt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(_e.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(ee.a)(t=>(e._loadedConfig=t,t))):function(t){return new Ht.a(e=>e.error(an(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(jt.a)(new mr([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(jt.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&br(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!br(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return pn(o)});return Object(jt.a)(i).pipe(_r(),Object(Pe.a)(t=>{if(!yr(t))return;const e=an(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(ee.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(jt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Lr(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new vn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return dn(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return dn(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new _n(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Ur(t){const e={};for(const n of Object.keys(t.children)){const r=Ur(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new _n(t.segments.concat(e.segments),e.children)}return t}(new _n(t.segments,e))}class qr{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Hr{constructor(t,e){this.component=t,this.route=e}}function Br(t,e,n){const r=t._root;return zr(r,e?e._root:null,n,[r.value])}function Qr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function zr(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Bn(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Sn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Sn(t.url,e.url)||!cn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jn(t,e)||!cn(t.queryParams,e.queryParams);case"paramsChange":default:return!Jn(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new qr(r)):(o.data=s.data,o._resolvedData=s._resolvedData),zr(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Hr(a.outlet.component,s))}else s&&Gr(e,a,i),i.canActivateChecks.push(new qr(r)),zr(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),dn(o,(t,e)=>Gr(t,n.getContext(e),i)),i}function Gr(t,e,n){const r=Bn(t),i=t.value;dn(r,(t,r)=>{Gr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Hr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class $r{}function Wr(t){return new Ht.a(e=>e.error(t))}class Kr{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=Ar(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,rn);if(null===e)return null;const n=new Wn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},rn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Hn(n,e),i=new Kn(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=$n(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=Tr(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=Zr(n);return r.sort((t,e)=>t.value.outlet===rn?-1:e.value.outlet===rn?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return Nr(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!jr(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?fn(n).parameters:{};i=new Wn(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ti(t),xr(t),t.component,t,Xr(e),Jr(e)+n.length,ei(t))}else{const r=Ir(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new Wn(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ti(t),xr(t),t.component,t,Xr(e),Jr(e)+o.length,ei(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Ar(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new Hn(i,t)]}if(0===a.length&&0===c.length)return[new Hn(i,[])];const l=xr(t)===r,h=this.processSegment(a,u,c,l?rn:r);return null===h?null:[new Hn(i,h)]}}function Yr(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Zr(t){const e=[],n=new Set;for(const r of t){if(!Yr(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=Zr(r.children);e.push(new Hn(r.value,t))}return e.filter(t=>!n.has(t))}function Xr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Jr(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function ti(t){return t.data||{}}function ei(t){return t.resolve||{}}function ni(t){return re(e=>{const n=t(e);return n?Object(Rt.a)(n).pipe(Object(ee.a)(()=>e)):Object(jt.a)(e)})}class ri extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const ii=new r.r("ROUTES");class oi{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object(ee.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new mr(hn(i.injector.get(ii,void 0,r.q.Self|r.q.Optional)).map(Or),i)}),be(t=>{throw e._loader$=void 0,t}));return e._loader$=new te.a(n,()=>new Nt.a).pipe(Object(Ve.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object(Rt.a)(this.loader.load(t)):pn(t()).pipe(Object(_e.a)(t=>t instanceof r.w?Object(jt.a)(t):Object(Rt.a)(this.compiler.compileModuleAsync(t))))}}class si{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ai,this.attachRef=null}}class ai{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new si,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class ui{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function ci(t){throw t}function li(t,e,n){return e.parse("/")}function hi(t,e){return Object(jt.a)(null)}let fi=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Nt.a,this.errorHandler=ci,this.malformedUriErrorHandler=li,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:hi,afterPreactivation:hi},this.urlHandlingStrategy=new ui,this.routeReuseStrategy=new ri,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.y),this.console=o.get(r.Z);const c=o.get(r.A);this.isNgZoneEnabled=c instanceof r.A&&r.A.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new vn(new _n([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new oi(s,a,t=>this.triggerEvent(new Ye(t)),t=>this.triggerEvent(new Ze(t))),this.routerState=zn(this.currentUrlTree,this.rootComponentType),this.transitions=new Pt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(pe(t=>0!==t.id),Object(ee.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),re(t=>{let n=!1,r=!1;return Object(jt.a)(t).pipe(Object(Pe.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),re(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(jt.a)(t).pipe(re(t=>{const n=this.transitions.getValue();return e.next(new qe(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Xt.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,re(t=>function(t,e,n,r,i){return new Fr(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(ee.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(Pe.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(_e.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new Kr(t,e,n,r,i,o).recognize();return null===s?Wr(new $r):Object(jt.a)(s)}catch(Pv){return Wr(Pv)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(ee.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Pe.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new ze(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new qe(n,this.serializeUrl(r),i,o);e.next(a);const u=zn(r,this.rootComponentType).snapshot;return Object(jt.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Xt.a}),ni(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Pe.a)(t=>{const e=new Ge(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(ee.a)(t=>Object.assign(Object.assign({},t),{guards:Br(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(_e.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(jt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Rt.a)(t).pipe(Object(_e.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(jt.a)(!0);const s=o.map(o=>{const s=Qr(o,e,i);let a;if(function(t){return t&&br(t.canDeactivate)}(s))a=pn(s.canDeactivate(t,e,n,r));else{if(!br(s))throw new Error("Invalid CanDeactivate guard");a=pn(s(t,e,n,r))}return a.pipe(De())});return Object(jt.a)(s).pipe(_r())}(t.component,t.route,n,e,r)),De(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(_e.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(Rt.a)(e).pipe(we(e=>Zt(function(t,e){return null!==t&&e&&e(new Xe(t)),Object(jt.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new tn(t)),Object(jt.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Jt(()=>{const i=e.guards.map(i=>{const o=Qr(i,e.node,n);let s;if(function(t){return t&&br(t.canActivateChild)}(o))s=pn(o.canActivateChild(r,t));else{if(!br(o))throw new Error("Invalid CanActivateChild guard");s=pn(o(r,t))}return s.pipe(De())});return Object(jt.a)(i).pipe(_r())}));return Object(jt.a)(i).pipe(_r())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(jt.a)(!0);const i=r.map(r=>Jt(()=>{const i=Qr(r,e,n);let o;if(function(t){return t&&br(t.canActivate)}(i))o=pn(i.canActivate(e,t));else{if(!br(i))throw new Error("Invalid CanActivate guard");o=pn(i(e,t))}return o.pipe(De())}));return Object(jt.a)(i).pipe(_r())}(t,e.route,n))),De(t=>!0!==t,!0))}(r,o,t,e):Object(jt.a)(n)),Object(ee.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Pe.a)(t=>{if(yr(t.guardsResult)){const e=an(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new $e(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),pe(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Be(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),ni(t=>{if(t.guards.canActivateChecks.length)return Object(jt.a)(t).pipe(Object(Pe.a)(t=>{const e=new We(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),re(t=>{let n=!1;return Object(jt.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(_e.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(jt.a)(t);let o=0;return Object(Rt.a)(n).pipe(we(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(jt.a)({});const o={};return Object(Rt.a)(i).pipe(Object(_e.a)(i=>function(t,e,n,r){const i=Qr(t,e,r);return pn(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Pe.a)(t=>{o[i]=t}))),Se(1),Object(_e.a)(()=>Object.keys(o).length===i.length?Object(jt.a)(o):Xt.a))}(t._resolve,t,e,r).pipe(Object(ee.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),$n(t,n).resolve),null)))}(t.route,e,r,i)),Object(Pe.a)(()=>o++),Se(1),Object(_e.a)(e=>o===n.length?Object(jt.a)(t):Xt.a))})),Object(Pe.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Be(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Pe.a)(t=>{const e=new Ke(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),ni(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(ee.a)(t=>{const e=function(t,e,n){const r=tr(t,e._root,n?n._root:void 0);return new Qn(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Pe.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(ee.a)(t=>(new pr(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Object(Pe.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Be(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Le(i))),be(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=yr(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Be(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Qe(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(rh){t.reject(rh)}}var i;return Xt.a}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Sr(t),this.config=t.map(Or),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return ir(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new sr(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return dn(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new sr(n,e,r)}(n);if(o.toRoot())return ir(e.root,new _n([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new ar(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new ar(t,t===e.root,0)}const r=nr(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new ar(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?cr(s.segmentGroup,s.index,o.commands):ur(s.segmentGroup,s.index,o.commands);return ir(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=yr(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(Pv){e=this.malformedUriErrorHandler(Pv,this.urlSerializer,t)}return e}isActive(t,e){if(yr(t))return gn(this.currentUrlTree,t,e);const n=this.parseUrl(t);return gn(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new He(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(r.O),r.Vb(Cn),r.Vb(ai),r.Vb(w),r.Vb(r.s),r.Vb(r.x),r.Vb(r.i),r.Vb(void 0))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),di=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new Nt.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:gi(this.skipLocationChange),replaceUrl:gi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:gi(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(fi),r.Mb(Gn),r.Wb("tabindex"),r.Mb(r.F),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.Yb("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.Ab]}),t})(),pi=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new Nt.a,this.subscription=t.events.subscribe(t=>{t instanceof He&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:gi(this.skipLocationChange),replaceUrl:gi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:gi(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(fi),r.Mb(Gn),r.Mb(m))},t.\u0275dir=r.Hb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Yb("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Ub("href",e.href,r.oc),r.Db("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.Ab]}),t})();function gi(t){return""===t||!!t}let mi=(()=>{class t{constructor(t,e,n,r,i,o){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof He&&this.update()})}ngAfterContentInit(){Object(jt.a)(this.links.changes,this.linksWithHrefs.changes,Object(jt.a)(null)).pipe(Object(Yt.a)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=Object(Rt.a)(e).pipe(Object(Yt.a)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(fi),r.Mb(r.l),r.Mb(r.F),r.Mb(r.h),r.Mb(di,8),r.Mb(pi,8))},t.\u0275dir=r.Hb({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){if(1&t&&(r.Fb(n,di,1),r.Fb(n,pi,1)),2&t){let t;r.lc(t=r.Zb())&&(e.links=t),r.lc(t=r.Zb())&&(e.linksWithHrefs=t)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[r.Ab]}),t})(),bi=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||rn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new yi(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(ai),r.Mb(r.R),r.Mb(r.j),r.Wb("name"),r.Mb(r.h))},t.\u0275dir=r.Hb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class yi{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Gn?this.route:t===ai?this.childContexts:this.parent.get(t,e)}}class vi{}class _i{preload(t,e){return Object(jt.a)(null)}}let wi=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new oi(e,n,e=>t.triggerEvent(new Ye(e)),e=>t.triggerEvent(new Ze(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(pe(t=>t instanceof He),we(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(Rt.a)(n).pipe(Object(Yt.a)(),Object(ee.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Object(jt.a)(e._loadedConfig):this.loader.load(t.injector,e)).pipe(Object(_e.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(fi),r.Vb(r.x),r.Vb(r.i),r.Vb(r.s),r.Vb(vi))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),Si=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof qe?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof He&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof nn&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new nn(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(fi),r.Vb(Z),r.Vb(void 0))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const Ci=new r.r("ROUTER_CONFIGURATION"),Ei=new r.r("ROUTER_FORROOT_GUARD"),Oi=[w,{provide:Cn,useClass:En},{provide:fi,useFactory:function(t,e,n,r,i,s,a,u={},c,l){const h=new fi(null,t,e,n,r,i,s,hn(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[Cn,ai,w,r.s,r.x,r.i,ii,Ci,[class{},new r.B],[class{},new r.B]]},ai,{provide:Gn,useFactory:function(t){return t.routerState.root},deps:[fi]},{provide:r.x,useClass:r.L},wi,_i,class{preload(t,e){return e().pipe(be(()=>Object(jt.a)(null)))}},{provide:Ci,useValue:{enableTracing:!1}}];function xi(){return new r.z("Router",fi)}let Ti=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Oi,Ri(e),{provide:Ei,useFactory:Ai,deps:[[fi,new r.B,new r.K]]},{provide:Ci,useValue:n||{}},{provide:m,useFactory:Ii,deps:[a,[new r.p(y),new r.B],Ci]},{provide:Si,useFactory:ki,deps:[fi,Z,Ci]},{provide:vi,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:_i},{provide:r.z,multi:!0,useFactory:xi},[ji,{provide:r.d,multi:!0,useFactory:Ni,deps:[ji]},{provide:Pi,useFactory:Di,deps:[ji]},{provide:r.b,multi:!0,useExisting:Pi}]]}}static forChild(e){return{ngModule:t,providers:[Ri(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(Ei,8),r.Vb(fi,8))},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})();function ki(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Si(t,e,n)}function Ii(t,e,n={}){return n.useHash?new _(t,e):new v(t,e)}function Ai(t){return"guarded"}function Ri(t){return[{provide:r.a,multi:!0,useValue:t},{provide:ii,multi:!0,useValue:t}]}let ji=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Nt.a}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(fi),r=this.injector.get(Ci);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(jt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Ci),n=this.injector.get(wi),i=this.injector.get(Si),o=this.injector.get(fi),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(r.s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();function Ni(t){return t.appInitializer.bind(t)}function Di(t){return t.bootstrapListener.bind(t)}const Pi=new r.r("Router Initializer");let Vi=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-about"]],decls:62,vars:0,consts:[[1,"container","mx-auto","my-8","bg-secondary","p-6"],[1,"rounded","relative","flex","flex-col"],[1,"font-bold","mb-2","text-3xl"],[1,"text-gray-400","mb-6"],[1,"relative"],["src","https://images.unsplash.com/photo-1542751371-adc38448a05e?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MTZ8fHZpZGVvJTIwZ2FtZXN8ZW58MHx8MHx8&auto=format&fit=crop&w=500&q=60","alt","",1,"vjs-theme-forest","mx-auto",2,"width","100%","height","250px"],["controls","","data-setup","{}",1,"video-js","vjs-theme-forest","mx-auto"],["src","assets/video/hero.webm","type","video/webm"],[1,"container","mx-auto","my-8"],[1,"mt-6","text-2xl"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-4"],["routerLink","/clip/b",1,"mt-6","rounded-tl-2xl","rounded-br-2xl","shadow-xl","bg-secondary","transform","hover:-translate-y-2","hover:shadow-2xl","transition","duration-300"],["src","https://images.pexels.com/photos/228963/pexels-photo-228963.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500",1,"card-img-top","rounded-tl-2xl","w-full"],[1,"absolute","pointer-events-none","bottom-full","w-full","bg-secondary","text-white"],[1,"absolute","bottom-full","w-full","pb-5","overflow-hidden"],["viewBox","0 0 100 50","preserveAspectRatio","none",1,"absolute","bottom-0","w-full","h-full","tranform",2,"transform-origin","top center","transform","scale(2)"],["d","M0 25h25L75 0h25v50H0z","fill","#283046"],[1,"p-8"],[1,"text-3xl","mb-2"],[1,"mb-0"],[1,"text-gray-400"],["href","#",1,"mt-6","rounded-tl-2xl","rounded-br-2xl","shadow-xl","bg-secondary","transform","hover:-translate-y-2","hover:shadow-2xl","transition","duration-300"],["src","https://images.pexels.com/photos/442576/pexels-photo-442576.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500",1,"card-img-top","rounded-tl-2xl","w-full"],["src","https://images.pexels.com/photos/275033/pexels-photo-275033.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500",1,"card-img-top","rounded-tl-2xl","w-full"],["width","1260","height","315","src","https://www.youtube.com/embed/HhD9WQTfUQ0","title","YouTube video player","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture","allowfullscreen",""]],template:function(t,e){1&t&&(r.Rb(0,"section",0),r.Rb(1,"div",1),r.Rb(2,"h1",2),r.sc(3," upload je favorite videos and share with friends "),r.Qb(),r.Nb(4,"hr"),r.Rb(5,"div",3),r.Rb(6,"p"),r.sc(7,"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Autem rem, modi accusantium provident nesciunt maiores excepturi sunt ratione beatae atque reiciendis dolores. Libero, sunt. "),r.Qb(),r.Rb(8,"p"),r.sc(9,"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Autem rem, modi accusantium provident nesciunt maiores excepturi sunt ratione beatae atque reiciendis dolores. Libero, sunt. "),r.Qb(),r.Rb(10,"div",4),r.Nb(11,"img",5),r.Qb(),r.Qb(),r.Rb(12,"div",4),r.Rb(13,"video",6),r.Nb(14,"source",7),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(15,"div",8),r.Rb(16,"h2",9),r.sc(17,"More Clips"),r.Qb(),r.Rb(18,"div",10),r.Rb(19,"a",11),r.Nb(20,"img",12),r.Rb(21,"div",4),r.Rb(22,"div",13),r.Rb(23,"div",14),r.bc(),r.Rb(24,"svg",15),r.Nb(25,"path",16),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.ac(),r.Rb(26,"div",17),r.Rb(27,"h2",18),r.sc(28," Game Highlighting Clip "),r.Qb(),r.Rb(29,"p",19),r.sc(30," Luis Ramirez \xb7 "),r.Rb(31,"span",20),r.sc(32,"March 31, 2020"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(33,"a",21),r.Nb(34,"img",22),r.Rb(35,"div",4),r.Rb(36,"div",13),r.Rb(37,"div",14),r.bc(),r.Rb(38,"svg",15),r.Nb(39,"path",16),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.ac(),r.Rb(40,"div",17),r.Rb(41,"h2",18),r.sc(42," Game Highlighting Clip "),r.Qb(),r.Rb(43,"p",19),r.sc(44," Luis Ramirez \xb7 "),r.Rb(45,"span",20),r.sc(46,"March 31, 2020"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(47,"a",21),r.Nb(48,"img",23),r.Rb(49,"div",4),r.Rb(50,"div",13),r.Rb(51,"div",14),r.bc(),r.Rb(52,"svg",15),r.Nb(53,"path",16),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.ac(),r.Rb(54,"div",17),r.Rb(55,"h2",18),r.sc(56," Game Highlighting Clip "),r.Qb(),r.Rb(57,"p",19),r.sc(58," Luis Ramirez \xb7 "),r.Rb(59,"span",20),r.sc(60,"March 31, 2020"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Nb(61,"iframe",24),r.Qb(),r.Qb())},directives:[pi],styles:["iframe[_ngcontent-%COMP%]{width:1306px;height:450px;margin-top:253px;margin-bottom:20px;display:flex;justify-content:center}p[_ngcontent-%COMP%]{padding:25px;font-size:26px;font-weight:700}h1[_ngcontent-%COMP%]{margin-bottom:23px}"]}),t})(),Mi=(()=>{class t{constructor(t){this.route=t,this.id=""}ngOnInit(){this.route.params.subscribe(t=>{this.id=t.id})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Gn))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-clip"]],decls:57,vars:1,consts:[[1,"container","mx-auto","my-8","bg-secondary","p-6"],[1,"rounded","relative","flex","flex-col"],[1,"font-bold","mb-2","text-3xl"],[1,"text-gray-400","mb-6"],[1,"relative"],["controls","","data-setup","{}",1,"video-js","vjs-theme-forest","mx-auto"],["src","assets/video/hero.webm","type","video/webm"],[1,"container","mx-auto","my-8"],[1,"mt-6","text-2xl"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-4"],["routerLink","/clip/b",1,"mt-6","rounded-tl-2xl","rounded-br-2xl","shadow-xl","bg-secondary","transform","hover:-translate-y-2","hover:shadow-2xl","transition","duration-300"],["src","assets/img/1.jpg",1,"card-img-top","rounded-tl-2xl","w-full"],[1,"absolute","pointer-events-none","bottom-full","w-full","bg-secondary","text-white"],[1,"absolute","bottom-full","w-full","pb-5","overflow-hidden"],["viewBox","0 0 100 50","preserveAspectRatio","none",1,"absolute","bottom-0","w-full","h-full","tranform",2,"transform-origin","top center","transform","scale(2)"],["d","M0 25h25L75 0h25v50H0z","fill","#283046"],[1,"p-8"],[1,"text-3xl","mb-2"],[1,"mb-0"],[1,"text-gray-400"],["href","#",1,"mt-6","rounded-tl-2xl","rounded-br-2xl","shadow-xl","bg-secondary","transform","hover:-translate-y-2","hover:shadow-2xl","transition","duration-300"],["src","assets/img/2.jpg",1,"card-img-top","rounded-tl-2xl","w-full"],["src","assets/img/3.jpg",1,"card-img-top","rounded-tl-2xl","w-full"]],template:function(t,e){1&t&&(r.Rb(0,"section",0),r.Rb(1,"div",1),r.Rb(2,"h1",2),r.sc(3),r.Qb(),r.Rb(4,"div",3),r.sc(5," Uploaded By Luis on "),r.Rb(6,"span"),r.sc(7,"March 25, 2022"),r.Qb(),r.Qb(),r.Rb(8,"div",4),r.Rb(9,"video",5),r.Nb(10,"source",6),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(11,"div",7),r.Rb(12,"h2",8),r.sc(13,"More Clips"),r.Qb(),r.Rb(14,"div",9),r.Rb(15,"a",10),r.Nb(16,"img",11),r.Rb(17,"div",4),r.Rb(18,"div",12),r.Rb(19,"div",13),r.bc(),r.Rb(20,"svg",14),r.Nb(21,"path",15),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.ac(),r.Rb(22,"div",16),r.Rb(23,"h2",17),r.sc(24," Game Highlighting Clip "),r.Qb(),r.Rb(25,"p",18),r.sc(26," Luis Ramirez \xb7 "),r.Rb(27,"span",19),r.sc(28,"March 31, 2020"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(29,"a",20),r.Nb(30,"img",21),r.Rb(31,"div",4),r.Rb(32,"div",12),r.Rb(33,"div",13),r.bc(),r.Rb(34,"svg",14),r.Nb(35,"path",15),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.ac(),r.Rb(36,"div",16),r.Rb(37,"h2",17),r.sc(38," Game Highlighting Clip "),r.Qb(),r.Rb(39,"p",18),r.sc(40," Luis Ramirez \xb7 "),r.Rb(41,"span",19),r.sc(42,"March 31, 2020"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(43,"a",20),r.Nb(44,"img",22),r.Rb(45,"div",4),r.Rb(46,"div",12),r.Rb(47,"div",13),r.bc(),r.Rb(48,"svg",14),r.Nb(49,"path",15),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.ac(),r.Rb(50,"div",16),r.Rb(51,"h2",17),r.sc(52," Game Highlighting Clip "),r.Qb(),r.Rb(53,"p",18),r.sc(54," Luis Ramirez \xb7 "),r.Rb(55,"span",19),r.sc(56,"March 31, 2020"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&t&&(r.Cb(3),r.uc(" ",e.id," "))},directives:[pi],styles:[""]}),t})();const Li=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-home"]],decls:104,vars:0,consts:[[1,"relative","overflow-hidden","mb-2"],["autoplay","","muted","","loop","",1,"w-full","h-full","object-cover","absolute","z-0"],["src","assets/video/hero.webm","type","video/webm"],[1,"bg-gradient","absolute","w-full","h-full","z-40","opacity-60"],[1,"w-full","h-full","absolute","z-40"],[1,"cube"],[1,"container","mx-auto","relative","z-50"],[1,"text-center","px-20","py-60","w-full","md:w-8/12","mx-auto"],[1,"text-7xl","font-bold","uppercase","mb-2"],[1,"container","mx-auto"],[1,"uppercase","text-center","text-4xl","grid","mt-20","mb-12","items-center","gap-8","tracking-widest","latest"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-4"],["href","#",1,"mt-6","rounded-tl-2xl","rounded-br-2xl","shadow-xl","bg-secondary","transform","hover:-translate-y-2","hover:shadow-2xl","transition","duration-300"],["src","https://images.pexels.com/photos/19677/pexels-photo.jpg?auto=compress&cs=tinysrgb&dpr=1&w=500",1,"card-img-top","rounded-tl-2xl","w-full"],[1,"relative"],[1,"absolute","pointer-events-none","bottom-full","w-full","bg-secondary","text-white"],[1,"absolute","bottom-full","w-full","pb-5","overflow-hidden"],["viewBox","0 0 100 50","preserveAspectRatio","none",1,"absolute","bottom-0","w-full","h-full","tranform",2,"transform-origin","top center","transform","scale(2)"],["d","M0 25h25L75 0h25v50H0z","fill","#283046"],[1,"p-8"],[1,"text-3xl","mb-2"],[1,"mb-0"],[1,"text-gray-400"],["src","https://images.pexels.com/photos/163036/mario-luigi-yoschi-figures-163036.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500",1,"card-img-top","rounded-tl-2xl","w-full"],["src","https://images.pexels.com/photos/139038/pexels-photo-139038.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500",1,"card-img-top","rounded-tl-2xl","w-full"],["src","https://images.pexels.com/photos/371924/pexels-photo-371924.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500",1,"card-img-top","rounded-tl-2xl","w-full"],["src","https://images.pexels.com/photos/596750/pexels-photo-596750.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500",1,"card-img-top","rounded-tl-2xl","w-full"],["src","https://images.pexels.com/photos/3977908/pexels-photo-3977908.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500",1,"card-img-top","rounded-tl-2xl","w-full"]],template:function(t,e){1&t&&(r.Rb(0,"section",0),r.Rb(1,"video",1),r.Nb(2,"source",2),r.Qb(),r.Nb(3,"div",3),r.Rb(4,"div",4),r.Nb(5,"div",5),r.Nb(6,"div",5),r.Nb(7,"div",5),r.Nb(8,"div",5),r.Nb(9,"div",5),r.Qb(),r.Rb(10,"div",6),r.Rb(11,"div",7),r.Rb(12,"h1",8),r.sc(13,"Clip it and ship it!"),r.Qb(),r.Rb(14,"p"),r.sc(15," The #1 app to watch, clip, and share your awesome gaming moments with your friends and the world! With our world-class tools, we make it incredibly easy to share your videos. Get started today! "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(16,"section",9),r.Rb(17,"h1",10),r.sc(18,"Latest"),r.Qb(),r.Rb(19,"div",11),r.Rb(20,"a",12),r.Nb(21,"img",13),r.Rb(22,"div",14),r.Rb(23,"div",15),r.Rb(24,"div",16),r.bc(),r.Rb(25,"svg",17),r.Nb(26,"path",18),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.ac(),r.Rb(27,"div",19),r.Rb(28,"h2",20),r.sc(29," Game Highlighting Clip "),r.Qb(),r.Rb(30,"p",21),r.sc(31," Luis Ramirez \xb7 "),r.Rb(32,"span",22),r.sc(33,"March 31, 2020"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(34,"a",12),r.Nb(35,"img",23),r.Rb(36,"div",14),r.Rb(37,"div",15),r.Rb(38,"div",16),r.bc(),r.Rb(39,"svg",17),r.Nb(40,"path",18),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.ac(),r.Rb(41,"div",19),r.Rb(42,"h2",20),r.sc(43," Game Highlighting Clip "),r.Qb(),r.Rb(44,"p",21),r.sc(45," Luis Ramirez \xb7 "),r.Rb(46,"span",22),r.sc(47,"March 31, 2020"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(48,"a",12),r.Nb(49,"img",24),r.Rb(50,"div",14),r.Rb(51,"div",15),r.Rb(52,"div",16),r.bc(),r.Rb(53,"svg",17),r.Nb(54,"path",18),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.ac(),r.Rb(55,"div",19),r.Rb(56,"h2",20),r.sc(57," Game Highlighting Clip "),r.Qb(),r.Rb(58,"p",21),r.sc(59," Luis Ramirez \xb7 "),r.Rb(60,"span",22),r.sc(61,"March 31, 2020"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(62,"a",12),r.Nb(63,"img",25),r.Rb(64,"div",14),r.Rb(65,"div",15),r.Rb(66,"div",16),r.bc(),r.Rb(67,"svg",17),r.Nb(68,"path",18),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.ac(),r.Rb(69,"div",19),r.Rb(70,"h2",20),r.sc(71," Game Highlighting Clip "),r.Qb(),r.Rb(72,"p",21),r.sc(73," Luis Ramirez \xb7 "),r.Rb(74,"span",22),r.sc(75,"March 31, 2020"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(76,"a",12),r.Nb(77,"img",26),r.Rb(78,"div",14),r.Rb(79,"div",15),r.Rb(80,"div",16),r.bc(),r.Rb(81,"svg",17),r.Nb(82,"path",18),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.ac(),r.Rb(83,"div",19),r.Rb(84,"h2",20),r.sc(85," Game Highlighting Clip "),r.Qb(),r.Rb(86,"p",21),r.sc(87," Luis Ramirez \xb7 "),r.Rb(88,"span",22),r.sc(89,"March 31, 2020"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(90,"a",12),r.Nb(91,"img",27),r.Rb(92,"div",14),r.Rb(93,"div",15),r.Rb(94,"div",16),r.bc(),r.Rb(95,"svg",17),r.Nb(96,"path",18),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.ac(),r.Rb(97,"div",19),r.Rb(98,"h2",20),r.sc(99," Game Highlighting Clip "),r.Qb(),r.Rb(100,"p",21),r.sc(101," Luis Ramirez \xb7 "),r.Rb(102,"span",22),r.sc(103,"March 31, 2020"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb())},styles:[""]}),t})()},{path:"about",component:Vi},{path:"clip/:id",component:Mi},{path:"**",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-not-found"]],decls:20,vars:0,consts:[[1,"relative","m-auto","left-0","right-0","z-10","w-36","h-52","border-indigo-400","border-4","top-32","ghost"],[1,"absolute","left-0","right-0","bottom-10","m-auto","text-center","text-4xl","font-bold"],[1,"rounded-full","absolute","left-0","right-0","w-3","h-3","bg-indigo-400","mx-auto","mt-10","transform","translate-x-6"],[1,"rounded-full","absolute","left-0","right-0","w-3","h-3","bg-indigo-400","mx-auto","mt-10","transform","-translate-x-6"],[1,"w-10","h-2","rounded-lg","absolute","left-0","right-0","mx-auto","mt-20","bg-indigo-400"],[1,"corner","border-indigo-400","border-4"],[1,"corner","two","border-indigo-400","border-4"],[1,"corner","three","border-indigo-400","border-4"],[1,"corner","four","border-indigo-400","border-4"],[1,"over"],[1,"over","two"],[1,"over","three"],[1,"over","four"],[1,"ghost-shadow","w-32","h-10","mx-auto","mt-56","rounded","bg-indigo-400","left-0","right-0","absolute"],[1,"container","mx-auto","text-center","mt-60"],[1,"text-4xl","font-bold","mb-4"]],template:function(t,e){1&t&&(r.Rb(0,"div",0),r.Rb(1,"span",1),r.sc(2,"404"),r.Qb(),r.Nb(3,"div",2),r.Nb(4,"div",3),r.Nb(5,"div",4),r.Nb(6,"div",5),r.Nb(7,"div",6),r.Nb(8,"div",7),r.Nb(9,"div",8),r.Nb(10,"div",9),r.Nb(11,"div",10),r.Nb(12,"div",11),r.Nb(13,"div",12),r.Nb(14,"div",13),r.Qb(),r.Rb(15,"div",14),r.Rb(16,"h2",15),r.sc(17,"Page not found"),r.Qb(),r.Rb(18,"p"),r.sc(19," Looks like the page you're looking for is gone or doesn't exist. "),r.Qb(),r.Qb())},styles:[""]}),t})()}];let Fi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[Ti.forRoot(Li)],Ti]}),t})();var Ui=n("mrSG"),qi=n("D0XW"),Hi=n("WMd4");class Bi{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new Qi(t,this.delay,this.scheduler))}}class Qi extends Lt.a{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,r=t.scheduler,i=t.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){const e=Math.max(0,n[0].time-r.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(Qi.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new zi(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(Hi.a.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(Hi.a.createComplete()),this.unsubscribe()}}class zi{constructor(t,e){this.time=t,this.notification=e}}var Gi=n("VRyK"),$i=n("pxpQ"),Wi=n("qgXg"),Ki=n("Ylt2");class Yi extends Nt.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Zi(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new Dt.a;if(this.isStopped||this.hasError?o=Me.a.EMPTY:(this.observers.push(t),o=new Ki.a(this,t)),r&&t.add(t=new $i.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||Wi.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class Zi{constructor(t,e){this.time=t,this.value=e}}function Xi(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new Yi(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}}),u&&(o=void 0)):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),l=void 0,o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function Ji(t,e){return e?re(()=>t,e):re(()=>t)}var to=n("tf+s"),eo=n("spgP");const no=new r.r("angularfire2.auth.use-emulator"),ro=new r.r("angularfire2.auth.settings"),io=new r.r("angularfire2.auth.tenant-id"),oo=new r.r("angularfire2.auth.langugage-code"),so=new r.r("angularfire2.auth.use-device-language"),ao=new r.r("angularfire.auth.persistence");let uo=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new eo.d(i),f=Object(eo.h)(h),d=new Nt.a,p=Object(jt.a)(void 0).pipe(Object($i.b)(h.outsideAngular),re(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(ee.a)(()=>Object(eo.g)(t,i,e)),Object(ee.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(eo.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());if(e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n)for(const[t,e]of Object.entries(n))r.settings[t]=e;return l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),Xi({bufferSize:1,refCount:!1}));if(Y(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(jt.a)(null);else{p.pipe(De()).subscribe();const t=p.pipe(re(t=>t.getRedirectResult().then(t=>t,()=>null)),f,Xi({bufferSize:1,refCount:!1})),e=t=>new Ht.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(re(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(re(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Ji(n),Object(to.a)(h.outsideAngular),Object($i.b)(h.insideAngular)),this.user=t.pipe(Ji(r),Object(to.a)(h.outsideAngular),Object($i.b)(h.insideAngular)),this.idToken=this.user.pipe(re(t=>t?Object(Rt.a)(t.getIdToken()):Object(jt.a)(null))),this.idTokenResult=this.user.pipe(re(t=>t?Object(Rt.a)(t.getIdTokenResult()):Object(jt.a)(null))),this.credential=Object(Gi.a)(t,d,this.authState.pipe(pe(t=>!t))).pipe(Object(ee.a)(t=>(null==t?void 0:t.user)?t:null),Object(to.a)(h.outsideAngular),Object($i.b)(h.insideAngular))}return Object(eo.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(eo.c),r.Vb(eo.b,8),r.Vb(r.C),r.Vb(r.A),r.Vb(no,8),r.Vb(ro,8),r.Vb(io,8),r.Vb(oo,8),r.Vb(so,8),r.Vb(ao,8))},t.\u0275prov=r.Ib({factory:function(){return new t(r.Vb(eo.c),r.Vb(eo.b,8),r.Vb(r.C),r.Vb(r.A),r.Vb(no,8),r.Vb(ro,8),r.Vb(io,8),r.Vb(oo,8),r.Vb(so,8),r.Vb(ao,8))},token:t,providedIn:"any"}),t})();Object(eo.e)(uo,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);let co=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[uo]}),t})();function lo(){return t=>t.lift(new ho)}class ho{call(t,e){return e.subscribe(new fo(t))}}class fo extends Lt.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class po{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new go(t,this.compare,this.keySelector))}}class go extends Lt.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var mo=n("Jgta"),bo=n("zIRd"),yo=n("qOnz"),vo=n("q/0M"),_o=function(t,e){return(_o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function wo(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var So,Co="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Eo=Eo||{},Oo=Co||self;function xo(){}function To(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function ko(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Io="closure_uid_"+(1e9*Math.random()>>>0),Ao=0;function Ro(t,e,n){return t.call.apply(t.bind,arguments)}function jo(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function No(t,e,n){return(No=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ro:jo).apply(null,arguments)}function Do(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Po(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Vo(){this.s=this.s,this.o=this.o}var Mo={};Vo.prototype.s=!1,Vo.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,Io)&&t[Io]||(t[Io]=++Ao)}(this);delete Mo[t]}},Vo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Lo=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Fo=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Uo(t){return Array.prototype.concat.apply([],arguments)}function qo(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ho(t){return/^[\s\xa0]*$/.test(t)}var Bo,Qo=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function zo(t,e){return-1!=t.indexOf(e)}function Go(t,e){return t<e?-1:t>e?1:0}t:{var $o=Oo.navigator;if($o){var Wo=$o.userAgent;if(Wo){Bo=Wo;break t}}Bo=""}function Ko(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Yo(t){var e={};for(var n in t)e[n]=t[n];return e}var Zo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xo(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Zo.length;o++)n=Zo[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Jo(t){return Jo[" "](t),t}Jo[" "]=xo;var ts,es,ns=zo(Bo,"Opera"),rs=zo(Bo,"Trident")||zo(Bo,"MSIE"),is=zo(Bo,"Edge"),os=is||rs,ss=zo(Bo,"Gecko")&&!(zo(Bo.toLowerCase(),"webkit")&&!zo(Bo,"Edge"))&&!(zo(Bo,"Trident")||zo(Bo,"MSIE"))&&!zo(Bo,"Edge"),as=zo(Bo.toLowerCase(),"webkit")&&!zo(Bo,"Edge");function us(){var t=Oo.document;return t?t.documentMode:void 0}t:{var cs="",ls=(es=Bo,ss?/rv:([^\);]+)(\)|;)/.exec(es):is?/Edge\/([\d\.]+)/.exec(es):rs?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(es):as?/WebKit\/(\S+)/.exec(es):ns?/(?:Version)[ \/]?(\S+)/.exec(es):void 0);if(ls&&(cs=ls?ls[1]:""),rs){var hs=us();if(null!=hs&&hs>parseFloat(cs)){ts=String(hs);break t}}ts=cs}var fs={};var ds=Oo.document&&rs&&(us()||parseInt(ts,10))||void 0,ps=function(){if(!Oo.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Oo.addEventListener("test",xo,e),Oo.removeEventListener("test",xo,e)}catch(n){}return t}();function gs(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function ms(t,e){if(gs.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(ss){t:{try{Jo(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:bs[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ms.Z.h.call(this)}}gs.prototype.h=function(){this.defaultPrevented=!0},Po(ms,gs);var bs={2:"touch",3:"pen",4:"mouse"};ms.prototype.h=function(){ms.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ys="closure_listenable_"+(1e6*Math.random()|0),vs=0;function _s(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++vs,this.ca=this.fa=!1}function ws(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Ss(t){this.src=t,this.g={},this.h=0}function Cs(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=Lo(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ws(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Es(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}Ss.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=Es(t,e,r,i);return-1<s?(e=t[s],n||(e.fa=!1)):((e=new _s(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var Os="closure_lm_"+(1e6*Math.random()|0),xs={};function Ts(t,e,n,r,i){if(r&&r.once)return Is(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ts(t,e[o],n,r,i);return null}return n=Vs(n),t&&t[ys]?t.N(e,n,ko(r)?!!r.capture:!!r,i):ks(t,e,n,!1,r,i)}function ks(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=ko(i)?!!i.capture:!!i,a=Ds(t);if(a||(t[Os]=a=new Ss(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Ns;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ps||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(js(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Is(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Is(t,e[o],n,r,i);return null}return n=Vs(n),t&&t[ys]?t.O(e,n,ko(r)?!!r.capture:!!r,i):ks(t,e,n,!0,r,i)}function As(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)As(t,e[o],n,r,i);else r=ko(r)?!!r.capture:!!r,n=Vs(n),t&&t[ys]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Es(o=t.g[e],n,r,i))&&(ws(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=Ds(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Es(e,n,r,i)),(n=-1<t?e[t]:null)&&Rs(n))}function Rs(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[ys])Cs(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(js(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ds(e))?(Cs(n,t),0==n.h&&(n.src=null,e[Os]=null)):ws(t)}}}function js(t){return t in xs?xs[t]:xs[t]="on"+t}function Ns(t,e){if(t.ca)t=!0;else{e=new ms(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&Rs(t),t=n.call(r,e)}return t}function Ds(t){return(t=t[Os])instanceof Ss?t:null}var Ps="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vs(t){return"function"==typeof t?t:(t[Ps]||(t[Ps]=function(e){return t.handleEvent(e)}),t[Ps])}function Ms(){Vo.call(this),this.i=new Ss(this),this.P=this,this.I=null}function Ls(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new gs(e,t);else if(e instanceof gs)e.target=e.target||t;else{var i=e;Xo(e=new gs(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Fs(s,r,!0,e)&&i}if(i=Fs(s=e.g=t,r,!0,e)&&i,i=Fs(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Fs(s=e.g=n[o],r,!1,e)&&i}function Fs(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,u=s.ia||s.src;s.fa&&Cs(t.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Po(Ms,Vo),Ms.prototype[ys]=!0,Ms.prototype.removeEventListener=function(t,e,n,r){As(this,t,e,n,r)},Ms.prototype.M=function(){if(Ms.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)ws(n[r]);delete e.g[t],e.h--}}this.I=null},Ms.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Ms.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Us=Oo.JSON.stringify;function qs(){var t=Ks,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Hs,Bs=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=Qs.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),Qs=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,this.g=(t=this.g).next,t.next=null):t=this.i(),t},t}())(function(){return new zs},function(t){return t.reset()}),zs=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function Gs(t){Oo.setTimeout(function(){throw t},0)}function $s(t,e){Hs||function(){var t=Oo.Promise.resolve(void 0);Hs=function(){t.then(Ys)}}(),Ws||(Hs(),Ws=!0),Ks.add(t,e)}var Ws=!1,Ks=new Bs;function Ys(){for(var t;t=qs();){try{t.h.call(t.g)}catch(n){Gs(n)}var e=Qs;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ws=!1}function Zs(t,e){Ms.call(this),this.h=t||1,this.g=e||Oo,this.j=No(this.kb,this),this.l=Date.now()}function Xs(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function Js(t,e,n){if("function"==typeof t)n&&(t=No(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=No(t.handleEvent,t)}return 2147483647<Number(e)?-1:Oo.setTimeout(t,e||0)}function ta(t){t.g=Js(function(){t.g=null,t.i&&(t.i=!1,ta(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}Po(Zs,Ms),(So=Zs.prototype).da=!1,So.S=null,So.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ls(this,"tick"),this.da&&(Xs(this),this.start()))}},So.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},So.M=function(){Zs.Z.M.call(this),Xs(this),delete this.g};var ea=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}_o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:ta(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(Oo.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(Vo);function na(t){Vo.call(this),this.h=t,this.g={}}Po(na,Vo);var ra=[];function ia(t,e,n,r){Array.isArray(n)||(n&&(ra[0]=n.toString()),n=ra);for(var i=0;i<n.length;i++){var o=Ts(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function oa(t){Ko(t.g,function(t,e){this.g.hasOwnProperty(e)&&Rs(t)},t),t.g={}}function sa(){this.g=!0}function aa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Us(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}na.prototype.M=function(){na.Z.M.call(this),oa(this)},na.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},sa.prototype.Aa=function(){this.g=!1},sa.prototype.info=function(){};var ua={},ca=null;function la(){return ca=ca||new Ms}function ha(t){gs.call(this,ua.Ma,t)}function fa(t){var e=la();Ls(e,new ha(e,t))}function da(t,e){gs.call(this,ua.STAT_EVENT,t),this.stat=e}function pa(t){var e=la();Ls(e,new da(e,t))}function ga(t,e){gs.call(this,ua.Na,t),this.size=e}function ma(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Oo.setTimeout(function(){t()},e)}ua.Ma="serverreachability",Po(ha,gs),ua.STAT_EVENT="statevent",Po(da,gs),ua.Na="timingevent",Po(ga,gs);var ba={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ya={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function va(){}function _a(){}va.prototype.h=null;var wa,Sa={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ca(){gs.call(this,"d")}function Ea(){gs.call(this,"c")}function Oa(){}function xa(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new na(this),this.P=ka,this.W=new Zs(t=os?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ta}function Ta(){this.i=null,this.g="",this.h=!1}Po(Ca,gs),Po(Ea,gs),Po(Oa,va),Oa.prototype.g=function(){return new XMLHttpRequest},Oa.prototype.i=function(){return{}},wa=new Oa;var ka=45e3,Ia={},Aa={};function Ra(t,e,n){t.K=1,t.v=tu(Wa(e)),t.s=n,t.U=!0,ja(t,null)}function ja(t,e){t.F=Date.now(),Va(t),t.A=Wa(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),du(n.h,"t",r),t.C=0,n=t.l.H,t.h=new Ta,t.g=pc(t.l,n?e:null,!t.s),0<t.O&&(t.L=new ea(No(t.Ia,t,t.g),t.O)),ia(t.V,t.g,"readystatechange",t.gb),e=t.H?Yo(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),fa(1),function(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.u,t.A,t.m,t.X,t.s)}function Na(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function Da(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=Pa(t,n))==Aa){4==e&&(t.o=4,pa(14),i=!1),aa(t.j,t.m,null,"[Incomplete Response]");break}if(r==Ia){t.o=4,pa(15),aa(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}aa(t.j,t.m,r,null),qa(t,r)}Na(t)&&r!=Aa&&r!=Ia&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,pa(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),sc(e),e.L=!0,pa(11))):(aa(t.j,t.m,n,"[Invalid Chunked Response]"),Ua(t),Fa(t))}function Pa(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Aa:(n=Number(e.substring(n,r)),isNaN(n)?Ia:(r+=1)+n>e.length?Aa:(e=e.substr(r,n),t.C=r+n,e))}function Va(t){t.Y=Date.now()+t.P,Ma(t,t.P)}function Ma(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=ma(No(t.eb,t),e)}function La(t){t.B&&(Oo.clearTimeout(t.B),t.B=null)}function Fa(t){0==t.l.G||t.I||cc(t.l,t)}function Ua(t){La(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Xs(t.W),oa(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function qa(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||_u(n.i,t)))if(n.I=t.N,!t.J&&_u(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;uc(n),Zu(n)}oc(n),pa(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ma(No(n.ab,n),6e3));if(1>=vu(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else hc(n,11)}else if((t.J||n.g==t)&&uc(n),!Ho(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var s=o[3];null!=s&&(n.ma=s,n.h.info("VER="+n.ma));var a=o[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=t.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(zo(l,"spdy")||zo(l,"quic")||zo(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(wu(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,Ja(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=t;if((r=n).oa=dc(r,r.H?r.la:null,r.W),d.J){Su(r.i,d);var p=d,g=r.K;g&&p.setTimeout(g),p.B&&(La(p),Va(p)),r.g=d}else ic(r);0<n.l.length&&tc(n)}else"stop"!=o[0]&&"close"!=o[0]||hc(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?hc(n,7):Yu(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}fa(4)}catch(o){}}function Ha(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(To(t)||"string"==typeof t)Fo(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(To(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(To(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ba(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ba)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Qa(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];za(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)za(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function za(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(So=xa.prototype).setTimeout=function(t){this.P=t},So.gb=function(t){t=t.target;var e=this.L;e&&3==zu(t)?e.l():this.Ia(t)},So.Ia=function(t){try{if(t==this.g)t:{var e=zu(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||os||this.g&&(this.h.h||this.g.ga()||Gu(this.g)))){this.I||4!=e||7==n||fa(8==n||0>=r?3:2),La(this);var i=this.g.ba();this.N=i;e:if(Na(this)){var o=Gu(this.g);t="";var s=o.length,a=4==zu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ua(this),Fa(this);var u="";break e}this.h.i=new Oo.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:a&&n==s-1});o.splice(0,s),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ho(c)){var h=c;break e}}h=null}if(!(i=h)){this.i=!1,this.o=3,pa(12),Ua(this),Fa(this);break t}aa(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,qa(this,i)}this.U?(Da(this,e,u),os&&this.i&&3==e&&(ia(this.V,this.W,"tick",this.fb),this.W.start())):(aa(this.j,this.m,u,null),qa(this,u)),4==e&&Ua(this),this.i&&!this.I&&(4==e?cc(this.l,this):(this.i=!1,Va(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,pa(12)):(this.o=0,pa(13)),Ua(this),Fa(this)}}}catch(e){}},So.fb=function(){if(this.g){var t=zu(this.g),e=this.g.ga();this.C<e.length&&(La(this),Da(this,t,e),this.i&&4!=t&&Va(this))}},So.cancel=function(){this.I=!0,Ua(this)},So.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(fa(3),pa(17)),Ua(this),this.o=2,Fa(this)):Ma(this,this.Y-t)},(So=Ba.prototype).R=function(){Qa(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},So.T=function(){return Qa(this),this.g.concat()},So.get=function(t,e){return za(this.h,t)?this.h[t]:e},So.set=function(t,e){za(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},So.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ga=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function $a(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof $a){this.g=void 0!==e?e:t.g,Ka(this,t.j),this.s=t.s,Ya(this,t.i),Za(this,t.m),this.l=t.l,e=t.h;var n=new cu;n.i=e.i,e.g&&(n.g=new Ba(e.g),n.h=e.h),Xa(this,n),this.o=t.o}else t&&(n=String(t).match(Ga))?(this.g=!!e,Ka(this,n[1]||"",!0),this.s=eu(n[2]||""),Ya(this,n[3]||"",!0),Za(this,n[4]),this.l=eu(n[5]||"",!0),Xa(this,n[6]||"",!0),this.o=eu(n[7]||"")):(this.g=!!e,this.h=new cu(null,this.g))}function Wa(t){return new $a(t)}function Ka(t,e,n){t.j=n?eu(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ya(t,e,n){t.i=n?eu(e,!0):e}function Za(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Xa(t,e,n){e instanceof cu?(t.h=e,function(t,e){e&&!t.j&&(lu(t),t.i=null,t.g.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(hu(this,e),du(this,n,t))},t)),t.j=e}(t.h,t.g)):(n||(e=nu(e,au)),t.h=new cu(e,t.g))}function Ja(t,e,n){t.h.set(e,n)}function tu(t){return Ja(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function eu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function nu(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ru),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ru(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}$a.prototype.toString=function(){var t=[],e=this.j;e&&t.push(nu(e,iu,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(nu(e,iu,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(nu(n,"/"==n.charAt(0)?su:ou,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",nu(n,uu)),t.join("")};var iu=/[#\/\?@]/g,ou=/[#\?:]/g,su=/[#\?]/g,au=/[#\?@]/g,uu=/#/g;function cu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function lu(t){t.g||(t.g=new Ba,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function hu(t,e){lu(t),e=pu(t,e),za(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,za((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Qa(t)))}function fu(t,e){return lu(t),e=pu(t,e),za(t.g.h,e)}function du(t,e,n){hu(t,e),0<n.length&&(t.i=null,t.g.set(pu(t,e),qo(n)),t.h+=n.length)}function pu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(So=cu.prototype).add=function(t,e){lu(this),this.i=null,t=pu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},So.forEach=function(t,e){lu(this),this.g.forEach(function(n,r){Fo(n,function(n){t.call(e,n,r,this)},this)},this)},So.T=function(){lu(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},So.R=function(t){lu(this);var e=[];if("string"==typeof t)fu(this,t)&&(e=Uo(e,this.g.get(pu(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=Uo(e,t[n])}return e},So.set=function(t,e){return lu(this),this.i=null,fu(this,t=pu(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},So.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},So.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.i=t.join("&")};var gu=function(){return function(t,e){this.h=t,this.g=e}}();function mu(t){this.l=t||bu,t=Oo.PerformanceNavigationTiming?0<(t=Oo.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Oo.g&&Oo.g.Ea&&Oo.g.Ea()&&Oo.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var bu=10;function yu(t){return!!t.h||!!t.g&&t.g.size>=t.j}function vu(t){return t.h?1:t.g?t.g.size:0}function _u(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function wu(t,e){t.g?t.g.add(e):t.h=e}function Su(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Cu(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=wo(t.g.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.D)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return qo(t.i)}function Eu(){}function Ou(){this.g=new Eu}function xu(t,e,n){var r=n||"";try{Ha(t,function(t,n){var i=t;ko(t)&&(i=Us(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(Pv){throw e.push(r+"type="+encodeURIComponent("_badmap")),Pv}}function Tu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function ku(t){this.l=t.$b||null,this.j=t.ib||!1}function Iu(t,e){Ms.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Au,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}mu.prototype.cancel=function(){var t,e;if(this.i=Cu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=wo(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},Eu.prototype.stringify=function(t){return Oo.JSON.stringify(t,void 0)},Eu.prototype.parse=function(t){return Oo.JSON.parse(t,void 0)},Po(ku,va),ku.prototype.g=function(){return new Iu(this.l,this.j)},ku.prototype.i=function(t){return function(){return t}}({}),Po(Iu,Ms);var Au=0;function Ru(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function ju(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Nu(t)}function Nu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(So=Iu.prototype).open=function(t,e){if(this.readyState!=Au)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Nu(this)},So.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Oo).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},So.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ju(this)),this.readyState=Au},So.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Nu(this)),this.g&&(this.readyState=3,Nu(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Oo.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ru(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},So.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ju(this):Nu(this),3==this.readyState&&Ru(this)}},So.Ua=function(t){this.g&&(this.response=this.responseText=t,ju(this))},So.Ta=function(t){this.g&&(this.response=t,ju(this))},So.ha=function(){this.g&&ju(this)},So.setRequestHeader=function(t,e){this.v.append(t,e)},So.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},So.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Iu.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Du=Oo.JSON.parse;function Pu(t){Ms.call(this),this.headers=new Ba,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Vu,this.K=this.L=!1}Po(Pu,Ms);var Vu="",Mu=/^https?$/i,Lu=["POST","PUT"];function Fu(t){return"content-type"==t.toLowerCase()}function Uu(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,qu(t),Bu(t)}function qu(t){t.D||(t.D=!0,Ls(t,"complete"),Ls(t,"error"))}function Hu(t){if(t.h&&void 0!==Eo&&(!t.C[1]||4!=zu(t)||2!=t.ba()))if(t.v&&4==zu(t))Js(t.Fa,0,t);else if(Ls(t,"readystatechange"),4==zu(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.H).match(Ga)[1]||null;if(!o&&Oo.self&&Oo.self.location){var s=Oo.self.location.protocol;o=s.substr(0,s.length-1)}i=!Mu.test(o?o.toLowerCase():"")}e=i}if(e)Ls(t,"complete"),Ls(t,"success");else{t.m=6;try{var a=2<zu(t)?t.g.statusText:""}catch(u){a=""}t.j=a+" ["+t.ba()+"]",qu(t)}}finally{Bu(t)}}}function Bu(t,e){if(t.g){Qu(t);var n=t.g,r=t.C[0]?xo:null;t.g=null,t.C=null,e||Ls(t,"ready");try{n.onreadystatechange=r}catch(Pv){}}}function Qu(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Oo.clearTimeout(t.A),t.A=null)}function zu(t){return t.g?t.g.readyState:0}function Gu(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Vu:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function $u(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Ko(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ja(t,e,n))}function Wu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Ku(t){this.za=0,this.l=[],this.h=new sa,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Wu("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Wu("baseRetryDelayMs",5e3,t),this.$a=Wu("retryDelaySeedMs",1e4,t),this.Ya=Wu("forwardChannelMaxRetries",2,t),this.ra=Wu("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new mu(t&&t.concurrentRequestLimit),this.Ca=new Ou,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Yu(t){if(Xu(t),3==t.G){var e=t.V++,n=Wa(t.F);Ja(n,"SID",t.J),Ja(n,"RID",e),Ja(n,"TYPE","terminate"),nc(t,n),(e=new xa(t,t.h,e,void 0)).K=2,e.v=tu(Wa(n)),n=!1,Oo.navigator&&Oo.navigator.sendBeacon&&(n=Oo.navigator.sendBeacon(e.v.toString(),"")),!n&&Oo.Image&&((new Image).src=e.v,n=!0),n||(e.g=pc(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Va(e)}fc(t)}function Zu(t){t.g&&(sc(t),t.g.cancel(),t.g=null)}function Xu(t){Zu(t),t.u&&(Oo.clearTimeout(t.u),t.u=null),uc(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Oo.clearTimeout(t.m),t.m=null)}function Ju(t,e){t.l.push(new gu(t.Za++,e)),3==t.G&&tc(t)}function tc(t){yu(t.i)||t.m||(t.m=!0,$s(t.Ha,t),t.C=0)}function ec(t,e){var n;n=e?e.m:t.V++;var r=Wa(t.F);Ja(r,"SID",t.J),Ja(r,"RID",n),Ja(r,"AID",t.U),nc(t,r),t.o&&t.s&&$u(r,t.o,t.s),n=new xa(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=rc(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),wu(t.i,n),Ra(n,r,e)}function nc(t,e){t.j&&Ha({},function(t,n){Ja(e,n,t)})}function rc(t,e,n){n=Math.min(t.l.length,n);var r=t.j?No(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].h)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),a=!1;else try{xu(l,s,"req"+c+"_")}catch(Gc){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function ic(t){t.g||t.u||(t.Y=1,$s(t.Ga,t),t.A=0)}function oc(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=ma(No(t.Ga,t),lc(t,t.A)),t.A++,0))}function sc(t){null!=t.B&&(Oo.clearTimeout(t.B),t.B=null)}function ac(t){t.g=new xa(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Wa(t.oa);Ja(e,"RID","rpc"),Ja(e,"SID",t.J),Ja(e,"CI",t.N?"0":"1"),Ja(e,"AID",t.U),nc(t,e),Ja(e,"TYPE","xmlhttp"),t.o&&t.s&&$u(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=tu(Wa(e)),n.s=null,n.U=!0,ja(n,t)}function uc(t){null!=t.v&&(Oo.clearTimeout(t.v),t.v=null)}function cc(t,e){var n=null;if(t.g==e){uc(t),sc(t),t.g=null;var r=2}else{if(!_u(t.i,e))return;n=e.D,Su(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Ls(r=la(),new ga(r,n,e,i)),tc(t)}else ic(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(vu(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=ma(No(t.Ha,t,e),lc(t,t.C)),t.C++,0)))}(t,e)||2==r&&oc(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:hc(t,5);break;case 4:hc(t,10);break;case 3:hc(t,6);break;default:hc(t,2)}}function lc(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function hc(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=No(t.jb,t);n||(n=new $a("//www.google.com/images/cleardot.gif"),Oo.location&&"http"==Oo.location.protocol||Ka(n,"https"),tu(n)),function(t,e){var n=new sa;if(Oo.Image){var r=new Image;r.onload=Do(Tu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Do(Tu,n,r,"TestLoadImage: error",!1,e),r.onabort=Do(Tu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Do(Tu,n,r,"TestLoadImage: timeout",!1,e),Oo.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else pa(2);t.G=0,t.j&&t.j.va(e),fc(t),Xu(t)}function fc(t){t.G=0,t.I=-1,t.j&&(0==Cu(t.i).length&&0==t.l.length||(t.i.i.length=0,qo(t.l),t.l.length=0),t.j.ua())}function dc(t,e,n){var r=function(t){return t instanceof $a?Wa(t):new $a(t,void 0)}(n);if(""!=r.i)e&&Ya(r,e+"."+r.i),Za(r,r.m);else{var i=Oo.location;r=function(t,e,n,r){var i=new $a(null,void 0);return t&&Ka(i,t),e&&Ya(i,e),n&&Za(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&Ko(t.aa,function(t,e){Ja(r,e,t)}),n=t.sa,(e=t.D)&&n&&Ja(r,e,n),Ja(r,"VER",t.ma),nc(t,r),r}function pc(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Pu(n&&t.Ba&&!t.qa?new ku({ib:!0}):t.qa)).L=t.H,e}function gc(){}function mc(){if(rs&&!(10<=Number(ds)))throw Error("Environmental error: no available transport.")}function bc(t,e){Ms.call(this),this.g=new Ku(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Ho(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ho(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new _c(this)}function yc(t){Ca.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function vc(){Ea.call(this),this.status=1}function _c(t){this.g=t}(So=Pu.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():wa.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:wa),this.g.onreadystatechange=No(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){return void Uu(this,o)}t=n||"";var i=new Ba(this.headers);r&&Ha(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Fu,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=Oo.FormData&&t instanceof Oo.FormData,!(0<=Lo(Lu,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.g.setRequestHeader(e,t)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Qu(this),0<this.B&&((this.K=function(t){return rs&&function(){return t=fs,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var t=0,e=Qo(String(ts)).split("."),n=Qo("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;t=Go(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||Go(0==o[2].length,0==s[2].length)||Go(o[2],s[2]),o=o[3],s=s[3]}while(0==t)}return 0<=t}();var t}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=No(this.pa,this)):this.A=Js(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Uu(this,o)}},So.pa=function(){void 0!==Eo&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ls(this,"timeout"),this.abort(8))},So.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ls(this,"complete"),Ls(this,"abort"),Bu(this))},So.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Bu(this,!0)),Pu.Z.M.call(this)},So.Fa=function(){this.s||(this.F||this.v||this.l?Hu(this):this.cb())},So.cb=function(){Hu(this)},So.ba=function(){try{return 2<zu(this)?this.g.status:-1}catch(es){return-1}},So.ga=function(){try{return this.g?this.g.responseText:""}catch(es){return""}},So.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Du(e)}},So.Da=function(){return this.m},So.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(So=Ku.prototype).ma=8,So.G=1,So.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},So.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new xa(this,this.h,t,void 0),n=this.s;if(this.P&&(n?Xo(n=Yo(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=rc(this,e,r),Ja(i=Wa(this.F),"RID",t),Ja(i,"CVER",22),this.D&&Ja(i,"X-HTTP-Session-Id",this.D),nc(this,i),this.o&&n&&$u(i,this.o,n),wu(this.i,e),this.Ra&&Ja(i,"TYPE","init"),this.ja?(Ja(i,"$req",r),Ja(i,"SID","null"),e.$=!0,Ra(e,i,null)):Ra(e,i,r),this.G=2}}else 3==this.G&&(t?ec(this,t):0==this.l.length||yu(this.i)||ec(this))},So.Ga=function(){if(this.u=null,ac(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=ma(No(this.bb,this),t)}},So.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,pa(10),Zu(this),ac(this))},So.ab=function(){null!=this.v&&(this.v=null,Zu(this),oc(this),pa(19))},So.jb=function(t){t?(this.h.info("Successfully pinged google.com"),pa(2)):(this.h.info("Failed to ping google.com"),pa(1))},(So=gc.prototype).xa=function(){},So.wa=function(){},So.va=function(){},So.ua=function(){},So.Oa=function(){},mc.prototype.g=function(t,e){return new bc(t,e)},Po(bc,Ms),bc.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),$s(No(t.hb,t,e))),pa(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=dc(t,null,t.W),tc(t)},bc.prototype.close=function(){Yu(this.g)},bc.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,Ju(this.g,e)}else this.v?((e={}).__data__=Us(t),Ju(this.g,e)):Ju(this.g,t)},bc.prototype.M=function(){this.g.j=null,delete this.j,Yu(this.g),delete this.g,bc.Z.M.call(this)},Po(yc,Ca),Po(vc,Ea),Po(_c,gc),_c.prototype.xa=function(){Ls(this.g,"a")},_c.prototype.wa=function(t){Ls(this.g,new yc(t))},_c.prototype.va=function(t){Ls(this.g,new vc(t))},_c.prototype.ua=function(){Ls(this.g,"b")},mc.prototype.createWebChannel=mc.prototype.g,bc.prototype.send=bc.prototype.u,bc.prototype.open=bc.prototype.m,bc.prototype.close=bc.prototype.close,ba.NO_ERROR=0,ba.TIMEOUT=8,ba.HTTP_ERROR=6,ya.COMPLETE="complete",_a.EventType=Sa,Sa.OPEN="a",Sa.CLOSE="b",Sa.ERROR="c",Sa.MESSAGE="d",Ms.prototype.listen=Ms.prototype.N,Pu.prototype.listenOnce=Pu.prototype.O,Pu.prototype.getLastError=Pu.prototype.La,Pu.prototype.getLastErrorCode=Pu.prototype.Da,Pu.prototype.getStatus=Pu.prototype.ba,Pu.prototype.getResponseJson=Pu.prototype.Qa,Pu.prototype.getResponseText=Pu.prototype.ga,Pu.prototype.send=Pu.prototype.ea;var wc=ba,Sc=ya,Cc=ua,Ec=ku,Oc=_a,xc=Pu,Tc=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Tc.o=-1;var kc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ic=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Ui.c)(e,t),e}(Error),Ac=new vo.b("@firebase/firestore");function Rc(){return Ac.logLevel}function jc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ac.logLevel<=vo.a.DEBUG){var r=e.map(Pc);Ac.debug.apply(Ac,Object(Ui.f)(["Firestore (8.10.1): "+t],r))}}function Nc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ac.logLevel<=vo.a.ERROR){var r=e.map(Pc);Ac.error.apply(Ac,Object(Ui.f)(["Firestore (8.10.1): "+t],r))}}function Dc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ac.logLevel<=vo.a.WARN){var r=e.map(Pc);Ac.warn.apply(Ac,Object(Ui.f)(["Firestore (8.10.1): "+t],r))}}function Pc(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Pv){return t}}function Vc(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+t;throw Nc(e),new Error(e)}function Mc(t,e){t||Vc()}function Lc(t,e){return t}function Fc(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Uc=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Fc(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function qc(t,e){return t<e?-1:t>e?1:0}function Hc(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Bc(t){return t+"\0"}var Qc=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ic(kc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ic(kc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ic(kc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ic(kc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?qc(this.nanoseconds,t.nanoseconds):qc(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),zc=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Qc(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Gc(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function $c(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Wc(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Kc=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Vc(),void 0===n?n=t.length-e:n>t.length-e&&Vc(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Yc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ui.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Ic(kc.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Kc),Zc=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Xc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ui.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Zc.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Ic(kc.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Ic(kc.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Ic(kc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Ic(kc.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Kc),Jc=function(){function t(t){this.fields=t,t.sort(Xc.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Hc(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),tl=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return qc(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();tl.EMPTY_BYTE_STRING=new tl("");var el=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nl(t){if(Mc(!!t),"string"==typeof t){var e=0,n=el.exec(t);if(Mc(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:rl(t.seconds),nanos:rl(t.nanos)}}function rl(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function il(t){return"string"==typeof t?tl.fromBase64String(t):tl.fromUint8Array(t)}function ol(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function sl(t){var e=t.mapValue.fields.__previous_value__;return ol(e)?sl(e):e}function al(t){var e=nl(t.mapValue.fields.__local_write_time__.timestampValue);return new Qc(e.seconds,e.nanos)}function ul(t){return null==t}function cl(t){return 0===t&&1/t==-1/0}function ll(t){return"number"==typeof t&&Number.isInteger(t)&&!cl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var hl=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Yc.fromString(e))},t.fromName=function(e){return new t(Yc.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Yc.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Yc.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Yc(e.slice()))},t}();function fl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ol(t)?4:10:Vc()}function dl(t,e){var n=fl(t);if(n!==fl(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return al(t).isEqual(al(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=nl(t.timestampValue),r=nl(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return il(t.bytesValue).isEqual(il(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return rl(t.geoPointValue.latitude)===rl(e.geoPointValue.latitude)&&rl(t.geoPointValue.longitude)===rl(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return rl(t.integerValue)===rl(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=rl(t.doubleValue),r=rl(e.doubleValue);return n===r?cl(n)===cl(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Hc(t.arrayValue.values||[],e.arrayValue.values||[],dl);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Gc(n)!==Gc(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!dl(n[i],r[i])))return!1;return!0}(t,e);default:return Vc()}}function pl(t,e){return void 0!==(t.values||[]).find(function(t){return dl(t,e)})}function gl(t,e){var n=fl(t),r=fl(e);if(n!==r)return qc(n,r);switch(n){case 0:return 0;case 1:return qc(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=rl(t.integerValue||t.doubleValue),r=rl(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return ml(t.timestampValue,e.timestampValue);case 4:return ml(al(t),al(e));case 5:return qc(t.stringValue,e.stringValue);case 6:return function(t,e){var n=il(t),r=il(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=qc(n[i],r[i]);if(0!==o)return o}return qc(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=qc(rl(t.latitude),rl(e.latitude));return 0!==n?n:qc(rl(t.longitude),rl(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=gl(n[i],r[i]);if(o)return o}return qc(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=qc(r[s],o[s]);if(0!==a)return a;var u=gl(n[r[s]],i[o[s]]);if(0!==u)return u}return qc(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Vc()}}function ml(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return qc(t,e);var n=nl(t),r=nl(e),i=qc(n.seconds,r.seconds);return 0!==i?i:qc(n.nanos,r.nanos)}function bl(t){return yl(t)}function yl(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=nl(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?il(t.bytesValue).toBase64():"referenceValue"in t?hl.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=yl(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+yl(t.fields[o])}return e+"}"}(t.mapValue):Vc();var e}function vl(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function _l(t){return!!t&&"integerValue"in t}function wl(t){return!!t&&"arrayValue"in t}function Sl(t){return!!t&&"nullValue"in t}function Cl(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function El(t){return!!t&&"mapValue"in t}function Ol(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return $c(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=Ol(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ol(t.arrayValue.values[r]);return n}return Object.assign({},t)}var xl=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!El(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ol(e)},t.prototype.setAll=function(t){var e=this,n=Xc.emptyPath(),r={},i=[];t.forEach(function(t,o){if(!n.isImmediateParentOf(o)){var s=e.getFieldsMap(n);e.applyChanges(s,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=Ol(t):i.push(o.lastSegment())});var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());El(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return dl(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];El(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){$c(e,function(e,n){return t[e]=n});for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(Ol(this.value))},t}();function Tl(t){var e=[];return $c(t.fields,function(t,n){var r=new Xc([t]);if(El(n)){var i=Tl(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new Jc(e)}var kl=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,zc.min(),xl.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,xl.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,xl.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=xl.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=xl.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Il=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function Al(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Il(t,e,n,r,i,o,s)}function Rl(t){var e=Lc(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+bl(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),ul(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Ql(e.startAt)),e.endAt&&(n+="|ub:",n+=Ql(e.endAt)),e.h=n}return e.h}function jl(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Gl(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!dl(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Wl(t.startAt,e.startAt)&&Wl(t.endAt,e.endAt)}function Nl(t){return hl.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Dl=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Ui.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Pl(t,n,r):"array-contains"===n?new Fl(t,r):"in"===n?new Ul(t,r):"not-in"===n?new ql(t,r):"array-contains-any"===n?new Hl(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Vl(t,n):new Ml(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(gl(e,this.value)):null!==e&&fl(this.value)===fl(e)&&this.m(gl(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Vc()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Pl=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=hl.fromName(r.referenceValue),i}return Object(Ui.c)(e,t),e.prototype.matches=function(t){var e=hl.comparator(t.key,this.key);return this.m(e)},e}(Dl),Vl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Ll(0,n),r}return Object(Ui.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Dl),Ml=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Ll(0,n),r}return Object(Ui.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Dl);function Ll(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return hl.fromName(t.referenceValue)})}var Fl=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Ui.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return wl(e)&&pl(e.arrayValue,this.value)},e}(Dl),Ul=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Ui.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&pl(this.value.arrayValue,e)},e}(Dl),ql=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Ui.c)(e,t),e.prototype.matches=function(t){if(pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!pl(this.value.arrayValue,e)},e}(Dl),Hl=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Ui.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!wl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return pl(e.value.arrayValue,t)})},e}(Dl),Bl=function(t,e){this.position=t,this.before=e};function Ql(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return bl(t)}).join(",")}var zl=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Gl(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function $l(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?hl.comparator(hl.fromName(s.referenceValue),n.key):gl(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Wl(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!dl(t.position[n],e.position[n]))return!1;return!0}var Kl=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function Yl(t,e,n,r,i,o,s,a){return new Kl(t,e,n,r,i,o,s,a)}function Zl(t){return new Kl(t)}function Xl(t){return!ul(t.limit)&&"F"===t.limitType}function Jl(t){return!ul(t.limit)&&"L"===t.limitType}function th(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function eh(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function nh(t){return null!==t.collectionGroup}function rh(t){var e=Lc(t);if(null===e.p){e.p=[];var n=eh(e),r=th(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new zl(n)),e.p.push(new zl(Xc.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new zl(Xc.keyField(),u))}}}return e.p}function ih(t){var e=Lc(t);if(!e.T)if("F"===e.limitType)e.T=Al(e.path,e.collectionGroup,rh(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=rh(e);r<i.length;r++){var o=i[r];n.push(new zl(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Bl(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Bl(e.startAt.position,!e.startAt.before):null;e.T=Al(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function oh(t,e,n){return new Kl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sh(t,e){return jl(ih(t),ih(e))&&t.limitType===e.limitType}function ah(t){return Rl(ih(t))+"|lt:"+t.limitType}function uh(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+bl(e.value);var e}).join(", ")+"]"),ul(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Ql(t.startAt)),t.endAt&&(e+=", endAt: "+Ql(t.endAt)),"Target("+e+")"}(ih(t))+"; limitType="+t.limitType+")"}function ch(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):hl.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!$l(t.startAt,rh(t),e)||t.endAt&&$l(t.endAt,rh(t),e))}(t,e)}function lh(t){return function(e,n){for(var r=!1,i=0,o=rh(t);i<o.length;i++){var s=o[i],a=hh(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function hh(t,e,n){var r=t.field.isKeyField()?hl.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?gl(r,i):Vc()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Vc()}}function fh(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cl(e)?"-0":e}}function dh(t){return{integerValue:""+t}}function ph(t,e){return ll(e)?dh(e):fh(t,e)}var gh=function(){this._=void 0};function mh(t,e,n){return t instanceof vh?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof _h?wh(t,e):t instanceof Sh?Ch(t,e):function(t,e){var n=yh(t,e),r=Oh(n)+Oh(t.A);return _l(n)&&_l(t.A)?dh(r):fh(t.R,r)}(t,e)}function bh(t,e,n){return t instanceof _h?wh(t,e):t instanceof Sh?Ch(t,e):n}function yh(t,e){return t instanceof Eh?_l(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var vh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ui.c)(e,t),e}(gh),_h=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Ui.c)(e,t),e}(gh);function wh(t,e){for(var n=xh(e),r=function(t){n.some(function(e){return dl(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Sh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Ui.c)(e,t),e}(gh);function Ch(t,e){for(var n=xh(e),r=function(t){n=n.filter(function(e){return!dl(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Eh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(Ui.c)(e,t),e}(gh);function Oh(t){return rl(t.integerValue||t.doubleValue)}function xh(t){return wl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Th=function(t,e){this.field=t,this.transform=e},kh=function(t,e){this.version=t,this.transformResults=e},Ih=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Ah(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Rh=function(){};function jh(t,e,n){t instanceof Mh?function(t,e,n){var r=t.value.clone(),i=Uh(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Lh?function(t,e,n){if(Ah(t.precondition,e)){var r=Uh(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Fh(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Nh(t,e,n){t instanceof Mh?function(t,e,n){if(Ah(t.precondition,e)){var r=t.value.clone(),i=qh(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Vh(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Lh?function(t,e,n){if(Ah(t.precondition,e)){var r=qh(t.fieldTransforms,n,e),i=e.data;i.setAll(Fh(t)),i.setAll(r),e.convertToFoundDocument(Vh(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Ah(t.precondition,e)&&e.convertToNoDocument(zc.min())}(t,e)}function Dh(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=yh(o.transform,s||null);null!=a&&(null==n&&(n=xl.empty()),n.set(o.field,a))}return n||null}function Ph(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Hc(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof _h&&e instanceof _h||t instanceof Sh&&e instanceof Sh?Hc(t.elements,e.elements,dl):t instanceof Eh&&e instanceof Eh?dl(t.A,e.A):t instanceof vh&&e instanceof vh}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Vh(t){return t.isFoundDocument()?t.version:zc.min()}var Mh=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(Ui.c)(e,t),e}(Rh),Lh=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return Object(Ui.c)(e,t),e}(Rh);function Fh(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function Uh(t,e,n){var r=new Map;Mc(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,bh(s,a,n[i]))}return r}function qh(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,mh(a,u,e))}return r}var Hh,Bh,Qh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(Ui.c)(e,t),e}(Rh),zh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(Ui.c)(e,t),e}(Rh),Gh=function(t){this.count=t};function $h(t){switch(t){case kc.OK:return Vc();case kc.CANCELLED:case kc.UNKNOWN:case kc.DEADLINE_EXCEEDED:case kc.RESOURCE_EXHAUSTED:case kc.INTERNAL:case kc.UNAVAILABLE:case kc.UNAUTHENTICATED:return!1;case kc.INVALID_ARGUMENT:case kc.NOT_FOUND:case kc.ALREADY_EXISTS:case kc.PERMISSION_DENIED:case kc.FAILED_PRECONDITION:case kc.ABORTED:case kc.OUT_OF_RANGE:case kc.UNIMPLEMENTED:case kc.DATA_LOSS:return!0;default:return Vc()}}function Wh(t){if(void 0===t)return Nc("GRPC error has no .code"),kc.UNKNOWN;switch(t){case Hh.OK:return kc.OK;case Hh.CANCELLED:return kc.CANCELLED;case Hh.UNKNOWN:return kc.UNKNOWN;case Hh.DEADLINE_EXCEEDED:return kc.DEADLINE_EXCEEDED;case Hh.RESOURCE_EXHAUSTED:return kc.RESOURCE_EXHAUSTED;case Hh.INTERNAL:return kc.INTERNAL;case Hh.UNAVAILABLE:return kc.UNAVAILABLE;case Hh.UNAUTHENTICATED:return kc.UNAUTHENTICATED;case Hh.INVALID_ARGUMENT:return kc.INVALID_ARGUMENT;case Hh.NOT_FOUND:return kc.NOT_FOUND;case Hh.ALREADY_EXISTS:return kc.ALREADY_EXISTS;case Hh.PERMISSION_DENIED:return kc.PERMISSION_DENIED;case Hh.FAILED_PRECONDITION:return kc.FAILED_PRECONDITION;case Hh.ABORTED:return kc.ABORTED;case Hh.OUT_OF_RANGE:return kc.OUT_OF_RANGE;case Hh.UNIMPLEMENTED:return kc.UNIMPLEMENTED;case Hh.DATA_LOSS:return kc.DATA_LOSS;default:return Vc()}}(Bh=Hh||(Hh={}))[Bh.OK=0]="OK",Bh[Bh.CANCELLED=1]="CANCELLED",Bh[Bh.UNKNOWN=2]="UNKNOWN",Bh[Bh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bh[Bh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bh[Bh.NOT_FOUND=5]="NOT_FOUND",Bh[Bh.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bh[Bh.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bh[Bh.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bh[Bh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bh[Bh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bh[Bh.ABORTED=10]="ABORTED",Bh[Bh.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bh[Bh.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bh[Bh.INTERNAL=13]="INTERNAL",Bh[Bh.UNAVAILABLE=14]="UNAVAILABLE",Bh[Bh.DATA_LOSS=15]="DATA_LOSS";var Kh=function(){function t(t,e){this.comparator=t,this.root=e||Zh.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zh.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zh.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Yh(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Yh(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Yh(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Yh(this.root,t,this.comparator,!0)},t}(),Yh=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Zh=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Vc();if(this.right.isRed())throw Vc();var t=this.left.check();if(t!==this.right.check())throw Vc();return t+(this.isRed()?0:1)},t}();Zh.EMPTY=null,Zh.RED=!0,Zh.BLACK=!1,Zh.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Vc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Vc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Vc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Vc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Vc()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Zh(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Xh=function(){function t(t){this.comparator=t,this.data=new Kh(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Jh(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Jh(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Jh=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),tf=new Kh(hl.comparator);function ef(){return tf}var nf=new Kh(hl.comparator);function rf(){return nf}var of=new Kh(hl.comparator);function sf(){return of}var af=new Xh(hl.comparator);function uf(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=af,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var cf=new Xh(qc);function lf(){return cf}var hf=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,ff.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(zc.min(),r,lf(),ef(),uf())},t}(),ff=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(tl.EMPTY_BYTE_STRING,n,uf(),uf(),uf())},t}(),df=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},pf=function(t,e){this.targetId=t,this.V=e},gf=function(t,e,n,r){void 0===n&&(n=tl.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},mf=function(){function t(){this.S=0,this.D=vf(),this.C=tl.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},t.prototype.M=function(){var t=uf(),e=uf(),n=uf();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Vc()}}),new ff(this.C,this.N,t,e,n)},t.prototype.L=function(){this.k=!1,this.D=vf()},t.prototype.B=function(t,e){this.k=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),bf=function(){function t(t){this.W=t,this.G=new Map,this.H=ef(),this.J=yf(),this.Y=new Xh(qc)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.F||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:Vc()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Nl(i))if(0===n){var o=new hl(i.path);this.tt(e,o,kl.newNoDocument(o,zc.min()))}else Mc(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&Nl(o.target)){var s=new hl(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,kl.newNoDocument(s,t))}r.$&&(n.set(i,r.M()),r.L())}});var r=uf();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new hf(t,n,this.Y,this.H,r);return this.H=ef(),this.J=yf(),this.Y=new Xh(qc),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new mf,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Xh(qc),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||jc("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.F?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new mf),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function yf(){return new Kh(hl.comparator)}function vf(){return new Kh(hl.comparator)}var _f={asc:"ASCENDING",desc:"DESCENDING"},wf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Sf=function(t,e){this.databaseId=t,this.I=e};function Cf(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ef(t,e){return t.I?e.toBase64():e.toUint8Array()}function Of(t,e){return Cf(t,e.toTimestamp())}function xf(t){return Mc(!!t),zc.fromTimestamp(function(t){var e=nl(t);return new Qc(e.seconds,e.nanos)}(t))}function Tf(t,e){return function(t){return new Yc(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function kf(t){var e=Yc.fromString(t);return Mc(Xf(e)),e}function If(t,e){return Tf(t.databaseId,e.path)}function Af(t,e){var n=kf(e);if(n.get(1)!==t.databaseId.projectId)throw new Ic(kc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ic(kc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new hl(Df(n))}function Rf(t,e){return Tf(t.databaseId,e)}function jf(t){var e=kf(t);return 4===e.length?Yc.emptyPath():Df(e)}function Nf(t){return new Yc(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Df(t){return Mc(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Pf(t,e,n){return{name:If(t,e),fields:n.value.mapValue.fields}}function Vf(t,e,n){var r=Af(t,e.name),i=xf(e.updateTime),o=new xl({mapValue:{fields:e.fields}}),s=kl.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Mf(t,e){var n;if(e instanceof Mh)n={update:Pf(t,e.key,e.value)};else if(e instanceof Qh)n={delete:If(t,e.key)};else if(e instanceof Lh)n={update:Pf(t,e.key,e.data),updateMask:Zf(e.fieldMask)};else{if(!(e instanceof zh))return Vc();n={verify:If(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof vh)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof _h)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Sh)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Eh)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Vc()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Of(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Vc()}(t,e.precondition)),n}function Lf(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Ih.updateTime(xf(t.updateTime)):void 0!==t.exists?Ih.exists(t.exists):Ih.none()}(e.currentDocument):Ih.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Mc("REQUEST_TIME"===e.setToServerValue),n=new vh):"appendMissingElements"in e?n=new _h(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Sh(e.removeAllFromArray.values||[]):"increment"in e?n=new Eh(t,e.increment):Vc();var r=Xc.fromServerFormat(e.fieldPath);return new Th(r,n)}(t,e)}):[];if(e.update){var i=Af(t,e.update.name),o=new xl({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Jc((t.fieldPaths||[]).map(function(t){return Xc.fromServerFormat(t)}))}(e.updateMask);return new Lh(i,o,s,n,r)}return new Mh(i,o,n,r)}if(e.delete){var a=Af(t,e.delete);return new Qh(a,n)}if(e.verify){var u=Af(t,e.verify);return new zh(u,n)}return Vc()}function Ff(t,e){return{documents:[Rf(t,e.path)]}}function Uf(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Rf(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Rf(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Cl(t.value))return{unaryFilter:{field:$f(t.field),op:"IS_NAN"}};if(Sl(t.value))return{unaryFilter:{field:$f(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Cl(t.value))return{unaryFilter:{field:$f(t.field),op:"IS_NOT_NAN"}};if(Sl(t.value))return{unaryFilter:{field:$f(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$f(t.field),op:Gf(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:$f(t.field),direction:zf(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||ul(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Bf(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Bf(e.endAt)),n}function qf(t){var e=jf(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Mc(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=Hf(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new zl(Wf(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return ul(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Qf(n.startAt));var l=null;return n.endAt&&(l=Qf(n.endAt)),Yl(e,i,a,s,u,"F",c,l)}function Hf(t){return t?void 0!==t.unaryFilter?[Yf(t)]:void 0!==t.fieldFilter?[Kf(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Hf(t)}).reduce(function(t,e){return t.concat(e)}):Vc():[]}function Bf(t){return{before:t.before,values:t.position}}function Qf(t){return new Bl(t.values||[],!!t.before)}function zf(t){return _f[t]}function Gf(t){return wf[t]}function $f(t){return{fieldPath:t.canonicalString()}}function Wf(t){return Xc.fromServerFormat(t.fieldPath)}function Kf(t){return Dl.create(Wf(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Vc()}}(t.fieldFilter.op),t.fieldFilter.value)}function Yf(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Wf(t.unaryFilter.field);return Dl.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Wf(t.unaryFilter.field);return Dl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Wf(t.unaryFilter.field);return Dl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Wf(t.unaryFilter.field);return Dl.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Vc()}}function Zf(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function Xf(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Jf(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=ed(e)),e=td(t.get(n),e);return ed(e)}function td(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function ed(t){return t+"\x01\x01"}function nd(t){var e=t.length;if(Mc(e>=2),2===e)return Mc("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Yc.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Vc(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Vc()}o=s+2}return new Yc(r)}var rd=function(t,e){this.seconds=t,this.nanoseconds=e},id=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};id.store="owner",id.key="owner";var od=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};od.store="mutationQueues",od.keyPath="userId";var sd=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};sd.store="mutations",sd.keyPath="batchId",sd.userMutationsIndex="userMutationsIndex",sd.userMutationsKeyPath=["userId","batchId"];var ad=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Jf(e)]},t.key=function(t,e,n){return[t,Jf(e),n]},t}();ad.store="documentMutations",ad.PLACEHOLDER=new ad;var ud=function(t,e){this.path=t,this.readTime=e},cd=function(t,e){this.path=t,this.version=e},ld=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};ld.store="remoteDocuments",ld.readTimeIndex="readTimeIndex",ld.readTimeIndexPath="readTime",ld.collectionReadTimeIndex="collectionReadTimeIndex",ld.collectionReadTimeIndexPath=["parentPath","readTime"];var hd=function(t){this.byteSize=t};hd.store="remoteDocumentGlobal",hd.key="remoteDocumentGlobalKey";var fd=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};fd.store="targets",fd.keyPath="targetId",fd.queryTargetsIndexName="queryTargetsIndex",fd.queryTargetsKeyPath=["canonicalId","targetId"];var dd=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};dd.store="targetDocuments",dd.keyPath=["targetId","path"],dd.documentTargetsIndex="documentTargetsIndex",dd.documentTargetsKeyPath=["path","targetId"];var pd=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};pd.key="targetGlobalKey",pd.store="targetGlobal";var gd=function(t,e){this.collectionId=t,this.parent=e};gd.store="collectionParents",gd.keyPath=["collectionId","parent"];var md=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};md.store="clientMetadata",md.keyPath="clientId";var bd=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};bd.store="bundles",bd.keyPath="bundleId";var yd=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};yd.store="namedQueries",yd.keyPath="name";var vd=Object(Ui.f)(Object(Ui.f)([],Object(Ui.f)(Object(Ui.f)([],Object(Ui.f)(Object(Ui.f)([],Object(Ui.f)(Object(Ui.f)([],[od.store,sd.store,ad.store,ld.store,fd.store,id.store,pd.store,dd.store]),[md.store])),[hd.store])),[gd.store])),[bd.store,yd.store]),_d="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",wd=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Sd=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Cd=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Vc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),Ed=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Sd,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Td(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=jd(e.target.error);n.ft.reject(new Td(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Td(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(jc("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Id(e)},t}(),Od=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(yo.j)())&&Nc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return jc("SimpleDb","Removing database:",t),Ad(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(yo.j)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(Ui.b)(this,void 0,void 0,function(){var e,n=this;return Object(Ui.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(jc("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Td(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Ic(kc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Td(t,n))},i.onupgradeneeded=function(t){jc("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){jc("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Ui.b)(this,void 0,void 0,function(){var i,o,s,a,u;return Object(Ui.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(Ui.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=Ed.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),Cd.reject(t)}).toPromise(),u={},s.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return jc("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),xd=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Ad(this.Pt.delete())},t}(),Td=function(t){function e(e,n){var r=this;return(r=t.call(this,kc.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Ui.c)(e,t),e}(Ic);function kd(t){return"IndexedDbTransactionError"===t.name}var Id=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(jc("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(jc("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Ad(n)},t.prototype.add=function(t){return jc("SimpleDb","ADD",this.store.name,t,t),Ad(this.store.add(t))},t.prototype.get=function(t){var e=this;return Ad(this.store.get(t)).next(function(n){return void 0===n&&(n=null),jc("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return jc("SimpleDb","DELETE",this.store.name,t),Ad(this.store.delete(t))},t.prototype.count=function(){return jc("SimpleDb","COUNT",this.store.name),Ad(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.kt=function(t,e){jc("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Ft=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new Cd(function(n,r){e.onerror=function(t){var e=jd(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new Cd(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new xd(i),s=e(i.primaryKey,i.value,o);if(s instanceof Cd){var a=s.catch(function(t){return o.done(),Cd.reject(t)});n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return Cd.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Ft?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Ad(t){return new Cd(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=jd(t.target.error);n(e)}})}var Rd=!1;function jd(t){var e=Od._t(Object(yo.j)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Ic("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Rd||(Rd=!0,setTimeout(function(){throw r},0)),r}}return t}var Nd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(Ui.c)(e,t),e}(wd);function Dd(t,e){var n=Lc(t);return Od.It(n.Mt,e)}var Pd=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&jh(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&Nh(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&Nh(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(zc.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},uf())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Hc(this.mutations,t.mutations,function(t,e){return Ph(t,e)})&&Hc(this.baseMutations,t.baseMutations,function(t,e){return Ph(t,e)})},t}(),Vd=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Mc(e.mutations.length===r.length);for(var i=sf(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Md=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=zc.min()),void 0===o&&(o=zc.min()),void 0===s&&(s=tl.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Ld=function(t){this.Lt=t};function Fd(t,e){if(e.document)return Vf(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=hl.fromSegments(e.noDocument.path),r=Qd(e.noDocument.readTime),i=kl.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=hl.fromSegments(e.unknownDocument.path);return r=Qd(e.unknownDocument.version),kl.newUnknownDocument(o,r)}return Vc()}function Ud(t,e,n){var r=qd(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:If(t,e.key),fields:e.data.value.mapValue.fields,updateTime:Cf(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new ld(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=Bd(e.version);return s=e.hasCommittedMutations,new ld(null,new ud(a,u),null,s,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=Bd(e.version);return new ld(new cd(c,l),null,null,!0,r,i)}return Vc()}function qd(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Hd(t){var e=new Qc(t[0],t[1]);return zc.fromTimestamp(e)}function Bd(t){var e=t.toTimestamp();return new rd(e.seconds,e.nanoseconds)}function Qd(t){var e=new Qc(t.seconds,t.nanoseconds);return zc.fromTimestamp(e)}function zd(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Lf(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return Lf(t.Lt,e)}),o=Qc.fromMillis(e.localWriteTimeMs);return new Pd(e.batchId,o,n,i)}function Gd(t){var e,n,r=Qd(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Qd(t.lastLimboFreeSnapshotVersion):zc.min();return void 0!==t.query.documents?(Mc(1===(n=t.query).documents.length),e=ih(Zl(jf(n.documents[0])))):e=function(t){return ih(qf(t))}(t.query),new Md(e,t.targetId,0,t.lastListenSequenceNumber,r,i,tl.fromBase64String(t.resumeToken))}function $d(t,e){var n,r=Bd(e.snapshotVersion),i=Bd(e.lastLimboFreeSnapshotVersion);n=Nl(e.target)?Ff(t.Lt,e.target):Uf(t.Lt,e.target);var o=e.resumeToken.toBase64();return new fd(e.targetId,Rl(e.target),r,o,e.sequenceNumber,i,n)}function Wd(t){var e=qf({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?oh(e,e.limit,"L"):e}var Kd=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Yd(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Qd(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return Yd(t).put({bundleId:(n=e).id,createTime:Bd(xf(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Zd(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Wd(e.bundledQuery),readTime:Qd(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return Zd(t).put(function(t){return{name:t.name,readTime:Bd(xf(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Yd(t){return Dd(t,bd.store)}function Zd(t){return Dd(t,yd.store)}var Xd=function(){function t(){this.Bt=new Jd}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Cd.resolve()},t.prototype.getCollectionParents=function(t,e){return Cd.resolve(this.Bt.getEntries(e))},t}(),Jd=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Xh(Yc.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Xh(Yc.comparator)).toArray()},t}(),tp=function(){function t(){this.qt=new Jd}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:Jf(i)};return ep(t).put(o)}return Cd.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Bc(e),""],!1,!0);return ep(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(nd(o.parent))}return n})},t}();function ep(t){return Dd(t,gd.store)}var np={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rp=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function ip(t,e,n){var r=t.store(sd.store),i=t.store(ad.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){Mc(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=ad.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Cd.waitFor(o).next(function(){return c})}function op(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Vc();e=t.noDocument}return JSON.stringify(e).length}rp.DEFAULT_COLLECTION_PERCENTILE=10,rp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rp.DEFAULT=new rp(41943040,rp.DEFAULT_COLLECTION_PERCENTILE,rp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rp.DISABLED=new rp(-1,0,0);var sp=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return Mc(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return up(t).$t({index:sd.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=cp(t),s=up(t);return s.add({}).next(function(a){Mc("number"==typeof a);for(var u=new Pd(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Mf(t.Lt,e)}),i=n.mutations.map(function(e){return Mf(t.Lt,e)});return new sd(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new Xh(function(t,e){return qc(t.canonicalString(),e.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],g=ad.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(g,ad.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Kt[a]=u.keys()}),Cd.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return up(t).get(e).next(function(t){return t?(Mc(t.userId===n.userId),zd(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?Cd.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return up(t).$t({index:sd.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Mc(e.batchId>=r),o=zd(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return up(t).$t({index:sd.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return up(t).Nt(sd.userMutationsIndex,n).next(function(t){return t.map(function(t){return zd(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=ad.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return cp(t).$t({range:i},function(r,i,s){var a=r[0],u=r[2],c=nd(r[1]);if(a===n.userId&&e.path.isEqual(c))return up(t).get(u).next(function(t){if(!t)throw Vc();Mc(t.userId===n.userId),o.push(zd(n.R,t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Xh(qc),i=[];return e.forEach(function(e){var o=ad.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=cp(t).$t({range:s},function(t,i,o){var s=t[0],a=t[2],u=nd(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),Cd.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=ad.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Xh(qc);return cp(t).$t({range:s},function(t,e,o){var s=t[0],u=t[2],c=nd(t[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(up(t).get(e).next(function(t){if(null===t)throw Vc();Mc(t.userId===n.userId),r.push(zd(n.R,t))}))}),Cd.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return ip(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),Cd.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Cd.resolve();var r=IDBKeyRange.lowerBound(ad.prefixForUser(e.userId)),i=[];return cp(t).$t({range:r},function(t,n,r){if(t[0]===e.userId){var o=nd(t[1]);i.push(o)}else r.done()}).next(function(){Mc(0===i.length)})})},t.prototype.containsKey=function(t,e){return ap(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return lp(t).get(this.userId).next(function(t){return t||new od(e.userId,-1,"")})},t}();function ap(t,e,n){var r=ad.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return cp(t).$t({range:o,Ft:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function up(t){return Dd(t,sd.store)}function cp(t){return Dd(t,ad.store)}function lp(t){return Dd(t,od.store)}var hp=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),fp=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new hp(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return zc.fromTimestamp(new Qc(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return dp(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return Mc(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return dp(t).$t(function(s,a){var u=Gd(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return Cd.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return dp(t).$t(function(t,n){var r=Gd(n);e(r)})},t.prototype.Xt=function(t){return pp(t).get(pd.key).next(function(t){return Mc(null!==t),t})},t.prototype.Zt=function(t,e){return pp(t).put(pd.key,e)},t.prototype.te=function(t,e){return dp(t).put($d(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Rl(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return dp(t).$t({range:r,index:fd.queryTargetsIndexName},function(t,n,r){var o=Gd(n);jl(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=gp(t);return e.forEach(function(e){var s=Jf(e.path);i.push(o.put(new dd(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))}),Cd.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=gp(t);return Cd.forEach(e,function(e){var o=Jf(e.path);return Cd.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=gp(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=gp(t),i=uf();return r.$t({range:n,Ft:!0},function(t,e,n){var r=nd(t[1]),o=new hl(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=Jf(e.path),r=IDBKeyRange.bound([n],[Bc(n)],!1,!0),i=0;return gp(t).$t({index:dd.documentTargetsIndex,Ft:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return dp(t).get(e).next(function(t){return t?Gd(t):null})},t}();function dp(t){return Dd(t,fd.store)}function pp(t){return Dd(t,pd.store)}function gp(t){return Dd(t,dd.store)}function mp(t){return Object(Ui.b)(this,void 0,void 0,function(){return Object(Ui.d)(this,function(e){if(t.code!==kc.FAILED_PRECONDITION||t.message!==_d)throw t;return jc("LocalStore","Unexpectedly lost primary lease"),[2]})})}function bp(t,e){var n=t[1],r=e[1],i=qc(t[0],e[0]);return 0===i?qc(n,r):i}var yp=function(){function t(t){this.ne=t,this.buffer=new Xh(bp),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();bp(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),vp=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;jc("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(Ui.b)(e,void 0,void 0,function(){var e;return Object(Ui.d)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return kd(e=n.sent())?(jc("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,mp(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),_p=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Cd.resolve(Tc.o);var r=new yp(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(jc("LruGarbageCollector","Garbage collection skipped; disabled"),Cd.resolve(np)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(jc("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),np):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(jc("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),Rc()<=vo.a.DEBUG&&jc("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Cd.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),wp=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new _p(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return Sp(t,n)},t.prototype.removeReference=function(t,e,n){return Sp(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Sp(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return lp(t).Ot(function(r){return ap(t,r,e).next(function(t){return t&&(n=!0),Cd.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(s,a){if(a<=e){var u=n._e(t,s).next(function(e){if(!e)return o++,r.getEntry(t,s).next(function(){return r.removeEntry(s),gp(t).delete([0,Jf(s.path)])})});i.push(u)}}).next(function(){return Cd.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Sp(t,e)},t.prototype.we=function(t,e){var n,r=gp(t),i=Tc.o;return r.$t({index:dd.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Tc.o&&e(new hl(nd(n)),i),i=s,n=o):i=Tc.o}).next(function(){i!==Tc.o&&e(new hl(nd(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Sp(t,e){return gp(t).put(function(t,e){return new dd(0,Jf(t.path),e)}(e,t.currentSequenceNumber))}var Cp=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){$c(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return Wc(this.inner)},t}(),Ep=function(){function t(){this.changes=new Cp(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:zc.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:kl.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Cd.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Op=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return kp(t).put(Ip(e),n)},t.prototype.removeEntry=function(t,e){var n=kp(t),r=Ip(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return kp(t).get(Ip(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return kp(t).get(Ip(e)).next(function(t){return{document:n.ye(e,t),size:op(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=ef();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=ef(),i=new Kh(hl.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,op(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Cd.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return kp(t).$t({range:r},function(t,e,r){for(var s=hl.fromSegments(t);o&&hl.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=ef(),o=e.path.length+1,s={};if(n.isEqual(zc.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=qd(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=ld.collectionReadTimeIndex}return kp(t).$t(s,function(t,n,s){if(t.length===o){var a=Fd(r.R,n);e.path.isPrefixOf(a.key.path)?ch(e,a)&&(i=i.insert(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new xp(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Tp(t).get(hd.key).next(function(t){return Mc(!!t),t})},t.prototype.me=function(t,e){return Tp(t).put(hd.key,e)},t.prototype.ye=function(t,e){if(e){var n=Fd(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(zc.min()))return n}return kl.newInvalidDocument(t)},t}(),xp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Cp(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Ui.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Xh(function(t,e){return qc(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=Ud(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=op(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=Ud(e.Ie.R,kl.newNoDocument(o,zc.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),Cd.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(Ep);function Tp(t){return Dd(t,hd.store)}function kp(t){return Dd(t,ld.store)}function Ip(t){return t.path.toArray()}var Ap=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Mc(n<r&&n>=0&&r<=11);var o=new Ed("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(id.store)}(t),function(t){t.createObjectStore(od.store,{keyPath:od.keyPath}),t.createObjectStore(sd.store,{keyPath:sd.keyPath,autoIncrement:!0}).createIndex(sd.userMutationsIndex,sd.userMutationsKeyPath,{unique:!0}),t.createObjectStore(ad.store)}(t),Rp(t),function(t){t.createObjectStore(ld.store)}(t));var s=Cd.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(dd.store),t.deleteObjectStore(fd.store),t.deleteObjectStore(pd.store)}(t),Rp(t)),s=s.next(function(){return function(t){var e=t.store(pd.store),n=new pd(0,0,zc.min().toTimestamp(),0);return e.put(pd.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(sd.store).Nt().next(function(n){t.deleteObjectStore(sd.store),t.createObjectStore(sd.store,{keyPath:sd.keyPath,autoIncrement:!0}).createIndex(sd.userMutationsIndex,sd.userMutationsKeyPath,{unique:!0});var r=e.store(sd.store),i=n.map(function(t){return r.put(t)});return Cd.waitFor(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(md.store,{keyPath:md.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Re(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(hd.store)}(t),i.be(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ve(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(ld.store);e.createIndex(ld.readTimeIndex,ld.readTimeIndexPath,{unique:!1}),e.createIndex(ld.collectionReadTimeIndex,ld.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Ve(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(bd.store,{keyPath:bd.keyPath})}(t),function(t){t.createObjectStore(yd.store,{keyPath:yd.keyPath})}(t)})),s},t.prototype.be=function(t){var e=0;return t.store(ld.store).$t(function(t,n){e+=op(n)}).next(function(){var n=new hd(e);return t.store(hd.store).put(hd.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(od.store),r=t.store(sd.store);return n.Nt().next(function(n){return Cd.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(sd.userMutationsIndex,i).next(function(r){return Cd.forEach(r,function(r){Mc(r.userId===n.userId);var i=zd(e.R,r);return ip(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(dd.store),n=t.store(ld.store);return t.store(pd.store).get(pd.key).next(function(t){var r=[];return n.$t(function(n,i){var o=new Yc(n),s=function(t){return[0,Jf(t)]}(o);r.push(e.get(s).next(function(n){return n?Cd.resolve():function(n){return e.put(new dd(0,Jf(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Cd.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(gd.store,{keyPath:gd.keyPath});var n=e.store(gd.store),r=new Jd,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Jf(i)})}};return e.store(ld.store).$t({Ft:!0},function(t,e){var n=new Yc(t);return i(n.popLast())}).next(function(){return e.store(ad.store).$t({Ft:!0},function(t,e){var n=nd(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(fd.store);return n.$t(function(t,r){var i=Gd(r),o=$d(e.R,i);return n.put(o)})},t}();function Rp(t){t.createObjectStore(dd.store,{keyPath:dd.keyPath}).createIndex(dd.documentTargetsIndex,dd.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(fd.store,{keyPath:fd.keyPath}).createIndex(fd.queryTargetsIndexName,fd.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(pd.store)}var jp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Np=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Ic(kc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new wp(this,i),this.Le=n+"main",this.R=new Ld(u),this.Be=new Od(this.Le,11,new Ap(this.R)),this.qe=new fp(this.referenceDelegate,this.R),this.Ut=new tp,this.Ue=function(t,e){return new Op(t,e)}(this.R,this.Ut),this.Ke=new Kd,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&Nc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Ic(kc.FAILED_PRECONDITION,jp);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Tc(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(Ui.b)(e,void 0,void 0,function(){return Object(Ui.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(Ui.b)(e,void 0,void 0,function(){return Object(Ui.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(Ui.b)(e,void 0,void 0,function(){return Object(Ui.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Pp(e).put(new md(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(kd(e))return jc("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return jc("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return Dp(t).get(id.key).next(function(t){return Cd.resolve(e.tn(t))})},t.prototype.en=function(t){return Pp(t).delete(this.clientId)},t.prototype.nn=function(){return Object(Ui.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(Ui.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Dd(t,md.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Cd.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)this.Qe.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Cd.resolve(!0):Dp(t).get(id.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Ic(kc.FAILED_PRECONDITION,jp);return!1}}return!(!e.networkEnabled||!e.inForeground)||Pp(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&jc("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(Ui.b)(this,void 0,void 0,function(){var t=this;return Object(Ui.d)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[id.store,md.store],function(e){var n=new Nd(e,Tc.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Pp(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return sp.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r,i=this;return jc("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",vd,function(o){return r=new Nd(o,i.Ne?i.Ne.next():Tc.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw Nc("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new Ic(kc.FAILED_PRECONDITION,_d);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return Dp(t).get(id.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Ic(kc.FAILED_PRECONDITION,jp)})},t.prototype.Ze=function(t){var e=new id(this.clientId,this.allowTabSynchronization,Date.now());return Dp(t).put(id.key,e)},t.yt=function(){return Od.yt()},t.prototype.Xe=function(t){var e=this,n=Dp(t);return n.get(id.key).next(function(t){return e.tn(t)?(jc("IndexedDbPersistence","Releasing primary lease."),n.delete(id.key)):Cd.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Nc("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ke=function(){e.un(),Object(yo.r)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return jc("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Nc("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Nc("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Dp(t){return Dd(t,id.store)}function Pp(t){return Dd(t,md.store)}function Vp(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Mp=function(t,e){this.progress=t,this.wn=e},Lp=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return hl.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):nh(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new hl(e)).next(function(t){var e=rf();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=rf();return this.Ut.getCollectionParents(t,i).next(function(s){return Cd.forEach(s,function(s){var a=function(t,e){return new Kl(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=kl.newInvalidDocument(c),r=r.insert(c,l)),Nh(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){ch(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=uf(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Lh&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),Fp=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=uf(),i=uf(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Up=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(zc.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var s=i.Cn(e,o);return(Xl(e)||Jl(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(Rc()<=vo.a.DEBUG&&jc("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),uh(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new Xh(lh(t));return e.forEach(function(e,r){ch(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Rc()<=vo.a.DEBUG&&jc("QueryEngine","Using full collection scan to execute query:",uh(e)),this.Sn.getDocumentsMatchingQuery(t,e,zc.min())},t}(),qp=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.kn=new Kh(qc),this.Fn=new Cp(function(t){return Rl(t)},jl),this.$n=zc.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Lp(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.kn)})},t}();function Hp(t,e,n,r){return new qp(t,e,n,r)}function Bp(t,e){return Object(Ui.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Ui.d)(this,function(s){switch(s.label){case 0:return n=Lc(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new Lp(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],s=uf(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.pn(t,s).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function Qp(t,e){var n=Lc(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Cd.resolve();return o.forEach(function(t){s=s.next(function(){return r.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);Mc(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),s.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function zp(t){var e=Lc(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function Gp(t,e){var n=Lc(t),r=e.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var s=[];e.targetChanges.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return Mc(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.qe.updateTargetData(t,c))}}});var a=ef();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),s.push($p(t,o,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(zc.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});s.push(u)}return Cd.waitFor(s).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.kn=i,t})}function $p(t,e,n,r,i){var o=uf();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=ef();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(zc.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):jc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function Wp(t,e){var n=Lc(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function Kp(t,e){var n=Lc(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?Cd.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new Md(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.kn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(t.targetId,t),n.Fn.set(e,t.targetId)),t})}function Yp(t,e,n){return Object(Ui.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Ui.d)(this,function(a){switch(a.label){case 0:r=Lc(t),i=r.kn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!kd(s=a.sent()))throw s;return jc("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.kn=r.kn.remove(e),r.Fn.delete(i.target),[2]}})})}function Zp(t,e,n){var r=Lc(t),i=zc.min(),o=uf();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Lc(t),i=r.Fn.get(n);return void 0!==i?Cd.resolve(r.kn.get(i)):r.qe.getTargetData(e,n)}(r,t,ih(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:zc.min(),n?o:uf())}).next(function(t){return{documents:t,Bn:o}})})}function Xp(t,e){var n=Lc(t),r=Lc(n.qe),i=n.kn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function Jp(t){var e=Lc(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Lc(t),i=ef(),o=qd(n),s=kp(e),a=IDBKeyRange.lowerBound(o,!0);return s.$t({index:ld.readTimeIndex,range:a},function(t,e){var n=Fd(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:Hd(o)}})}(e.On,t,e.$n)}).then(function(t){var n=t.wn;return e.$n=t.readTime,n})}function tg(t){return Object(Ui.b)(this,void 0,void 0,function(){var e;return Object(Ui.d)(this,function(n){return[2,(e=Lc(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=kp(t),n=zc.min();return e.$t({index:ld.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Hd(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$n=t})]})})}function eg(t,e,n,r){return Object(Ui.b)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,f,d;return Object(Ui.d)(this,function(p){switch(p.label){case 0:for(i=Lc(t),o=uf(),s=ef(),a=sf(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Kn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,Kp(i,function(t){return ih(Zl(Yc.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return $p(t,f,s,zc.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.qe.addMatchingKeys(t,o,d.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function ng(t,e,n){return void 0===n&&(n=uf()),Object(Ui.b)(this,void 0,void 0,function(){var r,i;return Object(Ui.d)(this,function(o){switch(o.label){case 0:return[4,Kp(t,ih(Wd(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Lc(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=xf(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(t,e);var s=r.withResumeToken(tl.EMPTY_BYTE_STRING,o);return i.kn=i.kn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(t,e)})})]}})})}var rg=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Cd.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:xf(n.createTime)}),Cd.resolve()},t.prototype.getNamedQuery=function(t,e){return Cd.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Wd(t.bundledQuery),readTime:xf(t.readTime)}}(e)),Cd.resolve()},t}(),ig=function(){function t(){this.Wn=new Xh(og.Gn),this.zn=new Xh(og.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new og(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new og(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new hl(new Yc([])),r=new og(n,t),i=new og(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new hl(new Yc([])),n=new og(e,t),r=new og(e,t+1),i=uf();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new og(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),og=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return hl.comparator(t.key,e.key)||qc(t.ns,e.ns)},t.Hn=function(t,e){return qc(t.ns,e.ns)||hl.comparator(t.key,e.key)},t}(),sg=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Xh(og.Gn)}return t.prototype.checkEmpty=function(t){return Cd.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new Pd(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new og(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Cd.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Cd.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return Cd.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Cd.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Cd.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new og(e,0),i=new og(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),Cd.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Xh(qc);return e.forEach(function(t){var e=new og(t,0),i=new og(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),Cd.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;hl.isDocumentKey(i)||(i=i.child(""));var o=new og(new hl(i),0),s=new Xh(qc);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)},o),Cd.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Mc(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Cd.forEach(e.mutations,function(i){var o=new og(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new og(e,0),r=this.rs.firstAfterOrEqual(n);return Cd.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Cd.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),ag=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Kh(hl.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Cd.resolve(n?n.document.clone():kl.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=ef();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():kl.newInvalidDocument(t))}),Cd.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=ef(),i=new hl(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||ch(e,u)&&(r=r.insert(u.key,u.clone()))}return Cd.resolve(r)},t.prototype.fs=function(t,e){return Cd.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new ug(this)},t.prototype.getSize=function(t){return Cd.resolve(this.size)},t}(),ug=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(Ui.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),Cd.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Ep),cg=function(){function t(t){this.persistence=t,this.ds=new Cp(function(t){return Rl(t)},jl),this.lastRemoteSnapshotVersion=zc.min(),this.highestTargetId=0,this.ws=0,this._s=new ig,this.targetCount=0,this.ys=hp.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),Cd.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Cd.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Cd.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Cd.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Cd.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new hp(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Cd.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Cd.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Cd.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Cd.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return Cd.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Cd.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Cd.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),Cd.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Cd.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Cd.resolve(n)},t.prototype.containsKey=function(t,e){return Cd.resolve(this._s.containsKey(e))},t}(),lg=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Tc(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new cg(this),this.Ut=new Xd,this.Ue=function(t,e){return new ag(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new Ld(e),this.Ke=new rg(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new sg(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;jc("MemoryPersistence","Starting transaction:",t);var i=new hg(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return Cd.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),hg=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(Ui.c)(e,t),e}(wd),fg=function(){function t(t){this.persistence=t,this.As=new ig,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Vc()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Cd.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Cd.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Cd.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Cd.forEach(this.vs,function(r){var i=hl.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Cd.or([function(){return Cd.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),dg=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function pg(t,e){return"firestore_clients_"+t+"_"+e}function gg(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function mg(t,e){return"firestore_targets_"+t+"_"+e}dg.UNAUTHENTICATED=new dg(null),dg.GOOGLE_CREDENTIALS=new dg("google-credentials-uid"),dg.FIRST_PARTY=new dg("first-party-uid"),dg.MOCK_USER=new dg("mock-user");var bg=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Ic(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Nc("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),yg=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Ic(i.error.code,i.error.message)),o?new t(e,i.state,r):(Nc("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),vg=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=lf(),s=0;i&&s<r.activeTargetIds.length;++s)i=ll(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Nc("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),_g=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Nc("SharedClientState","Failed to parse online state: "+e),null)},t}(),wg=function(){function t(){this.activeTargetIds=lf()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Sg=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Kh(qc),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=pg(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new wg),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Ui.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(Ui.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(pg(this.persistenceKey,r)))&&(o=vg.Vs(r,i))&&(this.Fs=this.Fs.insert(o.clientId,o));for(this.Qs(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.$s;u<c.length;u++)this.ks(c[u]);return this.$s=[],this.window.addEventListener("pagehide",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.Fs.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(mg(this.persistenceKey,t));if(n){var r=yg.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(mg(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return jc("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){jc("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){jc("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.ks=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(jc("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Nc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(Ui.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(Ui.d)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=Tc.o;if(null!=t)try{var n=JSON.parse(t);Mc("number"==typeof n),e=n}catch(t){Nc("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Tc.o&&this.sequenceNumberHandler(s);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new bg(this.currentUser,t,e,n),i=gg(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=gg(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=mg(this.persistenceKey,t),i=new yg(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return vg.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return bg.Vs(new dg(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return yg.Vs(r,e)},t.prototype.js=function(t){return _g.Vs(t)},t.prototype.ii=function(t){return Object(Ui.b)(this,void 0,void 0,function(){return Object(Ui.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(jc("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.Fs.insert(t,e):this.Fs.remove(t),i=this.Gs(this.Fs),o=this.Gs(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.hi(s,a).then(function(){n.Fs=r})},t.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=lf();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),Cg=function(){function t(){this.li=new wg,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new wg,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Eg=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),Og=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){jc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){jc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),xg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Tg=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),kg=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return Object(Ui.c)(e,t),e.prototype.Fi=function(t,e,n,r){return new Promise(function(i,o){var s=new xc;s.listenOnce(Sc.COMPLETE,function(){try{switch(s.getLastErrorCode()){case wc.NO_ERROR:var e=s.getResponseJson();jc("Connection","XHR received:",JSON.stringify(e)),i(e);break;case wc.TIMEOUT:jc("Connection",'RPC "'+t+'" timed out'),o(new Ic(kc.DEADLINE_EXCEEDED,"Request time out"));break;case wc.HTTP_ERROR:var n=s.getStatus();if(jc("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(kc).indexOf(e)>=0?e:kc.UNKNOWN}(r.status);o(new Ic(a,r.message))}else o(new Ic(kc.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Ic(kc.UNAVAILABLE,"Connection failed."));break;default:Vc()}}finally{jc("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new mc,i=la(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Ec({})),this.ki(o.initMessageHeaders,e),Object(yo.o)()||Object(yo.q)()||Object(yo.m)()||Object(yo.n)()||Object(yo.s)()||Object(yo.l)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");jc("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new Tg({Ei:function(t){c?jc("Connection","Not sending because WebChannel is closed:",t):(u||(jc("Connection","Opening WebChannel transport."),a.open(),u=!0),jc("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Oc.EventType.OPEN,function(){c||jc("Connection","WebChannel transport opened.")}),h(a,Oc.EventType.CLOSE,function(){c||(c=!0,jc("Connection","WebChannel transport closed"),l.Vi())}),h(a,Oc.EventType.ERROR,function(t){c||(c=!0,Dc("Connection","WebChannel transport errored:",t),l.Vi(new Ic(kc.UNAVAILABLE,"The operation could not be completed")))}),h(a,Oc.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];Mc(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){jc("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Hh[t];if(void 0!==e)return Wh(e)}(i),s=r.message;void 0===o&&(o=kc.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new Ic(o,s)),a.close()}else jc("Connection","WebChannel received:",n),l.Si(n)}}),h(i,Cc.STAT_EVENT,function(t){10===t.stat?jc("Connection","Detected buffering proxy"):11===t.stat&&jc("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);jc("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(t,i,o,n).then(function(t){return jc("RestConnection","Received: ",t),t},function(e){throw Dc("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.ki=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+xg[t]},t}());function Ig(){return"undefined"!=typeof window?window:null}function Ag(){return"undefined"!=typeof document?document:null}function Rg(t){return new Sf(t,!0)}var jg=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&jc("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Ng=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new jg(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(Ui.b)(this,void 0,void 0,function(){return Object(Ui.d)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(Ui.b)(this,void 0,void 0,function(){return Object(Ui.d)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(Ui.b)(this,void 0,void 0,function(){return Object(Ui.d)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===kc.RESOURCE_EXHAUSTED?(Nc(e.toString()),Nc("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===kc.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new Ic(kc.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(Ui.b)(t,void 0,void 0,function(){return Object(Ui.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return jc("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(jc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Dg=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return Object(Ui.c)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Vc()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(Mc(void 0===e||"string"==typeof e),tl.fromBase64String(e||"")):(Mc(void 0===e||e instanceof Uint8Array),tl.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?kc.UNKNOWN:Wh(t.code);return new Ic(e,t.message||"")}(a);n=new gf(r,i,o,s||null)}else if("documentChange"in e){i=Af(t,(r=e.documentChange).document.name),o=xf(r.document.updateTime);var a=new xl({mapValue:{fields:r.document.fields}}),u=(s=kl.newFoundDocument(i,o,a),r.targetIds||[]);n=new df(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Af(t,(r=e.documentDelete).document),o=r.readTime?xf(r.readTime):zc.min(),a=kl.newNoDocument(i,o),n=new df([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Af(t,(r=e.documentRemove).document),n=new df([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Vc();var c=e.filter;i=new Gh(r=c.count||0),n=new pf(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return zc.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?zc.min():e.readTime?xf(e.readTime):zc.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Nf(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Nl(r)?{documents:Ff(t,r)}:{query:Uf(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Ef(t,e.resumeToken):e.snapshotVersion.compareTo(zc.min())>0&&(n.readTime=Cf(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Vc()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Nf(this.R),e.removeTarget=t,this.cr(e)},e}(Ng),Pg=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return Object(Ui.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(Mc(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Mc(void 0!==e),t.map(function(t){return function(t,e){var n=xf(t.updateTime?t.updateTime:e);return n.isEqual(zc.min())&&(n=xf(e)),new kh(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=xf(t.commitTime);return this.listener.Tr(n,e)}return Mc(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Nf(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Mf(e.R,t)})};this.cr(n)},e}(Ng),Vg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(Ui.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new Ic(kc.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===kc.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Ic(kc.UNKNOWN,t.toString())})},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===kc.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Ic(kc.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),Mg=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.kr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Nc(e),this.Vr=!1):jc("OnlineStateTracker",e)},t.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Lg=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(Ui.b)(o,void 0,void 0,function(){return Object(Ui.d)(this,function(t){switch(t.label){case 0:return $g(this)?(jc("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Ui.b)(this,void 0,void 0,function(){var e;return Object(Ui.d)(this,function(n){switch(n.label){case 0:return(e=Lc(t)).Or.add(4),[4,Ug(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,Fg(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new Mg(n,r)};function Fg(t){return Object(Ui.b)(this,void 0,void 0,function(){var e,n;return Object(Ui.d)(this,function(r){switch(r.label){case 0:if(!$g(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Ug(t){return Object(Ui.b)(this,void 0,void 0,function(){var e,n;return Object(Ui.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function qg(t,e){var n=Lc(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),Gg(n)?zg(n):um(n).er()&&Bg(n,e))}function Hg(t,e){var n=Lc(t),r=um(n);n.$r.delete(e),r.er()&&Qg(n,e),0===n.$r.size&&(r.er()?r.ir():$g(n)&&n.Br.set("Unknown"))}function Bg(t,e){t.qr.U(e.targetId),um(t).mr(e)}function Qg(t,e){t.qr.U(e),um(t).yr(e)}function zg(t){t.qr=new bf({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),um(t).start(),t.Br.Sr()}function Gg(t){return $g(t)&&!um(t).tr()&&t.$r.size>0}function $g(t){return 0===Lc(t).Or.size}function Wg(t){t.qr=void 0}function Kg(t){return Object(Ui.b)(this,void 0,void 0,function(){return Object(Ui.d)(this,function(e){return t.$r.forEach(function(e,n){Bg(t,e)}),[2]})})}function Yg(t,e){return Object(Ui.b)(this,void 0,void 0,function(){return Object(Ui.d)(this,function(n){return Wg(t),Gg(t)?(t.Br.Nr(e),zg(t)):t.Br.set("Unknown"),[2]})})}function Zg(t,e,n){return Object(Ui.b)(this,void 0,void 0,function(){var r,i,o;return Object(Ui.d)(this,function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof gf&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(Ui.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Ui.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.$r.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.$r.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),jc("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Xg(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof df?t.qr.X(e):e instanceof pf?t.qr.rt(e):t.qr.et(e),n.isEqual(zc.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,zp(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(tl.EMPTY_BYTE_STRING,n.snapshotVersion)),Qg(t,e);var r=new Md(n.target,e,1,n.sequenceNumber);Bg(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return jc("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Xg(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function Xg(t,e,n){return Object(Ui.b)(this,void 0,void 0,function(){var r=this;return Object(Ui.d)(this,function(i){switch(i.label){case 0:if(!kd(e))throw e;return t.Or.add(1),[4,Ug(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return zp(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(Ui.b)(r,void 0,void 0,function(){return Object(Ui.d)(this,function(e){switch(e.label){case 0:return jc("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,Fg(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Jg(t,e){return e().catch(function(n){return Xg(t,n,e)})}function tm(t){return Object(Ui.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(Ui.d)(this,function(s){switch(s.label){case 0:e=Lc(t),n=cm(e),r=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return $g(t)&&t.Fr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Wp(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.Fr.push(e);var n=cm(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Xg(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return em(e)&&nm(e),[2]}})})}function em(t){return $g(t)&&!cm(t).tr()&&t.Fr.length>0}function nm(t){cm(t).start()}function rm(t){return Object(Ui.b)(this,void 0,void 0,function(){return Object(Ui.d)(this,function(e){return cm(t).Ar(),[2]})})}function im(t){return Object(Ui.b)(this,void 0,void 0,function(){var e,n,r;return Object(Ui.d)(this,function(i){for(e=cm(t),n=0,r=t.Fr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function om(t,e,n){return Object(Ui.b)(this,void 0,void 0,function(){var r,i;return Object(Ui.d)(this,function(o){switch(o.label){case 0:return r=t.Fr.shift(),i=Vd.from(r,e,n),[4,Jg(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,tm(t)];case 2:return o.sent(),[2]}})})}function sm(t,e){return Object(Ui.b)(this,void 0,void 0,function(){return Object(Ui.d)(this,function(n){switch(n.label){case 0:return e&&cm(t).pr?[4,function(t,e){return Object(Ui.b)(this,void 0,void 0,function(){var n,r;return Object(Ui.d)(this,function(i){switch(i.label){case 0:return $h(r=e.code)&&r!==kc.ABORTED?(n=t.Fr.shift(),cm(t).sr(),[4,Jg(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,tm(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return em(t)&&nm(t),[2]}})})}function am(t,e){return Object(Ui.b)(this,void 0,void 0,function(){var n;return Object(Ui.d)(this,function(r){switch(r.label){case 0:return n=Lc(t),e?(n.Or.delete(2),[4,Fg(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,Ug(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function um(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Lc(t);return r.br(),new Dg(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Kg.bind(null,t),Ri:Yg.bind(null,t),_r:Zg.bind(null,t)}),t.Mr.push(function(n){return Object(Ui.b)(e,void 0,void 0,function(){return Object(Ui.d)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Gg(t)?zg(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Wg(t),e.label=3;case 3:return[2]}})})})),t.Ur}function cm(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var r=Lc(t);return r.br(),new Pg(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:rm.bind(null,t),Ri:sm.bind(null,t),Ir:im.bind(null,t),Tr:om.bind(null,t)}),t.Mr.push(function(n){return Object(Ui.b)(e,void 0,void 0,function(){return Object(Ui.d)(this,function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,tm(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.Fr.length>0&&(jc("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),e.label=4;case 4:return[2]}})})})),t.Kr}var lm=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Sd,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ic(kc.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function hm(t,e){if(Nc("AsyncQueue",e+": "+t),kd(t))return new Ic(kc.UNAVAILABLE,e+": "+t);throw t}var fm=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||hl.comparator(e.key,n.key)}:function(t,e){return hl.comparator(t.key,e.key)},this.keyedMap=rf(),this.sortedSet=new Kh(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),dm=function(){function t(){this.Qr=new Kh(hl.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):Vc():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),pm=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,fm.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&sh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),gm=function(){this.Wr=void 0,this.listeners=[]},mm=function(){this.queries=new Cp(function(t){return ah(t)},sh),this.onlineState="Unknown",this.Gr=new Set};function bm(t,e){return Object(Ui.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(Ui.d)(this,function(c){switch(c.label){case 0:if(n=Lc(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new gm),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=hm(a,"Initialization of query '"+uh(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&wm(n),[2]}})})}function ym(t,e){return Object(Ui.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Ui.d)(this,function(a){return n=Lc(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function vm(t,e){for(var n=Lc(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&wm(n)}function _m(t,e,n){var r=Lc(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function wm(t){t.Gr.forEach(function(t){t.next()})}var Sm=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new pm(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=pm.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Cm=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),Em=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Af(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Vf(this.R,t.document,!1):kl.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return xf(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new Em(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||uf()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(Ui.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(Ui.d)(this,function(o){switch(o.label){case 0:return[4,eg(this.localStore,new Em(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,ng(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Mp(Object.assign({},this.progress),t))]}})})}}();var Om=function(t){this.key=t},xm=function(t){this.key=t},Tm=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=uf(),this.mutatedKeys=uf(),this.lo=lh(t),this.fo=new fm(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new dm,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=Xl(this.query)&&i.size===this.query.limit?i.last():null,c=Jl(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=ch(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),Xl(this.query)||Jl(this.query))for(;s.size>this.query.limit;){var l=Xl(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Vc()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new pm(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new dm,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=uf(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new xm(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new Om(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=uf();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return pm.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),km=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Im=function(t){this.key=t,this.bo=!1},Am=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Cp(function(t){return ah(t)},sh),this.Vo=new Map,this.So=new Set,this.Do=new Kh(hl.comparator),this.Co=new Map,this.No=new ig,this.xo={},this.ko=new Map,this.Fo=hp.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function Rm(t,e){return Object(Ui.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Ui.d)(this,function(a){switch(a.label){case 0:return n=sb(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,Kp(n.localStore,ih(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,jm(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&qg(n.remoteStore,o),a.label=4;case 4:return[2,r]}})})}function jm(t,e,n,r){return Object(Ui.b)(this,void 0,void 0,function(){var i,o,s,a,u,c;return Object(Ui.d)(this,function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return Object(Ui.b)(this,void 0,void 0,function(){var i,o,s;return Object(Ui.d)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,Zp(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(zm(t,e.targetId,s.To),s.snapshot)]}})})}(t,e,n,r)},[4,Zp(t.localStore,e,!0)];case 1:return i=l.sent(),o=new Tm(e,i.Bn),s=o._o(i.documents),a=ff.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),zm(t,n,u.To),c=new km(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function Nm(t,e){return Object(Ui.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ui.d)(this,function(o){switch(o.label){case 0:return n=Lc(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!sh(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Yp(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Hg(n.remoteStore,r.targetId),Bm(n,r.targetId)}).catch(mp)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Bm(n,r.targetId),[4,Yp(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Dm(t,e,n){return Object(Ui.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Ui.d)(this,function(a){switch(a.label){case 0:r=ab(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Lc(t),i=Qc.now(),o=e.reduce(function(t,e){return t.add(e.key)},uf());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Dh(c,n.get(c.key));null!=l&&s.push(new Lh(c.key,l,Tl(l.value.mapValue),Ih.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Kh(qc)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Wm(r,i.changes)];case 3:return a.sent(),[4,tm(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=hm(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function Pm(t,e){return Object(Ui.b)(this,void 0,void 0,function(){var n,r;return Object(Ui.d)(this,function(i){switch(i.label){case 0:n=Lc(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Gp(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(Mc(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Mc(r.bo):t.removedDocuments.size>0&&(Mc(r.bo),r.bo=!1))}),[4,Wm(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,mp(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Vm(t,e,n){var r=Lc(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Lc(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&wm(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Mm(t,e,n){return Object(Ui.b)(this,void 0,void 0,function(){var r,i,o,s,a,u;return Object(Ui.d)(this,function(c){switch(c.label){case 0:return(r=Lc(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new Kh(hl.comparator)).insert(o,kl.newNoDocument(o,zc.min())),a=uf().add(o),u=new hf(zc.min(),new Map,new Xh(qc),s,a),[4,Pm(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),$m(r),[3,4];case 2:return[4,Yp(r.localStore,e,!1).then(function(){return Bm(r,e,n)}).catch(mp)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Lm(t,e){return Object(Ui.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ui.d)(this,function(o){switch(o.label){case 0:n=Lc(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Qp(n.localStore,e)];case 2:return i=o.sent(),Hm(n,r,null),qm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Wm(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,mp(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Fm(t,e,n){return Object(Ui.b)(this,void 0,void 0,function(){var r,i;return Object(Ui.d)(this,function(o){switch(o.label){case 0:r=Lc(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Lc(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return Mc(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),Hm(r,e,n),qm(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Wm(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,mp(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Um(t,e){return Object(Ui.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Ui.d)(this,function(a){switch(a.label){case 0:$g((n=Lc(t)).remoteStore)||jc("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Lc(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.ko.get(r)||[]).push(e),n.ko.set(r,i),[3,4]);case 3:return o=a.sent(),s=hm(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function qm(t,e){(t.ko.get(e)||[]).forEach(function(t){t.resolve()}),t.ko.delete(e)}function Hm(t,e,n){var r=Lc(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Bm(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||Qm(t,e)})}function Qm(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Hg(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),$m(t))}function zm(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Om?(t.No.addReference(o.key,e),Gm(t,o)):o instanceof xm?(jc("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Qm(t,o.key)):Vc()}}function Gm(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(jc("SyncEngine","New document in limbo: "+n),t.So.add(r),$m(t))}function $m(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new hl(Yc.fromString(e)),r=t.Fo.next();t.Co.set(r,new Im(n)),t.Do=t.Do.insert(n,r),qg(t.remoteStore,new Md(ih(Zl(n.path)),r,2,Tc.o))}}function Wm(t,e,n){return Object(Ui.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Ui.d)(this,function(a){switch(a.label){case 0:return r=Lc(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){s.push(r.Oo(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Fp.Pn(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Object(Ui.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return Object(Ui.d)(this,function(l){switch(l.label){case 0:n=Lc(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Cd.forEach(e,function(e){return Cd.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return Cd.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!kd(r=l.sent()))throw r;return jc("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.kn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.kn=n.kn.insert(a,c));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function Km(t,e){return Object(Ui.b)(this,void 0,void 0,function(){var n,r;return Object(Ui.d)(this,function(i){switch(i.label){case 0:return(n=Lc(t)).currentUser.isEqual(e)?[3,3]:(jc("SyncEngine","User change. New user:",e.toKey()),[4,Bp(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.ko.forEach(function(t){t.forEach(function(t){t.reject(new Ic(kc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.ko.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Wm(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Ym(t,e){var n=Lc(t),r=n.Co.get(e);if(r&&r.bo)return uf().add(r.key);var i=uf(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Po.get(a[s]);i=i.unionWith(u.view.wo)}return i}function Zm(t,e){return Object(Ui.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ui.d)(this,function(o){switch(o.label){case 0:return[4,Zp((n=Lc(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&zm(n,e.targetId,i.To),i)]}})})}function Xm(t){return Object(Ui.b)(this,void 0,void 0,function(){var e;return Object(Ui.d)(this,function(n){return[2,Jp((e=Lc(t)).localStore).then(function(t){return Wm(e,t)})]})})}function Jm(t,e,n,r){return Object(Ui.b)(this,void 0,void 0,function(){var i,o;return Object(Ui.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=Lc(t),r=Lc(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):Cd.resolve(null)})})}((i=Lc(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,tm(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Hm(i,e,r||null),qm(i,e),function(t,e){Lc(Lc(t)._n).Gt(e)}(i.localStore,e)):Vc(),s.label=4;case 4:return[4,Wm(i,o)];case 5:return s.sent(),[3,7];case 6:jc("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function tb(t,e){return Object(Ui.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(Ui.d)(this,function(c){switch(c.label){case 0:return sb(n=Lc(t)),ab(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,eb(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,am(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)qg(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return Bm(n,e),Yp(n.localStore,e,!0)}),Hg(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,eb(n,a)];case 5:return c.sent(),function(t){var e=Lc(t);e.Co.forEach(function(t,n){Hg(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new Kh(hl.comparator)}(n),n.$o=!1,[4,am(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function eb(t,e,n){return Object(Ui.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return Object(Ui.d)(this,function(g){switch(g.label){case 0:n=Lc(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Vo.get(a=s[o]))&&0!==c.length?[4,Kp(n.localStore,ih(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,Zm(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Xp(n.localStore,a)];case 8:return p=g.sent(),[4,Kp(n.localStore,p)];case 9:return u=g.sent(),[4,jm(n,nb(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function nb(t){return Yl(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function rb(t){var e=Lc(t);return Lc(Lc(e.localStore).persistence).fn()}function ib(t,e,n,r){return Object(Ui.b)(this,void 0,void 0,function(){var i,o,s;return Object(Ui.d)(this,function(a){switch(a.label){case 0:return(i=Lc(t)).$o?(jc("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Jp(i.localStore)];case 3:return o=a.sent(),s=hf.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Wm(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Yp(i.localStore,e,!0)];case 6:return a.sent(),Bm(i,e,r),[3,8];case 7:Vc(),a.label=8;case 8:return[2]}})})}function ob(t,e,n){return Object(Ui.b)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return Object(Ui.d)(this,function(f){switch(f.label){case 0:if(!(r=sb(t)).$o)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?(jc("SyncEngine","Adding an already active target "+s),[3,5]):[4,Xp(r.localStore,s)]:[3,6];case 2:return a=f.sent(),[4,Kp(r.localStore,a)];case 3:return u=f.sent(),[4,jm(r,nb(a),u.targetId,!1)];case 4:f.sent(),qg(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Ui.d)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Yp(r.localStore,t,!1).then(function(){Hg(r.remoteStore,t),Bm(r,t)}).catch(mp)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function sb(t){var e=Lc(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Pm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ym.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Mm.bind(null,e),e.vo._r=vm.bind(null,e.eventManager),e.vo.Mo=_m.bind(null,e.eventManager),e}function ab(t){var e=Lc(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Lm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Fm.bind(null,e),e}var ub=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Ui.b)(this,void 0,void 0,function(){return Object(Ui.d)(this,function(e){switch(e.label){case 0:return this.R=Rg(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return Hp(this.persistence,new Up,t.initialUser,this.R)},t.prototype.qo=function(t){return new lg(fg.bs,this.R)},t.prototype.Bo=function(t){return new Cg},t.prototype.terminate=function(){return Object(Ui.b)(this,void 0,void 0,function(){return Object(Ui.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),cb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Ui.c)(e,t),e.prototype.initialize=function(e){return Object(Ui.b)(this,void 0,void 0,function(){var n=this;return Object(Ui.d)(this,function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),[4,tg(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,e)];case 3:return r.sent(),[4,ab(this.Qo.syncEngine)];case 4:return r.sent(),[4,tm(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He(function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()})];case 6:return r.sent(),[2]}})})},e.prototype.Ko=function(t){return Hp(this.persistence,new Up,t.initialUser,this.R)},e.prototype.Uo=function(t){return new vp(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=Vp(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?rp.withCacheSize(this.cacheSizeBytes):rp.DEFAULT;return new Np(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Ig(),Ag(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Cg},e}(ub),lb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Ui.c)(e,t),e.prototype.initialize=function(e){return Object(Ui.b)(this,void 0,void 0,function(){var n,r=this;return Object(Ui.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof Sg?(this.sharedClientState.syncEngine={ui:Jm.bind(null,n),ai:ib.bind(null,n),hi:ob.bind(null,n),fn:rb.bind(null,n),ci:Xm.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return Object(Ui.b)(r,void 0,void 0,function(){return Object(Ui.d)(this,function(e){switch(e.label){case 0:return[4,tb(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=Ig();if(!Sg.yt(e))throw new Ic(kc.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Vp(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Sg(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(cb),hb=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Ui.b)(this,void 0,void 0,function(){var n=this;return Object(Ui.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Vm(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Km.bind(null,this.syncEngine),[4,am(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new mm},t.prototype.createDatastore=function(t){var e=Rg(t.databaseInfo.databaseId),n=new kg(t.databaseInfo);return function(t,e,n){return new Vg(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Vm(s.syncEngine,t,0)},o=Og.yt()?new Og:new Eg,new Lg(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new Am(t,e,n,r,i,o);return s&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(Ui.b)(this,void 0,void 0,function(){var e;return Object(Ui.d)(this,function(n){switch(n.label){case 0:return e=Lc(t),jc("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,Ug(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),fb=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),db=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Sd,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(Ui.b)(this,void 0,void 0,function(){return Object(Ui.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(Ui.b)(this,void 0,void 0,function(){return Object(Ui.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(Ui.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(Ui.d)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Cm(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(Ui.b)(this,void 0,void 0,function(){var t,e;return Object(Ui.d)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(Ui.b)(this,void 0,void 0,function(){var e;return Object(Ui.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(Ui.b)(this,void 0,void 0,function(){var t,e;return Object(Ui.d)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(Ui.b)(this,void 0,void 0,function(){var e,n=this;return Object(Ui.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Ic(kc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Ui.b)(this,void 0,void 0,function(){var n,r,i,o,s,a;return Object(Ui.d)(this,function(u){switch(u.label){case 0:return n=Lc(t),r=Nf(n.R)+"/documents",i={documents:e.map(function(t){return If(n.R,t)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Mc(!!e.found);var n=Af(t,e.found.name),r=xf(e.found.updateTime),i=new xl({mapValue:{fields:e.found.fields}});return kl.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Mc(!!e.missing),Mc(!!e.readTime);var n=Af(t,e.missing),r=xf(e.readTime);return kl.newNoDocument(n,r)}(t,e):Vc()}(n.R,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());Mc(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Qh(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(Ui.b)(this,void 0,void 0,function(){var t,e=this;return Object(Ui.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=hl.fromPath(n);e.mutations.push(new zh(r,e.precondition(r)))}),[4,function(t,e){return Object(Ui.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ui.d)(this,function(o){switch(o.label){case 0:return n=Lc(t),r=Nf(n.R)+"/documents",i={writes:e.map(function(t){return Mf(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Vc();e=zc.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Ic(kc.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Ih.updateTime(e):Ih.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(zc.min()))throw new Ic(kc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ih.updateTime(e)}return Ih.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),pb=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new jg(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(Ui.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Ui.d)(this,function(r){return t=new db(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!ul(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!$h(e)}return!1},t}(),gb=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=dg.UNAUTHENTICATED,this.clientId=Uc.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return Object(Ui.b)(r,void 0,void 0,function(){return Object(Ui.d)(this,function(e){switch(e.label){case 0:return jc("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return Object(Ui.b)(this,void 0,void 0,function(){return Object(Ui.d)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Ic(kc.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Sd;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Ui.b)(t,void 0,void 0,function(){var t,n;return Object(Ui.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=hm(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function mb(t,e){return Object(Ui.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(Ui.d)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),jc("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return Object(Ui.b)(i,void 0,void 0,function(){return Object(Ui.d)(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,Bp(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function bb(t,e){return Object(Ui.b)(this,void 0,void 0,function(){var n,r;return Object(Ui.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,yb(t)];case 1:return n=i.sent(),jc("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return Object(Ui.b)(this,void 0,void 0,function(){var n,r;return Object(Ui.d)(this,function(i){switch(i.label){case 0:return(n=Lc(t)).asyncQueue.verifyOperationInProgress(),jc("RemoteStore","RemoteStore received new credentials"),r=$g(n),n.Or.add(3),[4,Ug(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,Fg(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function yb(t){return Object(Ui.b)(this,void 0,void 0,function(){return Object(Ui.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(jc("FirestoreClient","Using default OfflineComponentProvider"),[4,mb(t,new ub)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function vb(t){return Object(Ui.b)(this,void 0,void 0,function(){return Object(Ui.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(jc("FirestoreClient","Using default OnlineComponentProvider"),[4,bb(t,new hb)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function _b(t){return yb(t).then(function(t){return t.persistence})}function wb(t){return yb(t).then(function(t){return t.localStore})}function Sb(t){return vb(t).then(function(t){return t.remoteStore})}function Cb(t){return vb(t).then(function(t){return t.syncEngine})}function Eb(t){return Object(Ui.b)(this,void 0,void 0,function(){var e,n;return Object(Ui.d)(this,function(r){switch(r.label){case 0:return[4,vb(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Rm.bind(null,e.syncEngine),n.onUnlisten=Nm.bind(null,e.syncEngine),n)]}})})}function Ob(t,e,n){var r=this;void 0===n&&(n={});var i=new Sd;return t.asyncQueue.enqueueAndForget(function(){return Object(Ui.b)(r,void 0,void 0,function(){var r;return Object(Ui.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new fb({next:function(o){e.enqueueAndForget(function(){return ym(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Ic(kc.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Ic(kc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Sm(Zl(n.path),o,{includeMetadataChanges:!0,so:!0});return bm(t,s)},[4,Eb(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function xb(t,e,n){var r=this;void 0===n&&(n={});var i=new Sd;return t.asyncQueue.enqueueAndForget(function(){return Object(Ui.b)(r,void 0,void 0,function(){var r;return Object(Ui.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new fb({next:function(n){e.enqueueAndForget(function(){return ym(t,s)}),n.fromCache&&"server"===r.source?i.reject(new Ic(kc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Sm(n,o,{includeMetadataChanges:!0,so:!0});return bm(t,s)},[4,Eb(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var Tb=function(t,e,n,r,i,o,s,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},kb=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Ib=new Map,Ab=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Rb=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(dg.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),jb=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Nb=function(){function t(t){var e=this;this.currentUser=dg.UNAUTHENTICATED,this.oc=new Sd,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){jc("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(jc("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(jc("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Mc("string"==typeof n.accessToken),new Ab(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return Object(Ui.b)(n,void 0,void 0,function(){return Object(Ui.d)(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Mc(null===t||"string"==typeof t),new dg(t)},t}(),Db=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=dg.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),Pb=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new Db(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(dg.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Vb(t,e,n){if(!n)throw new Ic(kc.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Mb(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ic(kc.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Lb(t,e,n,r){if(!0===e&&!0===r)throw new Ic(kc.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Fb(t){if(!hl.isDocumentKey(t))throw new Ic(kc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Ub(t){if(hl.isDocumentKey(t))throw new Ic(kc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function qb(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Vc()}function Hb(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ic(kc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=qb(t);throw new Ic(kc.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Bb(t,e){if(e<=0)throw new Ic(kc.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Qb=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ic(kc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ic(kc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Lb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),zb=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qb({}),this._settingsFrozen=!1,t instanceof kb?(this._databaseId=t,this._credentials=new Rb):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ic(kc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kb(t.options.projectId)}(t),this._credentials=new Nb(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Ic(kc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Ic(kc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qb(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Rb;switch(t.type){case"gapi":var e=t.client;return Mc(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Pb(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ic(kc.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Ib.get(this))&&(jc("ComponentProvider","Removing Datastore"),Ib.delete(this),t.terminate()),Promise.resolve();var t},t}(),Gb=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Wb(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),$b=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Wb=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Zl(r))||this)._path=r,i.type="collection",i}return Object(Ui.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Gb(this.firestore,null,new hl(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}($b);function Kb(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(yo.i)(t),Vb("collection","path",e),t instanceof zb)return Ub(n=Yc.fromString.apply(Yc,Object(Ui.f)([e],r))),new Wb(t,null,n);if(!(t instanceof Gb||t instanceof Wb))throw new Ic(kc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ub(n=Yc.fromString.apply(Yc,Object(Ui.f)([t.path],r)).child(Yc.fromString(e))),new Wb(t.firestore,null,n)}function Yb(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(yo.i)(t),1===arguments.length&&(e=Uc.u()),Vb("doc","path",e),t instanceof zb)return Fb(n=Yc.fromString.apply(Yc,Object(Ui.f)([e],r))),new Gb(t,null,new hl(n));if(!(t instanceof Gb||t instanceof Wb))throw new Ic(kc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Fb(n=t._path.child(Yc.fromString.apply(Yc,Object(Ui.f)([e],r)))),new Gb(t.firestore,t instanceof Wb?t.converter:null,new hl(n))}function Zb(t,e){return t=Object(yo.i)(t),e=Object(yo.i)(e),(t instanceof Gb||t instanceof Wb)&&(e instanceof Gb||e instanceof Wb)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Xb(t,e){return t=Object(yo.i)(t),e=Object(yo.i)(e),t instanceof $b&&e instanceof $b&&t.firestore===e.firestore&&sh(t._query,e._query)&&t.converter===e.converter}var Jb=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new jg(this,"async_queue_retry"),this.Ic=function(){var e=Ag();e&&jc("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Ag();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=Ag();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise(function(){});var n=new Sd;return this.Rc(function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.bc()})},t.prototype.bc=function(){return Object(Ui.b)(this,void 0,void 0,function(){var t,e=this;return Object(Ui.d)(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!kd(t=n.sent()))throw t;return jc("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.bc()}),n.label=5;case 5:return[2]}})})},t.prototype.Rc=function(t){var e=this,n=this.dc.then(function(){return e.gc=!0,t().catch(function(t){throw e.yc=t,e.gc=!1,Nc("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.gc=!1,t})});return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var i=lm.createAndSchedule(this,t,e,n,function(t){return r.vc(t)});return this.mc.push(i),i},t.prototype.Ac=function(){this.yc&&Vc()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return Object(Ui.b)(this,void 0,void 0,function(){var t;return Object(Ui.d)(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then(function(){e.mc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()})},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function ty(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Sd,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var ey=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new Jb,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(Ui.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||ry(this),this._firestoreClient.terminate()},e}(zb);function ny(t){return t._firestoreClient||ry(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function ry(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Tb(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new gb(t._credentials,t._queue,r)}function iy(t,e,n){var r=this,i=new Sd;return t.asyncQueue.enqueue(function(){return Object(Ui.b)(r,void 0,void 0,function(){var r;return Object(Ui.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,mb(t,n)];case 1:return o.sent(),[4,bb(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===kc.FAILED_PRECONDITION||t.code===kc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function oy(t){if(t._initialized||t._terminated)throw new Ic(kc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var sy=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Ic(kc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xc(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),ay=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(tl.fromBase64String(e))}catch(e){throw new Ic(kc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(tl.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),uy=function(t){this._methodName=t},cy=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ic(kc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ic(kc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return qc(this._lat,t._lat)||qc(this._long,t._long)},t}(),ly=/^__.*__$/,hy=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Lh(t,this.data,this.fieldMask,e,this.fieldTransforms):new Mh(t,this.data,e,this.fieldTransforms)},t}(),fy=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Lh(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function dy(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Vc()}}var py=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.$c(t),r},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.Cc(),r},t.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(t){return Dy(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(dy(this.Nc)&&ly.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),gy=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Rg(t)}return t.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new py({Nc:t,methodName:e,qc:n,path:Xc.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function my(t){var e=t._freezeSettings(),n=Rg(t._databaseId);return new gy(t._databaseId,!!e.ignoreUndefinedProperties,n)}function by(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Uc(o.merge||o.mergeFields?2:0,e,n,i);Ay("Data must be an object, but it was:",s,r);var a,u,c=ky(r,s);if(o.merge)a=new Jc(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Ry(e,f[h],n);if(!s.contains(d))throw new Ic(kc.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Py(l,d)||l.push(d)}a=new Jc(l),u=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=s.fieldTransforms;return new hy(new xl(c),a,u)}var yy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ui.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw t.Lc(1===t.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(uy);function vy(t,e,n){return new py({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var _y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ui.c)(e,t),e.prototype._toFieldTransform=function(t){return new Th(t.path,new vh)},e.prototype.isEqual=function(t){return t instanceof e},e}(uy),wy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Object(Ui.c)(e,t),e.prototype._toFieldTransform=function(t){var e=vy(this,t,!0),n=this.Kc.map(function(t){return Ty(t,e)}),r=new _h(n);return new Th(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(uy),Sy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Object(Ui.c)(e,t),e.prototype._toFieldTransform=function(t){var e=vy(this,t,!0),n=this.Kc.map(function(t){return Ty(t,e)}),r=new Sh(n);return new Th(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(uy),Cy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return Object(Ui.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new Eh(t.R,ph(t.R,this.Qc));return new Th(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(uy);function Ey(t,e,n,r){var i=t.Uc(1,e,n);Ay("Data must be an object, but it was:",i,r);var o=[],s=xl.empty();$c(r,function(t,r){var a=Ny(e,t,n);r=Object(yo.i)(r);var u=i.Oc(a);if(r instanceof yy)o.push(a);else{var c=Ty(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new Jc(o);return new fy(s,a,i.fieldTransforms)}function Oy(t,e,n,r,i,o){var s=t.Uc(1,e,n),a=[Ry(e,r,n)],u=[i];if(o.length%2!=0)throw new Ic(kc.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Ry(e,o[c])),u.push(o[c+1]);for(var l=[],h=xl.empty(),f=a.length-1;f>=0;--f)if(!Py(l,a[f])){var d=a[f],p=u[f];p=Object(yo.i)(p);var g=s.Oc(d);if(p instanceof yy)l.push(d);else{var m=Ty(p,g);null!=m&&(l.push(d),h.set(d,m))}}var b=new Jc(l);return new fy(h,b,s.fieldTransforms)}function xy(t,e,n,r){return void 0===r&&(r=!1),Ty(n,t.Uc(r?4:3,e))}function Ty(t,e){if(Iy(t=Object(yo.i)(t)))return Ay("Unsupported field value:",e,t),ky(t,e);if(t instanceof uy)return function(t,e){if(!dy(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Ty(o[i],e.Mc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(yo.i)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ph(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Qc.fromDate(t);return{timestampValue:Cf(e.R,n)}}if(t instanceof Qc)return n=new Qc(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Cf(e.R,n)};if(t instanceof cy)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ay)return{bytesValue:Ef(e.R,t._byteString)};if(t instanceof Gb){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Tf(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+qb(t))}(t,e)}function ky(t,e){var n={};return Wc(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$c(t,function(t,r){var i=Ty(r,e.kc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Iy(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Qc||t instanceof cy||t instanceof ay||t instanceof Gb||t instanceof uy)}function Ay(t,e,n){if(!Iy(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=qb(n);throw e.Lc("an object"===r?t+" a custom object":t+" "+r)}}function Ry(t,e,n){if((e=Object(yo.i)(e))instanceof sy)return e._internalPath;if("string"==typeof e)return Ny(t,e);throw Dy("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var jy=new RegExp("[~\\*/\\[\\]]");function Ny(t,e,n){if(e.search(jy)>=0)throw Dy("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(sy.bind.apply(sy,Object(Ui.f)([void 0],e.split(".")))))._internalPath}catch(Pv){throw Dy("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Dy(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Ic(kc.INVALID_ARGUMENT,(a+=". ")+t+u)}function Py(t,e){return t.some(function(t){return t.isEqual(e)})}var Vy=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Gb(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new My(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Ly("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),My=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ui.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Vy);function Ly(t,e){return"string"==typeof e?Ny(t,e):e instanceof sy?e._internalPath:e._delegate._internalPath}var Fy=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Uy=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return Object(Ui.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new qy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Ly("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Vy),qy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ui.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Uy),Hy=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Fy(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new qy(n._firestore,n._userDataWriter,r.key,r,new Fy(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ic(kc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new qy(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Fy(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new qy(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Fy(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:By(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function By(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Vc()}}function Qy(t,e){return t instanceof Uy&&e instanceof Uy?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Hy&&e instanceof Hy&&t._firestore===e._firestore&&Xb(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function zy(t){if(Jl(t)&&0===t.explicitOrderBy.length)throw new Ic(kc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Gy=function(){};function $y(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Wy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).jc=e,i.Wc=n,i.Gc=r,i.type="where",i}return Object(Ui.c)(e,t),e.prototype._apply=function(t){var e=my(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Ic(kc.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){ev(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(tv(r,t,l[c]));a={arrayValue:{values:u}}}else a=tv(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||ev(s,o),a=xy(n,"where",s,"in"===o||"not-in"===o);var h=Dl.create(i,o,a);return function(t,e){if(e.g()){var n=eh(t);if(null!==n&&!n.isEqual(e.field))throw new Ic(kc.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=th(t);null!==r&&nv(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Ic(kc.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new $b(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new Kl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Gy),Ky=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jc=e,r.zc=n,r.type="orderBy",r}return Object(Ui.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Ic(kc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Ic(kc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new zl(e,n);return function(t,e){if(null===th(t)){var n=eh(t);null!==n&&nv(0,n,e.field)}}(t,r),r}(t._query,this.jc,this.zc);return new $b(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Kl(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Gy),Yy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(Ui.c)(e,t),e.prototype._apply=function(t){return new $b(t.firestore,t.converter,oh(t._query,this.Hc,this.Jc))},e}(Gy),Zy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return Object(Ui.c)(e,t),e.prototype._apply=function(t){var e=Jy(t,this.type,this.Yc,this.Xc);return new $b(t.firestore,t.converter,function(t,e){return new Kl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Gy),Xy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return Object(Ui.c)(e,t),e.prototype._apply=function(t){var e=Jy(t,this.type,this.Yc,this.Xc);return new $b(t.firestore,t.converter,function(t,e){return new Kl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Gy);function Jy(t,e,n,r){if(n[0]=Object(yo.i)(n[0]),n[0]instanceof Vy)return function(t,e,n,r,i){if(!r)throw new Ic(kc.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=rh(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(vl(e,r.key));else{var c=r.data.field(u.field);if(ol(c))throw new Ic(kc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Ic(kc.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Bl(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=my(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new Ic(kc.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new Ic(kc.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!nh(t)&&-1!==c.indexOf("/"))throw new Ic(kc.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Yc.fromString(c));if(!hl.isDocumentKey(l))throw new Ic(kc.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new hl(l);a.push(vl(e,h))}else{var f=xy(n,r,c);a.push(f)}}return new Bl(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function tv(t,e,n){if("string"==typeof(n=Object(yo.i)(n))){if(""===n)throw new Ic(kc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!nh(e)&&-1!==n.indexOf("/"))throw new Ic(kc.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Yc.fromString(n));if(!hl.isDocumentKey(r))throw new Ic(kc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return vl(t,new hl(r))}if(n instanceof Gb)return vl(t,n._key);throw new Ic(kc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+qb(n)+".")}function ev(t,e){if(!Array.isArray(t)||0===t.length)throw new Ic(kc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Ic(kc.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function nv(t,e,n){if(!n.isEqual(e))throw new Ic(kc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var rv=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),fl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return rl(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(il(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Vc()}},t.prototype.convertObject=function(t,e){var n=this,r={};return $c(t.fields,function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new cy(rl(t.latitude),rl(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=sl(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(al(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=nl(t);return new Qc(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Yc.fromString(t);Mc(Xf(n));var r=new kb(n.get(1),n.get(3)),i=new hl(n.popFirst(5));return r.isEqual(e)||Nc("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function iv(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var ov=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ui.c)(e,t),e.prototype.convertBytes=function(t){return new ay(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Gb(this.firestore,null,e)},e}(rv),sv=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=my(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=av(t,this._firestore),i=iv(r.converter,e,n),o=by(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Ih.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=av(t,this._firestore);return o="string"==typeof(e=Object(yo.i)(e))||e instanceof sy?Oy(this._dataReader,"WriteBatch.update",s._key,e,n,r):Ey(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,Ih.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=av(t,this._firestore);return this._mutations=this._mutations.concat(new Qh(e._key,Ih.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Ic(kc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function av(t,e){if((t=Object(yo.i)(t)).firestore!==e)throw new Ic(kc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var uv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ui.c)(e,t),e.prototype.convertBytes=function(t){return new ay(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Gb(this.firestore,null,e)},e}(rv);function cv(t,e,n){t=Hb(t,Gb);var r=Hb(t.firestore,ey),i=iv(t.converter,e,n);return fv(r,[by(my(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Ih.none())])}function lv(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Hb(t,Gb);var o=Hb(t.firestore,ey),s=my(o);return fv(o,[("string"==typeof(e=Object(yo.i)(e))||e instanceof sy?Oy(s,"updateDoc",t._key,e,n,r):Ey(s,"updateDoc",t._key,e)).toMutation(t._key,Ih.exists(!0))])}function hv(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Object(yo.i)(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||ty(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(ty(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Gb)c=Hb(t.firestore,ey),l=Zl(t._key.path),u={next:function(e){i[a]&&i[a](dv(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=Hb(t,$b);c=Hb(d.firestore,ey),l=d._query;var p=new uv(c);u={next:function(t){i[a]&&i[a](new Hy(c,p,d,t))},error:i[a+1],complete:i[a+2]},zy(t._query)}return function(t,e,n,r){var i=this,o=new fb(r),s=new Sm(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return Object(Ui.b)(i,void 0,void 0,function(){var e;return Object(Ui.d)(this,function(n){switch(n.label){case 0:return e=bm,[4,Eb(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(Ui.b)(i,void 0,void 0,function(){var e;return Object(Ui.d)(this,function(n){switch(n.label){case 0:return e=ym,[4,Eb(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(ny(c),l,h,u)}function fv(t,e){return function(t,e){var n=this,r=new Sd;return t.asyncQueue.enqueueAndForget(function(){return Object(Ui.b)(n,void 0,void 0,function(){var n;return Object(Ui.d)(this,function(i){switch(i.label){case 0:return n=Dm,[4,Cb(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(ny(t),e)}function dv(t,e,n){var r=n.docs.get(e._key),i=new uv(t);return new Uy(t,i,e._key,r,new Fy(n.hasPendingWrites,n.fromCache),e.converter)}var pv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(Ui.c)(e,t),e.prototype.get=function(e){var n=this,r=av(e,this._firestore),i=new uv(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new Uy(n._firestore,i,r._key,t._document,new Fy(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=my(t)}return t.prototype.get=function(t){var e=this,n=av(t,this._firestore),r=new ov(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Vc();var i=t[0];if(i.isFoundDocument())return new Vy(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Vy(e._firestore,r,n._key,null,n.converter);throw Vc()})},t.prototype.set=function(t,e,n){var r=av(t,this._firestore),i=iv(r.converter,e,n),o=by(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=av(t,this._firestore);return o="string"==typeof(e=Object(yo.i)(e))||e instanceof sy?Oy(this._dataReader,"Transaction.update",s._key,e,n,r):Ey(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=av(t,this._firestore);return this._transaction.delete(e._key),this},t}());function gv(){if("undefined"==typeof Uint8Array)throw new Ic(kc.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function mv(){if("undefined"==typeof atob)throw new Ic(kc.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var bv=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return mv(),new t(ay.fromBase64String(e))},t.fromUint8Array=function(e){return gv(),new t(ay.fromUint8Array(e))},t.prototype.toBase64=function(){return mv(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return gv(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),yv=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){oy(t=Hb(t,ey));var n=ny(t),r=t._freezeSettings(),i=new hb;return iy(n,i,new cb(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){oy(t=Hb(t,ey));var e=ny(t),n=t._freezeSettings(),r=new hb;return iy(e,r,new lb(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Ic(kc.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Sd;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Ui.b)(e,void 0,void 0,function(){var e;return Object(Ui.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Ui.b)(this,void 0,void 0,function(){return Object(Ui.d)(this,function(e){switch(e.label){case 0:return Od.yt()?[4,Od.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Vp(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),vv=function(){function t(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof kb||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||Dc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){var i;void 0===r&&(r={});var o=(t=Hb(t,zb))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&Dc("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:e+":"+n,ssl:!1})),r.mockUserToken){var s,a;if("string"==typeof r.mockUserToken)s=r.mockUserToken,a=dg.MOCK_USER;else{s=Object(yo.e)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);var u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Ic(kc.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new dg(u)}t._credentials=new jb(new Ab(s,a))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Ui.b)(e,void 0,void 0,function(){var e,n;return Object(Ui.d)(this,function(r){switch(r.label){case 0:return[4,_b(t)];case 1:return e=r.sent(),[4,Sb(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Lc(t);return e.Or.delete(0),Fg(e)}(n))]}})})})}(ny(Hb(this._delegate,ey)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Ui.b)(e,void 0,void 0,function(){var e,n;return Object(Ui.d)(this,function(r){switch(r.label){case 0:return[4,_b(t)];case 1:return e=r.sent(),[4,Sb(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(Ui.b)(this,void 0,void 0,function(){var e;return Object(Ui.d)(this,function(n){switch(n.label){case 0:return(e=Lc(t)).Or.add(0),[4,Ug(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(ny(Hb(this._delegate,ey)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Lb("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Sd;return t.asyncQueue.enqueueAndForget(function(){return Object(Ui.b)(e,void 0,void 0,function(){var e;return Object(Ui.d)(this,function(r){switch(r.label){case 0:return e=Um,[4,Cb(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(ny(Hb(this._delegate,ey)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new fb(e);return t.asyncQueue.enqueueAndForget(function(){return Object(Ui.b)(n,void 0,void 0,function(){var e;return Object(Ui.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Lc(t).Gr.add(e),e.next()},[4,Eb(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(Ui.b)(n,void 0,void 0,function(){var e;return Object(Ui.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Lc(t).Gr.delete(e)},[4,Eb(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(ny(t=Hb(t,ey)),ty(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new Ic(kc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Nv(this,Kb(this._delegate,t))}catch(t){throw Ov(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new Ev(this,Yb(this._delegate,t))}catch(t){throw Ov(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Av(this,function(t,e){if(t=Hb(t,zb),Vb("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ic(kc.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new $b(t,null,function(t){return new Kl(Yc.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Ov(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Sd;return t.asyncQueue.enqueueAndForget(function(){return Object(Ui.b)(n,void 0,void 0,function(){var n;return Object(Ui.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return vb(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new pb(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(ny(t),function(n){return e(new pv(t,n))})}(this._delegate,function(n){return t(new wv(e,n))})},t.prototype.batch=function(){var t=this;return ny(this._delegate),new Sv(new sv(this._delegate,function(e){return fv(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new Ic(kc.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Ic(kc.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),_v=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ui.c)(e,t),e.prototype.convertBytes=function(t){return new bv(new ay(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Ev.eu(e,this.firestore,null)},e}(rv),wv=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new _v(t)}return t.prototype.get=function(t){var e=this,n=Dv(t);return this._delegate.get(n).then(function(t){return new kv(e._firestore,new Uy(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=Dv(t);return n?(Mb("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Dv(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(Ui.f)([s,e,n],i)),this},t.prototype.delete=function(t){var e=Dv(t);return this._delegate.delete(e),this},t}(),Sv=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Dv(t);return n?(Mb("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Dv(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(Ui.f)([s,e,n],i)),this},t.prototype.delete=function(t){var e=Dv(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Cv=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new qy(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Iv(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new _v(e),n),i.set(n,o)),o},t}();Cv.su=new WeakMap;var Ev=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new _v(t)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new Ic(kc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Gb(n._delegate,r,new hl(e)))},t.eu=function(e,n,r){return new t(n,new Gb(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Nv(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Nv(this.firestore,Kb(this._delegate,t))}catch(t){throw Ov(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(yo.i)(t))instanceof Gb&&Zb(this._delegate,t)},t.prototype.set=function(t,e){e=Mb("DocumentReference.set",e);try{return e?cv(this._delegate,t,e):cv(this._delegate,t)}catch(t){throw Ov(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?lv(this._delegate,t):lv.apply(void 0,Object(Ui.f)([this._delegate,t,e],n))}catch(t){throw Ov(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return fv(Hb((t=this._delegate).firestore,ey),[new Qh(t._key,Ih.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=xv(e),i=Tv(e,function(e){return new kv(t.firestore,new Uy(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return hv(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Hb(t,Gb);var e=Hb(t.firestore,ey),n=ny(e),r=new uv(e);return function(t,e){var n=this,r=new Sd;return t.asyncQueue.enqueueAndForget(function(){return Object(Ui.b)(n,void 0,void 0,function(){var n;return Object(Ui.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Ui.b)(this,void 0,void 0,function(){var r,i;return Object(Ui.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Lc(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Ic(kc.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=hm(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,wb(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new Uy(e,r,t._key,n,new Fy(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Hb(t,Gb);var e=Hb(t.firestore,ey);return Ob(ny(e),t._key,{source:"server"}).then(function(n){return dv(e,t,n)})}(this._delegate):function(t){t=Hb(t,Gb);var e=Hb(t.firestore,ey);return Ob(ny(e),t._key).then(function(n){return dv(e,t,n)})}(this._delegate)).then(function(t){return new kv(e.firestore,new Uy(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Cv.nu(this.firestore,e):null))},t}();function Ov(t,e,n){return t.message=t.message.replace(e,n),t}function xv(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!ty(r))return r}return{}}function Tv(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=ty(t[0])?t[0]:ty(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var kv=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Ev(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Qy(this._delegate,t._delegate)},t}(),Iv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ui.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(kv),Av=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new _v(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,$y(this._delegate,function(t,e,n){var r=e,i=Ly("where",t);return new Wy(i,r,n)}(e,n,r)))}catch(e){throw Ov(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,$y(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Ly("orderBy",t);return new Ky(r,n)}(e,n)))}catch(e){throw Ov(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,$y(this._delegate,function(t){return Bb("limit",t),new Yy("limit",t,"F")}(e)))}catch(e){throw Ov(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,$y(this._delegate,function(t){return Bb("limitToLast",t),new Yy("limitToLast",t,"L")}(e)))}catch(e){throw Ov(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,$y(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Zy("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw Ov(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,$y(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Zy("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw Ov(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,$y(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Xy("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw Ov(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,$y(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Xy("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw Ov(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Xb(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Hb(t,$b);var e=Hb(t.firestore,ey),n=ny(e),r=new uv(e);return function(t,e){var n=this,r=new Sd;return t.asyncQueue.enqueueAndForget(function(){return Object(Ui.b)(n,void 0,void 0,function(){var n;return Object(Ui.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Ui.b)(this,void 0,void 0,function(){var r,i,o,s,a;return Object(Ui.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Zp(t,e,!0)];case 1:return a=u.sent(),r=new Tm(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=hm(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,wb(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new Hy(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Hb(t,$b);var e=Hb(t.firestore,ey),n=ny(e),r=new uv(e);return xb(n,t._query,{source:"server"}).then(function(n){return new Hy(e,r,t,n)})}(this._delegate):function(t){t=Hb(t,$b);var e=Hb(t.firestore,ey),n=ny(e),r=new uv(e);return zy(t._query),xb(n,t._query).then(function(n){return new Hy(e,r,t,n)})}(this._delegate)).then(function(t){return new jv(e.firestore,new Hy(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=xv(e),i=Tv(e,function(e){return new jv(t.firestore,new Hy(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return hv(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Cv.nu(this.firestore,e):null))},t}(),Rv=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Iv(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),jv=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Av(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new Iv(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new Rv(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new Iv(n._firestore,r))})},t.prototype.isEqual=function(t){return Qy(this._delegate,t._delegate)},t}(),Nv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(Ui.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Ev(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Ev(this.firestore,void 0===t?Yb(this._delegate):Yb(this._delegate,t))}catch(t){throw Ov(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Hb(t.firestore,ey),r=Yb(t),i=iv(t.converter,e);return fv(n,[by(my(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Ih.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new Ev(e.firestore,t)})},e.prototype.isEqual=function(t){return Zb(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Cv.nu(this.firestore,t):null))},e}(Av);function Dv(t){return Hb(t,Gb)}var Pv,Vv=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(sy.bind.apply(sy,Object(Ui.f)([void 0],t)))}return t.documentId=function(){return new t(Xc.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(yo.i)(t))instanceof sy&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Mv=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new _y("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new yy("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new wy("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Sy("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new Cy("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),Lv=n("/6Yf"),Fv={Firestore:vv,GeoPoint:cy,Timestamp:Qc,Blob:bv,Transaction:wv,WriteBatch:Sv,DocumentReference:Ev,DocumentSnapshot:kv,Query:Av,QueryDocumentSnapshot:Iv,QuerySnapshot:jv,CollectionReference:Nv,FieldPath:Vv,FieldValue:Mv,setLogLevel:function(t){Ac.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function Uv(t,e){return function(t,e=qi.b){return new Ht.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function qv(t,e){return Uv(t,e).pipe(Object(ee.a)(t=>({payload:t,type:"query"})))}function Hv(t,e){return qv(t,e).pipe(le(void 0),lo(),Object(ee.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function Bv(t,e,n){return Hv(t,n).pipe(he((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Qv(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Qv(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Qv(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new po(void 0,void 0)),Object(ee.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function Qv(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function zv(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(function(t,e){t.INTERNAL.registerComponent(new Lv.a("firestore",function(t){return function(t,e){return new vv(t,new ey(t,e),new yv)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Fv)))})(Pv=bo.a),Pv.registerVersion("@firebase/firestore","2.4.1");class Gv{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=Hv(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(ee.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(le(void 0),lo(),pe(([t,e])=>e.length>0||!t),Object(ee.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(he((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=zv(t);return Bv(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return qv(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ee.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Rt.a)(this.query.get(t)).pipe(Object($i.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new $v(this.ref.doc(t),this.afs)}}class $v{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Jv(n,e);return new Gv(r,i,this.afs)}snapshotChanges(){return Uv(this.ref,this.afs.schedulers.outsideAngular).pipe(le(void 0),lo(),Object(ee.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(ee.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(Rt.a)(this.ref.get(t)).pipe(Object($i.b)(this.afs.schedulers.insideAngular))}}class Wv{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Hv(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ee.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),pe(t=>t.length>0),this.afs.keepUnstableUntilFirst):Hv(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(he((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=zv(t);return Bv(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return qv(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ee.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Rt.a)(this.query.get(t)).pipe(Object($i.b)(this.afs.schedulers.insideAngular))}}const Kv=new r.r("angularfire2.enableFirestorePersistence"),Yv=new r.r("angularfire2.firestore.persistenceSettings"),Zv=new r.r("angularfire2.firestore.settings"),Xv=new r.r("angularfire2.firestore.use-emulator");function Jv(t,e=(t=>t)){return{query:e(t),ref:t}}let t_=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new eo.d(o),this.keepUnstableUntilFirst=Object(eo.h)(this.schedulers);const c=Object(eo.g)(t,o,e);!mo.a.auth&&u&&Object(eo.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(eo.f)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!Y(i)){const e=()=>{try{return Object(Rt.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(Pv){return"undefined"!=typeof console&&console.warn(Pv),Object(jt.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(jt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Jv(n,e),o=this.schedulers.ngZone.run(()=>r);return new Gv(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Wv(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new $v(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(eo.c),r.Vb(eo.b,8),r.Vb(Kv,8),r.Vb(Zv,8),r.Vb(r.C),r.Vb(r.A),r.Vb(Yv,8),r.Vb(Xv,8),r.Vb(no,8))},t.\u0275prov=r.Ib({factory:function(){return new t(r.Vb(eo.c),r.Vb(eo.b,8),r.Vb(Kv,8),r.Vb(Zv,8),r.Vb(r.C),r.Vb(r.A),r.Vb(Yv,8),r.Vb(Xv,8),r.Vb(no,8))},token:t,providedIn:"any"}),t})(),e_=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:Kv,useValue:!0},{provide:Yv,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[t_]}),t})(),n_=(()=>{class t{constructor(t,e,n,r){this.auth=t,this.db=e,this.router=n,this.route=r,this.redirect=!1,this.usersCollection=e.collection("users"),this.isAuthenticated$=t.user.pipe(Object(ee.a)(t=>!!t)),this.isAuthenticatedWithDelay$=this.isAuthenticated$.pipe(function(t,e=qi.a){var n;const r=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new Bi(r,e))}(1e3))}createUser(t){return Object(Ui.b)(this,void 0,void 0,function*(){if(!t.password)throw new Error("Password not provided!");const e=yield this.auth.createUserWithEmailAndPassword(t.email,t.password);if(!e.user)throw new Error("User can't be found");yield this.usersCollection.doc(e.user.uid).set({name:t.name,email:t.email,age:t.age,phoneNumber:t.phoneNumber}),yield e.user.updateProfile({displayName:t.name})})}logout(t){return Object(Ui.b)(this,void 0,void 0,function*(){t&&t.preventDefault(),yield this.auth.signOut(),this.redirect&&(yield this.router.navigateByUrl("/"))})}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(uo),r.Vb(t_),r.Vb(fi),r.Vb(Gn))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),r_=(()=>{class t{constructor(){this.modals=[]}register(t){this.modals.push({id:t,visible:!1})}unregister(t){this.modals=this.modals.filter(e=>e.id!==t)}isModalOpen(t){var e;return!!(null===(e=this.modals.find(e=>e.id===t))||void 0===e?void 0:e.visible)}toggleModal(t){const e=this.modals.find(e=>e.id===t);e&&(e.visible=!e.visible)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function i_(t,e){if(1&t){const t=r.Sb();r.Rb(0,"li"),r.Rb(1,"a",9),r.Yb("click",function(e){return r.nc(t),r.cc().openModal(e)}),r.sc(2," Login / Register "),r.Qb(),r.Qb()}}const o_=function(){return{exact:!0}},s_=function(){return{sort:"1"}};function a_(t,e){if(1&t){const t=r.Sb();r.Rb(0,"li"),r.Rb(1,"a",10),r.sc(2," Manage "),r.Qb(),r.Qb(),r.Rb(3,"li"),r.Rb(4,"a",11),r.sc(5," Upload "),r.Qb(),r.Qb(),r.Rb(6,"li"),r.Rb(7,"a",9),r.Yb("click",function(e){return r.nc(t),r.cc().auth.logout(e)}),r.sc(8," Logout "),r.Qb(),r.Qb()}2&t&&(r.Cb(1),r.hc("routerLinkActiveOptions",r.ic(3,o_))("queryParams",r.ic(4,s_)),r.Cb(3),r.hc("routerLinkActiveOptions",r.ic(5,o_)))}let u_=(()=>{class t{constructor(t,e,n){this.modal=t,this.auth=e,this.afAuth=n}ngOnInit(){}openModal(t){t.preventDefault(),this.modal.toggleModal("auth")}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r_),r.Mb(n_),r.Mb(uo))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-nav"]],decls:13,vars:4,consts:[["id","header",1,"bg-secondary"],[1,"container","mx-auto","flex","justify-start","items-center","py-8","px-4"],["routerLink","/",1,"text-3xl","text-indigo-400","font-bold","uppercase","mr-4"],[1,"flex","flex-grow","items-center"],[1,"flex","flex-row","mt-1"],[4,"ngIf","ngIfElse"],["authLinks",""],["routerLinkActive","text-indigo-400"],["routerLink","/about","routerLinkActive","text-indigo-400",1,"px-2"],["href","#",1,"px-2",3,"click"],["routerLink","/manage","routerLinkActive","text-indigo-400",1,"px-2",3,"routerLinkActiveOptions","queryParams"],["routerLink","/upload","routerLinkActive","text-indigo-400",1,"px-2",3,"routerLinkActiveOptions"]],template:function(t,e){if(1&t&&(r.Rb(0,"header",0),r.Rb(1,"nav",1),r.Rb(2,"a",2),r.sc(3,"Clipvideo"),r.Qb(),r.Rb(4,"div",3),r.Rb(5,"ul",4),r.qc(6,i_,3,0,"li",5),r.dc(7,"async"),r.qc(8,a_,9,6,"ng-template",null,6,r.rc),r.Rb(10,"li",7),r.Rb(11,"a",8),r.sc(12," About "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&t){const t=r.mc(9);r.Cb(6),r.hc("ngIf",!r.ec(7,2,e.auth.isAuthenticated$))("ngIfElse",t)}},directives:[pi,F,mi],pipes:[$],styles:[""]}),t})();const c_=[[["","heading",""]],"*"],l_=function(t){return{hidden:t}},h_=["[heading]","*"];let f_=(()=>{class t{constructor(t,e){this.modal=t,this.el=e,this.modalID=""}ngOnInit(){document.body.appendChild(this.el.nativeElement)}ngOnDestroy(){document.body.removeChild(this.el.nativeElement)}closeModal(){this.modal.toggleModal(this.modalID)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r_),r.Mb(r.l))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-modal"]],inputs:{modalID:"modalID"},ngContentSelectors:h_,decls:13,vars:3,consts:[["id","modal",1,"fixed","z-50","inset-0","overflow-y-auto",3,"ngClass"],[1,"flex","items-end","justify-center","min-h-screen","pt-4","px-4","pb-20","text-center","sm:block","sm:p-0"],[1,"fixed","inset-0","transition-opacity",3,"click"],[1,"absolute","inset-0","bg-gray-800","opacity-75"],[1,"hidden","sm:inline-block","sm:align-middle","sm:h-screen"],[1,"inline-block","align-bottom","bg-secondary","rounded-lg","text-left","overflow-hidden","shadow-xl","transform","transition-all","sm:my-8","sm:align-middle","sm:max-w-lg","sm:w-full"],[1,"py-4","text-left","px-6"],[1,"flex","justify-between","items-center","pb-4"],[1,"modal-close","cursor-pointer","z-50",3,"click"]],template:function(t,e){1&t&&(r.gc(c_),r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"div",2),r.Yb("click",function(){return e.closeModal()}),r.Nb(3,"div",3),r.Qb(),r.Rb(4,"span",4),r.sc(5,"\u200b"),r.Qb(),r.Rb(6,"div",5),r.Rb(7,"div",6),r.Rb(8,"div",7),r.fc(9),r.Rb(10,"div",8),r.Yb("click",function(){return e.closeModal()}),r.sc(11," \u2715 "),r.Qb(),r.Qb(),r.fc(12,1),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&t&&r.hc("ngClass",r.jc(1,l_,!e.modal.isModalOpen(e.modalID)))},directives:[P],styles:[""]}),t})();const d_=["*"];let p_=(()=>{class t{constructor(){this.tabTitle="",this.active=!1}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-tab"]],inputs:{tabTitle:"tabTitle",active:"active"},ngContentSelectors:d_,decls:2,vars:2,template:function(t,e){1&t&&(r.gc(),r.Rb(0,"div"),r.fc(1),r.Qb()),2&t&&r.Eb("hidden",!e.active)},styles:[""]}),t})();const g_=function(t,e){return{"hover:text-indigo-400":t,"hover:text-white text-white bg-indigo-400":e}};function m_(t,e){if(1&t){const t=r.Sb();r.Rb(0,"li",2),r.Rb(1,"a",3),r.Yb("click",function(){r.nc(t);const n=e.$implicit;return r.cc().selectTab(n)}),r.sc(2),r.Qb(),r.Qb()}if(2&t){const t=e.$implicit;r.Cb(1),r.hc("ngClass",r.kc(2,g_,!t.active,t.active)),r.Cb(1),r.tc(t.tabTitle)}}const b_=["*"];let y_=(()=>{class t{constructor(){this.tabs=new r.E}ngAfterContentInit(){var t;const e=null===(t=this.tabs)||void 0===t?void 0:t.filter(t=>t.active);e&&0!==e.length||this.selectTab(this.tabs.first)}selectTab(t){var e;return null===(e=this.tabs)||void 0===e||e.forEach(t=>{t.active=!1}),t.active=!0,!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-tabs-container"]],contentQueries:function(t,e,n){if(1&t&&r.Fb(n,p_,0),2&t){let t;r.lc(t=r.Zb())&&(e.tabs=t)}},ngContentSelectors:b_,decls:3,vars:1,consts:[[1,"flex","flex-wrap","mb-4"],["class","flex-auto text-center",4,"ngFor","ngForOf"],[1,"flex-auto","text-center"],["href","#",1,"block","rounded","py-3","px-4","transition","hover:text-white","text-white","bg-indigo-400",3,"ngClass","click"]],template:function(t,e){1&t&&(r.gc(),r.Rb(0,"ul",0),r.qc(1,m_,3,5,"li",1),r.Qb(),r.fc(2)),2&t&&(r.Cb(1),r.hc("ngForOf",e.tabs))},directives:[M,P],styles:[""]}),t})();var v_=n("XoHu");function __(t,e){return new Ht.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=Object(Rt.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}class w_{}const S_=new r.r("NgValueAccessor"),C_={provide:S_,useExisting:Object(r.V)(()=>O_),multi:!0},E_=new r.r("CompositionEventMode");let O_=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.F),r.Mb(r.l),r.Mb(E_,8))},t.\u0275dir=r.Hb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Yb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.Bb([C_])]}),t})();function x_(t){return null==t||0===t.length}function T_(t){return null!=t&&"number"==typeof t.length}const k_=new r.r("NgValidators"),I_=new r.r("NgAsyncValidators"),A_=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class R_{static min(t){return function(t){return e=>{if(x_(e.value)||x_(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(t)}static max(t){return function(t){return e=>{if(x_(e.value)||x_(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(t)}static required(t){return j_(t)}static requiredTrue(t){return function(t){return!0===t.value?null:{required:!0}}(t)}static email(t){return function(t){return x_(t.value)||A_.test(t.value)?null:{email:!0}}(t)}static minLength(t){return function(t){return e=>x_(e.value)||!T_(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static maxLength(t){return function(t){return e=>T_(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static pattern(t){return N_(t)}static nullValidator(t){return null}static compose(t){return U_(t)}static composeAsync(t){return H_(t)}}function j_(t){return x_(t.value)?{required:!0}:null}function N_(t){if(!t)return D_;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(x_(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function D_(t){return null}function P_(t){return null!=t}function V_(t){const e=Object(r.tb)(t)?Object(Rt.a)(t):t;return Object(r.sb)(e),e}function M_(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function L_(t,e){return e.map(e=>e(t))}function F_(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function U_(t){if(!t)return null;const e=t.filter(P_);return 0==e.length?null:function(t){return M_(L_(t,e))}}function q_(t){return null!=t?U_(F_(t)):null}function H_(t){if(!t)return null;const e=t.filter(P_);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(Mt.a)(e))return __(e,null);if(Object(v_.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return __(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return __(t=1===t.length&&Object(Mt.a)(t[0])?t[0]:t,null).pipe(Object(ee.a)(t=>e(...t)))}return __(t,null)}(L_(t,e).map(V_)).pipe(Object(ee.a)(M_))}}function B_(t){return null!=t?H_(F_(t)):null}function Q_(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function z_(t){return t._rawValidators}function G_(t){return t._rawAsyncValidators}let $_=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=q_(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=B_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t}),t})(),W_=(()=>{class t extends $_{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return K_(e||t)},t.\u0275dir=r.Hb({type:t,features:[r.zb]}),t})();const K_=r.Tb(W_);class Y_ extends $_{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Z_{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let X_=(()=>{class t extends Z_{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Y_,2))},t.\u0275dir=r.Hb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Eb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.zb]}),t})(),J_=(()=>{class t extends Z_{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(W_,10))},t.\u0275dir=r.Hb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Eb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.zb]}),t})();function tw(t,e){rw(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&ow(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&ow(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function ew(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),iw(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function nw(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function rw(t,e,n){const r=z_(t);null!==e.validator?t.setValidators(Q_(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=G_(t);if(null!==e.asyncValidator?t.setAsyncValidators(Q_(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();nw(e._rawValidators,n),nw(e._rawAsyncValidators,n)}}function iw(t,e,n){let r=!1;if(null!==t){if(null!==e.validator){const n=z_(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.validator);i.length!==n.length&&(r=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const n=G_(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.asyncValidator);i.length!==n.length&&(r=!0,t.setAsyncValidators(i))}}}if(n){const t=()=>{};nw(e._rawValidators,t),nw(e._rawAsyncValidators,t)}return r}function ow(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function sw(t,e){rw(t,e,!1)}function aw(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function uw(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function cw(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===O_?n=t:Object.getPrototypeOf(t.constructor)===w_?r=t:i=t}),i||r||n||null}function lw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const hw="VALID",fw="INVALID",dw="PENDING",pw="DISABLED";function gw(t){return(vw(t)?t.validators:t)||null}function mw(t){return Array.isArray(t)?q_(t):t||null}function bw(t,e){return(vw(e)?e.asyncValidators:t)||null}function yw(t){return Array.isArray(t)?B_(t):t||null}function vw(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class _w{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=mw(this._rawValidators),this._composedAsyncValidatorFn=yw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===hw}get invalid(){return this.status===fw}get pending(){return this.status==dw}get disabled(){return this.status===pw}get enabled(){return this.status!==pw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=mw(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=yw(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=dw,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=pw,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=hw,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==hw&&this.status!==dw||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?pw:hw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=dw,this._hasOwnPendingAsyncValidator=!0;const e=V_(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Sw?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Cw&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?pw:this.errors?fw:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(dw)?dw:this._anyControlsHaveStatus(fw)?fw:hw}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){vw(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ww extends _w{constructor(t=null,e,n){super(gw(e),bw(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){lw(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){lw(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Sw extends _w{constructor(t,e,n){super(gw(e),bw(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof ww?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Cw extends _w{constructor(t,e,n){super(gw(e),bw(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof ww?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Ew={provide:W_,useExisting:Object(r.V)(()=>xw)},Ow=(()=>Promise.resolve(null))();let xw=(()=>{class t extends W_{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.n,this.form=new Sw({},q_(t),B_(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ow.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),tw(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ow.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),lw(this._directives,t)})}addFormGroup(t){Ow.then(()=>{const e=this._findContainer(t.path),n=new Sw({});sw(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ow.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Ow.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,uw(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(k_,10),r.Mb(I_,10))},t.\u0275dir=r.Hb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.Yb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Bb([Ew]),r.zb]}),t})();const Tw={provide:Y_,useExisting:Object(r.V)(()=>Iw)},kw=(()=>Promise.resolve(null))();let Iw=(()=>{class t extends Y_{constructor(t,e,n,i){super(),this.control=new ww,this._registered=!1,this.update=new r.n,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=cw(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),aw(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){tw(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){kw.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;kw.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(W_,9),r.Mb(k_,10),r.Mb(I_,10),r.Mb(S_,10))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.Bb([Tw]),r.zb,r.Ab]}),t})(),Aw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),Rw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})();const jw=new r.r("NgModelWithFormControlWarning"),Nw={provide:Y_,useExisting:Object(r.V)(()=>Dw)};let Dw=(()=>{class t extends Y_{constructor(t,e,n,i){super(),this._ngModelWarningConfig=i,this.update=new r.n,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(e),this.valueAccessor=cw(0,n)}set isDisabled(t){}ngOnChanges(t){if(this._isControlChanged(t)){const e=t.form.previousValue;e&&ew(e,this,!1),tw(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}aw(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&ew(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(k_,10),r.Mb(I_,10),r.Mb(S_,10),r.Mb(jw,8))},t.\u0275dir=r.Hb({type:t,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[r.Bb([Nw]),r.zb,r.Ab]}),t._ngModelWarningSentOnce=!1,t})();const Pw={provide:W_,useExisting:Object(r.V)(()=>Vw)};let Vw=(()=>{class t extends W_{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.n,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(iw(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return tw(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){ew(t.control||null,t,!1),lw(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,uw(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=t.control,n=this.form.get(t.path);e!==n&&(ew(e||null,t),n instanceof ww&&(tw(n,t),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);sw(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return iw(t,e,!1)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){rw(this.form,this,!1),this._oldForm&&iw(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(k_,10),r.Mb(I_,10))},t.\u0275dir=r.Hb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Yb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Bb([Pw]),r.zb,r.Ab]}),t})();const Mw={provide:S_,useExisting:Object(r.V)(()=>Fw),multi:!0};function Lw(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Fw=(()=>{class t extends w_{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=Lw(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.F),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Yb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.Bb([Mw]),r.zb]}),t})(),Uw=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Lw(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.F),r.Mb(Fw,9))},t.\u0275dir=r.Hb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const qw={provide:S_,useExisting:Object(r.V)(()=>Bw),multi:!0};function Hw(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Bw=(()=>{class t extends w_{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.F),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Yb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.Bb([qw]),r.zb]}),t})(),Qw=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Hw(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Hw(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.F),r.Mb(Bw,9))},t.\u0275dir=r.Hb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const zw={provide:k_,useExisting:Object(r.V)(()=>Gw),multi:!0};let Gw=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!=`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?j_(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Db("required",e.required?"":null)},inputs:{required:"required"},features:[r.Bb([zw])]}),t})();const $w={provide:k_,useExisting:Object(r.V)(()=>Ww),multi:!0};let Ww=(()=>{class t{constructor(){this._validator=D_}ngOnChanges(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=N_(this.pattern)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&r.Db("pattern",e.pattern?e.pattern:null)},inputs:{pattern:"pattern"},features:[r.Bb([$w]),r.Ab]}),t})(),Kw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[Rw]]}),t})(),Yw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[Kw]}),t})(),Zw=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:jw,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[Kw]}),t})();const Xw=["*"];let Jw=(()=>{class t{constructor(){this.color="blue"}get bgColor(){return`bg-${this.color}-400`}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-alert"]],inputs:{color:"color"},ngContentSelectors:Xw,decls:2,vars:1,consts:[[1,"text-white","text-center","font-bold","p-4","mb-4","rounded-md",3,"ngClass"]],template:function(t,e){1&t&&(r.gc(),r.Rb(0,"div",0),r.fc(1),r.Qb()),2&t&&r.hc("ngClass",e.bgColor)},directives:[P],styles:[""]}),t})();function tS(t,e){if(1&t&&(r.Rb(0,"app-alert",11),r.sc(1),r.Qb()),2&t){const t=r.cc();r.hc("color",t.alertColor),r.Cb(1),r.uc(" ",t.alertMsg,"\n")}}function eS(t,e){1&t&&(r.Rb(0,"p",12),r.sc(1," Email is invalid "),r.Qb())}function nS(t,e){1&t&&(r.Rb(0,"p",12),r.sc(1," Password is invalid "),r.Qb())}let rS=(()=>{class t{constructor(t){this.auth=t,this.credentials={email:"",password:""},this.showAlert=!1,this.alertMsg="Please wait! We are logging you in.",this.alertColor="blue",this.inSubmission=!1}ngOnInit(){}login(){return Object(Ui.b)(this,void 0,void 0,function*(){this.showAlert=!0,this.alertMsg="Please wait! We are logging you in.",this.alertColor="blue",this.inSubmission=!0;try{yield this.auth.signInWithEmailAndPassword(this.credentials.email,this.credentials.password)}catch(Pv){return this.inSubmission=!1,this.alertMsg="An unexpected error occurred. Please try again later.",this.alertColor="red",void console.log(Pv)}this.alertMsg="Success! You are now logged in.",this.alertColor="green"})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(uo))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-login"]],decls:17,vars:6,consts:[[3,"color",4,"ngIf"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"mb-3"],[1,"inline-block","mb-2"],["type","email","name","email","placeholder","Enter Email","required","","pattern","[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?",1,"block","w-full","py-1.5","px-3","text-gray-200","border","border-gray-400","transition","duration-500","focus:outline-none","rounded","bg-transparent","focus:border-indigo-400",3,"ngModel","ngModelChange"],["email","ngModel"],["class","text-red-400",4,"ngIf"],["type","password","name","password","required","","placeholder","Password",1,"block","w-full","py-1.5","px-3","text-gray-200","border","border-gray-400","transition","duration-500","focus:outline-none","rounded","bg-transparent","focus:border-indigo-400",3,"ngModel","ngModelChange"],["password","ngModel"],["type","submit",1,"block","w-full","bg-indigo-400","text-white","py-1.5","px-3","rounded","transition","hover:bg-indigo-500","disabled:opacity-50","disabled:bg-indigo-400",3,"disabled"],[3,"color"],[1,"text-red-400"]],template:function(t,e){if(1&t&&(r.qc(0,tS,2,2,"app-alert",0),r.Rb(1,"form",1,2),r.Yb("ngSubmit",function(){return e.login()}),r.Rb(3,"div",3),r.Rb(4,"label",4),r.sc(5,"Email"),r.Qb(),r.Rb(6,"input",5,6),r.Yb("ngModelChange",function(t){return e.credentials.email=t}),r.Qb(),r.qc(8,eS,2,0,"p",7),r.Qb(),r.Rb(9,"div",3),r.Rb(10,"label",4),r.sc(11,"Password"),r.Qb(),r.Rb(12,"input",8,9),r.Yb("ngModelChange",function(t){return e.credentials.password=t}),r.Qb(),r.qc(14,nS,2,0,"p",7),r.Qb(),r.Rb(15,"button",10),r.sc(16," Submit "),r.Qb(),r.Qb()),2&t){const t=r.mc(2),n=r.mc(7),i=r.mc(13);r.hc("ngIf",e.showAlert),r.Cb(6),r.hc("ngModel",e.credentials.email),r.Cb(2),r.hc("ngIf",n.errors&&n.touched&&n.dirty),r.Cb(4),r.hc("ngModel",e.credentials.password),r.Cb(2),r.hc("ngIf",i.errors&&i.touched&&i.dirty),r.Cb(1),r.hc("disabled",t.invalid||e.inSubmission)}},directives:[F,Aw,J_,xw,O_,Gw,Ww,X_,Iw,Jw],styles:[""]}),t})();class iS{static match(t,e){return n=>{const r=n.get(t),i=n.get(e);if(!r||!i)return console.error("Form controls can not be found in the form group."),{controlNotFound:!1};const o=r.value===i.value?null:{noMatch:!0};return i.setErrors(o),o}}}const oS=new r.r("config"),sS=new r.r("NEW_CONFIG"),aS=new r.r("INITIAL_CONFIG"),uS={suffix:"",prefix:"",thousandSeparator:" ",decimalMarker:".",clearIfNotMatch:!1,showTemplate:!1,showMaskTyped:!1,placeHolderCharacter:"_",dropSpecialCharacters:!0,hiddenInput:void 0,shownMaskExpression:"",separatorLimit:"",allowNegativeNumbers:!1,validation:!0,specialCharacters:["-","/","(",")",".",":"," ","+",",","@","[","]",'"',"'"],leadZeroDateTime:!1,patterns:{0:{pattern:new RegExp("\\d")},9:{pattern:new RegExp("\\d"),optional:!0},X:{pattern:new RegExp("\\d"),symbol:"*"},A:{pattern:new RegExp("[a-zA-Z0-9]")},S:{pattern:new RegExp("[a-zA-Z]")},d:{pattern:new RegExp("\\d")},m:{pattern:new RegExp("\\d")},M:{pattern:new RegExp("\\d")},H:{pattern:new RegExp("\\d")},h:{pattern:new RegExp("\\d")},s:{pattern:new RegExp("\\d")}}},cS=["Hh:m0:s0","Hh:m0","m0:s0"],lS=["percent","Hh","s0","m0","separator","d0/M0/0000","d0/M0","d0","M0"];let hS=(()=>{class t{constructor(t){this._config=t,this.maskExpression="",this.actualValue="",this.shownMaskExpression="",this._formatWithSeparators=(t,e,n,r)=>{const i=t.split(n),o=i.length>1?`${n}${i[1]}`:"";let s=i[0];const a=this.separatorLimit.replace(/\s/g,"");a&&+a&&(s="-"===s[0]?`-${s.slice(1,s.length).slice(0,a.length)}`:s.slice(0,a.length));const u=/(\d+)(\d{3})/;for(;e&&u.test(s);)s=s.replace(u,"$1"+e+"$2");return void 0===r?s+o:0===r?s:s+o.substr(0,r+1)},this.percentage=t=>Number(t)>=0&&Number(t)<=100,this.getPrecision=t=>{const e=t.split(".");return e.length>1?Number(e[e.length-1]):1/0},this.checkInputPrecision=(t,e,n)=>{if(e<1/0){const r=new RegExp(this._charToRegExpExpression(n)+`\\d{${e}}.*$`),i=t.match(r);i&&i[0].length-1>e&&(t=t.substring(0,t.length-(i[0].length-1-e))),0===e&&t.endsWith(n)&&(t=t.substring(0,t.length-1))}return t},this._shift=new Set,this.clearIfNotMatch=this._config.clearIfNotMatch,this.dropSpecialCharacters=this._config.dropSpecialCharacters,this.maskSpecialCharacters=this._config.specialCharacters,this.maskAvailablePatterns=this._config.patterns,this.prefix=this._config.prefix,this.suffix=this._config.suffix,this.thousandSeparator=this._config.thousandSeparator,this.decimalMarker=this._config.decimalMarker,this.hiddenInput=this._config.hiddenInput,this.showMaskTyped=this._config.showMaskTyped,this.placeHolderCharacter=this._config.placeHolderCharacter,this.validation=this._config.validation,this.separatorLimit=this._config.separatorLimit,this.allowNegativeNumbers=this._config.allowNegativeNumbers,this.leadZeroDateTime=this._config.leadZeroDateTime}applyMaskWithPattern(t,e){const[n,r]=e;return this.customPattern=r,this.applyMask(t,n)}applyMask(t,e,n=0,r=(()=>{})){if(null==t||void 0===e)return"";let i=0,o="",s=!1,a=!1,u=1,c=!1;t.slice(0,this.prefix.length)===this.prefix&&(t=t.slice(this.prefix.length,t.length)),this.suffix&&t.endsWith(this.suffix)&&(t=t.slice(0,t.length-this.suffix.length));const l=t.toString().split("");"IP"===e&&(this.ipError=!!(l.filter(t=>"."===t).length<3&&l.length<7),e="099.099.099.099");const h=[];for(let g=0;g<t.length;g++)t[g].match("\\d")&&h.push(t[g]);if("CPF_CNPJ"===e&&(this.cpfCnpjError=!(11===h.length||14===h.length),e=h.length>11?"00.000.000/0000-00":"000.000.000-00"),e.startsWith("percent")){if(t.match("[a-z]|[A-Z]")||t.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,\/.]/)){t=this._stripToDecimal(t);const n=this.getPrecision(e);t=this.checkInputPrecision(t,n,this.decimalMarker)}if(t.indexOf(".")>0&&!this.percentage(t.substring(0,t.indexOf(".")))){const e=t.substring(0,t.indexOf(".")-1);t=`${e}${t.substring(t.indexOf("."),t.length)}`}o=this.percentage(t)?t:t.substring(0,t.length-1)}else if(e.startsWith("separator")){(t.match("[w\u0430-\u044f\u0410-\u042f]")||t.match("[\u0401\u0451\u0410-\u044f]")||t.match("[a-z]|[A-Z]")||t.match(/[-@#!$%\\^&*()_\xa3\xac'+|~=`{}\[\]:";<>.?\/]/)||t.match("[^A-Za-z0-9,]"))&&(t=this._stripToDecimal(t)),t=t.length>1&&"0"===t[0]&&t[1]!==this.decimalMarker?t.slice(1,t.length):t;const r=this._charToRegExpExpression(this.thousandSeparator),i=this._charToRegExpExpression(this.decimalMarker),s='@#!$%^&*()_+|~=`{}\\[\\]:\\s,\\.";<>?\\/'.replace(r,"").replace(i,""),c=new RegExp("["+s+"]");t.match(c)&&(t=t.substring(0,t.length-1));const l=this.getPrecision(e),h=(t=this.checkInputPrecision(t,l,this.decimalMarker)).replace(new RegExp(r,"g"),"");o=this._formatWithSeparators(h,this.thousandSeparator,this.decimalMarker,l);const f=o.indexOf(",")-t.indexOf(","),d=o.length-t.length;if(d>0&&","!==o[n]){a=!0;let t=0;do{this._shift.add(n+t),t++}while(t<d)}else 0!==f&&n>0&&!(o.indexOf(",")>=n&&n>3)||!(o.indexOf(".")>=n&&n>3)&&d<=0?(this._shift.clear(),a=!0,u=d,this._shift.add(n+=d)):this._shift.clear()}else for(let g=0,m=l[0];g<l.length&&i!==e.length;g++,m=l[g])if(this._checkSymbolMask(m,e[i])&&"?"===e[i+1])o+=m,i+=2;else if("*"===e[i+1]&&s&&this._checkSymbolMask(m,e[i+2]))o+=m,i+=3,s=!1;else if(this._checkSymbolMask(m,e[i])&&"*"===e[i+1])o+=m,s=!0;else if("?"===e[i+1]&&this._checkSymbolMask(m,e[i+2]))o+=m,i+=3;else if(this._checkSymbolMask(m,e[i])){if("H"===e[i]&&Number(m)>2){i+=1,this._shiftStep(e,i,l.length),g--,this.leadZeroDateTime&&(o+="0");continue}if("h"===e[i]&&"2"===o&&Number(m)>3){i+=1,g--;continue}if("m"===e[i]&&Number(m)>5){i+=1,this._shiftStep(e,i,l.length),g--,this.leadZeroDateTime&&(o+="0");continue}if("s"===e[i]&&Number(m)>5){i+=1,this._shiftStep(e,i,l.length),g--,this.leadZeroDateTime&&(o+="0");continue}const n=31;if("d"===e[i]&&(Number(m)>3&&this.leadZeroDateTime||Number(t.slice(i,i+2))>n||"/"===t[i+1])){i+=1,this._shiftStep(e,i,l.length),g--,this.leadZeroDateTime&&(o+="0");continue}if("M"===e[i]){const r=12,s=0===i&&(Number(m)>2||Number(t.slice(i,i+2))>r||"/"===t[i+1]),a=t.slice(i-3,i-1).includes("/")&&("/"===t[i-2]&&Number(t.slice(i-1,i+1))>r&&"/"!==t[i]||"/"===t[i]||"/"===t[i-3]&&Number(t.slice(i-2,i))>r&&"/"!==t[i-1]||"/"===t[i-1]),u=Number(t.slice(i-3,i-1))<=n&&!t.slice(i-3,i-1).includes("/")&&"/"===t[i-1]&&(Number(t.slice(i,i+2))>r||"/"===t[i+1]),c=Number(t.slice(i-3,i-1))>n&&!t.slice(i-3,i-1).includes("/")&&!t.slice(i-2,i).includes("/")&&Number(t.slice(i-2,i))>r,h=Number(t.slice(i-3,i-1))<=n&&!t.slice(i-3,i-1).includes("/")&&"/"!==t[i-1]&&Number(t.slice(i-1,i+1))>r;if(Number(m)>1&&this.leadZeroDateTime||s||a||u||c||h){i+=1,this._shiftStep(e,i,l.length),g--,this.leadZeroDateTime&&(o+="0");continue}}o+=m,i++}else-1!==this.maskSpecialCharacters.indexOf(e[i])?(o+=e[i],i++,this._shiftStep(e,i,l.length),g--):this.maskSpecialCharacters.indexOf(m)>-1&&this.maskAvailablePatterns[e[i]]&&this.maskAvailablePatterns[e[i]].optional?(l[i]&&"099.099.099.099"!==e&&"000.000.000-00"!==e&&"00.000.000/0000-00"!==e&&(o+=l[i]),i++,g--):"*"===this.maskExpression[i+1]&&this._findSpecialChar(this.maskExpression[i+2])&&this._findSpecialChar(m)===this.maskExpression[i+2]&&s||"?"===this.maskExpression[i+1]&&this._findSpecialChar(this.maskExpression[i+2])&&this._findSpecialChar(m)===this.maskExpression[i+2]&&s?(i+=3,o+=m):this.showMaskTyped&&this.maskSpecialCharacters.indexOf(m)<0&&m!==this.placeHolderCharacter&&(c=!0);o.length+1===e.length&&-1!==this.maskSpecialCharacters.indexOf(e[e.length-1])&&(o+=e[e.length-1]);let f=n+1;for(;this._shift.has(f);)u++,f++;let d=this._shift.has(n)?u:0;c&&d--,r(d,a),u<0&&this._shift.clear();let p=`${this.prefix}${o}${this.suffix}`;return 0===o.length&&(p=`${this.prefix}${o}`),p}_findSpecialChar(t){return this.maskSpecialCharacters.find(e=>e===t)}_checkSymbolMask(t,e){return this.maskAvailablePatterns=this.customPattern?this.customPattern:this.maskAvailablePatterns,this.maskAvailablePatterns[e]&&this.maskAvailablePatterns[e].pattern&&this.maskAvailablePatterns[e].pattern.test(t)}_stripToDecimal(t){return t.split("").filter((t,e)=>t.match("^-?\\d")||t.match("\\s")||"."===t||","===t||"-"===t&&0===e&&this.allowNegativeNumbers).join("")}_charToRegExpExpression(t){if(t){const e="[\\^$.|?*+()";return" "===t?"\\s":e.indexOf(t)>=0?"\\"+t:t}return t}_shiftStep(t,e,n){const r=/[*?]/g.test(t.slice(0,e))?n:e;this._shift.add(r+this.prefix.length||0)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(oS))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),fS=(()=>{class t extends hS{constructor(t,e,n,r){super(e),this.document=t,this._config=e,this._elementRef=n,this._renderer=r,this.maskExpression="",this.isNumberValue=!1,this.placeHolderCharacter="_",this.maskIsShown="",this.selStart=null,this.selEnd=null,this.writingValue=!1,this.onChange=t=>{},this._formElement=this._elementRef.nativeElement}applyMask(t,e,n=0,r=(()=>{})){if(!e)return t;if(this.maskIsShown=this.showMaskTyped?this.showMaskInInput():"","IP"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(t||"#")),"CPF_CNPJ"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(t||"#")),!t&&this.showMaskTyped)return this.formControlResult(this.prefix),this.prefix+this.maskIsShown;const i=t&&"number"==typeof this.selStart?t[this.selStart]:"";let o="";if(void 0!==this.hiddenInput){let e=this.actualValue.split("");""!==t&&e.length?"number"==typeof this.selStart&&"number"==typeof this.selEnd&&(t.length>e.length?e.splice(this.selStart,0,i):t.length<e.length&&(e.length-t.length==1?e.splice(this.selStart-1,1):e.splice(this.selStart,this.selEnd-this.selStart))):e=[],o=this.actualValue.length?this.shiftTypedSymbols(e.join("")):t}o=Boolean(o)&&o.length?o:t;const s=super.applyMask(o,e,n,r);if(this.actualValue=this.getActualValue(s),"."===this.thousandSeparator&&"."===this.decimalMarker&&(this.decimalMarker=","),this.maskExpression.startsWith("separator")&&!0===this.dropSpecialCharacters&&(this.maskSpecialCharacters=this.maskSpecialCharacters.filter(t=>t!==this.decimalMarker)),this.formControlResult(s),!this.showMaskTyped)return this.hiddenInput&&s&&s.length?this.hideInput(s,this.maskExpression):s;const a=s.length,u=this.prefix+this.maskIsShown;if(this.maskExpression.includes("H")){const t=this._numberSkipedSymbols(s);return s+u.slice(a+t)}return"IP"===this.maskExpression||"CPF_CNPJ"===this.maskExpression?s+u:s+u.slice(a)}_numberSkipedSymbols(t){const e=/(^|\D)(\d\D)/g;let n=e.exec(t),r=0;for(;null!=n;)r+=1,n=e.exec(t);return r}applyValueChanges(t=0,e=(()=>{})){this._formElement.value=this.applyMask(this._formElement.value,this.maskExpression,t,e),this._formElement!==this.document.activeElement&&this.clearIfNotMatchFn()}hideInput(t,e){return t.split("").map((t,n)=>this.maskAvailablePatterns&&this.maskAvailablePatterns[e[n]]&&this.maskAvailablePatterns[e[n]].symbol?this.maskAvailablePatterns[e[n]].symbol:t).join("")}getActualValue(t){const e=t.split("").filter((t,e)=>this._checkSymbolMask(t,this.maskExpression[e])||this.maskSpecialCharacters.includes(this.maskExpression[e])&&t===this.maskExpression[e]);return e.join("")===t?e.join(""):t}shiftTypedSymbols(t){let e="";return(t&&t.split("").map((n,r)=>{if(this.maskSpecialCharacters.includes(t[r+1])&&t[r+1]!==this.maskExpression[r+1])return e=n,t[r+1];if(e.length){const t=e;return e="",t}return n})||[]).join("")}showMaskInInput(t){if(this.showMaskTyped&&this.shownMaskExpression){if(this.maskExpression.length!==this.shownMaskExpression.length)throw new Error("Mask expression must match mask placeholder length");return this.shownMaskExpression}if(this.showMaskTyped){if(t){if("IP"===this.maskExpression)return this._checkForIp(t);if("CPF_CNPJ"===this.maskExpression)return this._checkForCpfCnpj(t)}return this.maskExpression.replace(/\w/g,this.placeHolderCharacter)}return""}clearIfNotMatchFn(){this.clearIfNotMatch&&this.prefix.length+this.maskExpression.length+this.suffix.length!==this._formElement.value.replace(/_/g,"").length&&(this.formElementProperty=["value",""],this.applyMask(this._formElement.value,this.maskExpression))}set formElementProperty([t,e]){this._renderer.setProperty(this._formElement,t,e)}checkSpecialCharAmount(t){return t.split("").filter(t=>this._findSpecialChar(t)).length}removeMask(t){return this._removeMask(this._removeSuffix(this._removePrefix(t)),this.maskSpecialCharacters.concat("_").concat(this.placeHolderCharacter))}_checkForIp(t){if("#"===t)return`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`;const e=[];for(let n=0;n<t.length;n++)t[n].match("\\d")&&e.push(t[n]);return e.length<=3?`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`:e.length>3&&e.length<=6?`${this.placeHolderCharacter}.${this.placeHolderCharacter}`:e.length>6&&e.length<=9?this.placeHolderCharacter:""}_checkForCpfCnpj(t){const e=`${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`,n=`${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}/${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`;if("#"===t)return e;const r=[];for(let i=0;i<t.length;i++)t[i].match("\\d")&&r.push(t[i]);return r.length<=3?e.slice(r.length,e.length):r.length>3&&r.length<=6?e.slice(r.length+1,e.length):r.length>6&&r.length<=9?e.slice(r.length+2,e.length):r.length>9&&r.length<11?e.slice(r.length+3,e.length):11===r.length?"":12===r.length?n.slice(17===t.length?16:15,n.length):r.length>12&&r.length<=14?n.slice(r.length+4,n.length):""}formControlResult(t){this.writingValue||(Array.isArray(this.dropSpecialCharacters)?this.onChange(this._removeMask(this._removeSuffix(this._removePrefix(t)),this.dropSpecialCharacters)):this.onChange(this.dropSpecialCharacters?this._checkSymbols(t):this._removeSuffix(this._removePrefix(t))))}_removeMask(t,e){return t?t.replace(this._regExpForRemove(e),""):t}_removePrefix(t){return this.prefix&&t?t.replace(this.prefix,""):t}_removeSuffix(t){return this.suffix&&t?t.replace(this.suffix,""):t}_retrieveSeparatorValue(t){return this._removeMask(this._removeSuffix(this._removePrefix(t)),this.maskSpecialCharacters)}_regExpForRemove(t){return new RegExp(t.map(t=>`\\${t}`).join("|"),"gi")}_checkSymbols(t){if(""===t)return t;const e=this._retrieveSeparatorPrecision(this.maskExpression);let n=this._retrieveSeparatorValue(t);return"."!==this.decimalMarker&&(n=n.replace(this.decimalMarker,".")),this.isNumberValue?e?t===this.decimalMarker?null:this._checkPrecision(this.maskExpression,n):Number(n):n}_retrieveSeparatorPrecision(t){const e=t.match(new RegExp("^separator\\.([^d]*)"));return e?Number(e[1]):null}_checkPrecision(t,e){return t.indexOf("2")>0?Number(e).toFixed(2):Number(e)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(s),r.Vb(oS),r.Vb(r.l),r.Vb(r.F))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),dS=(()=>{class t{constructor(t,e,n){this.document=t,this._maskService=e,this._config=n,this.maskExpression="",this.specialCharacters=[],this.patterns={},this.prefix="",this.suffix="",this.thousandSeparator=" ",this.decimalMarker=".",this.dropSpecialCharacters=null,this.hiddenInput=null,this.showMaskTyped=null,this.placeHolderCharacter=null,this.shownMaskExpression=null,this.showTemplate=null,this.clearIfNotMatch=null,this.validation=null,this.separatorLimit=null,this.allowNegativeNumbers=null,this.leadZeroDateTime=null,this._maskValue="",this._position=null,this._maskExpressionArray=[],this.onChange=t=>{},this.onTouch=()=>{}}ngOnChanges(t){const{maskExpression:e,specialCharacters:n,patterns:r,prefix:i,suffix:o,thousandSeparator:s,decimalMarker:a,dropSpecialCharacters:u,hiddenInput:c,showMaskTyped:l,placeHolderCharacter:h,shownMaskExpression:f,showTemplate:d,clearIfNotMatch:p,validation:g,separatorLimit:m,allowNegativeNumbers:b,leadZeroDateTime:y}=t;if(e&&(this._maskValue=e.currentValue||"",e.currentValue&&e.currentValue.split("||").length>1&&(this._maskExpressionArray=e.currentValue.split("||").sort((t,e)=>t.length-e.length),this._maskValue=this._maskExpressionArray[0],this.maskExpression=this._maskExpressionArray[0],this._maskService.maskExpression=this._maskExpressionArray[0])),n){if(!n.currentValue||!Array.isArray(n.currentValue))return;this._maskService.maskSpecialCharacters=n.currentValue||[]}r&&r.currentValue&&(this._maskService.maskAvailablePatterns=r.currentValue),i&&(this._maskService.prefix=i.currentValue),o&&(this._maskService.suffix=o.currentValue),s&&(this._maskService.thousandSeparator=s.currentValue),a&&(this._maskService.decimalMarker=a.currentValue),u&&(this._maskService.dropSpecialCharacters=u.currentValue),c&&(this._maskService.hiddenInput=c.currentValue),l&&(this._maskService.showMaskTyped=l.currentValue),h&&(this._maskService.placeHolderCharacter=h.currentValue),f&&(this._maskService.shownMaskExpression=f.currentValue),d&&(this._maskService.showTemplate=d.currentValue),p&&(this._maskService.clearIfNotMatch=p.currentValue),g&&(this._maskService.validation=g.currentValue),m&&(this._maskService.separatorLimit=m.currentValue),b&&(this._maskService.allowNegativeNumbers=b.currentValue,this._maskService.allowNegativeNumbers&&(this._maskService.maskSpecialCharacters=this._maskService.maskSpecialCharacters.filter(t=>"-"!==t))),y&&(this._maskService.leadZeroDateTime=y.currentValue),this._applyMask()}validate({value:t}){if(!this._maskService.validation||!this._maskValue)return null;if(this._maskService.ipError)return this._createValidationError(t);if(this._maskService.cpfCnpjError)return this._createValidationError(t);if(this._maskValue.startsWith("separator"))return null;if(lS.includes(this._maskValue))return null;if(this._maskService.clearIfNotMatch)return null;if(cS.includes(this._maskValue))return this._validateTime(t);if(t&&t.toString().length>=1){let e=0;for(const n in this._maskService.maskAvailablePatterns)if(this._maskService.maskAvailablePatterns[n].optional&&!0===this._maskService.maskAvailablePatterns[n].optional){if(this._maskValue.indexOf(n)!==this._maskValue.lastIndexOf(n)?e+=this._maskValue.split("").filter(t=>t===n).join("").length:-1!==this._maskValue.indexOf(n)&&e++,-1!==this._maskValue.indexOf(n)&&t.toString().length>=this._maskValue.indexOf(n))return null;if(e===this._maskValue.length)return null}if(1===this._maskValue.indexOf("{")&&t.toString().length===this._maskValue.length+Number(this._maskValue.split("{")[1].split("}")[0])-4)return null;if(1===this._maskValue.indexOf("*")||1===this._maskValue.indexOf("?"))return null;if(this._maskValue.indexOf("*")>1&&t.toString().length<this._maskValue.indexOf("*")||this._maskValue.indexOf("?")>1&&t.toString().length<this._maskValue.indexOf("?")||1===this._maskValue.indexOf("{"))return this._createValidationError(t);if(-1===this._maskValue.indexOf("*")||-1===this._maskValue.indexOf("?")){const n=this._maskService.dropSpecialCharacters?this._maskValue.length-this._maskService.checkSpecialCharAmount(this._maskValue)-e:this._maskValue.length-e;if(t.toString().length<n)return this._createValidationError(t)}}return null}onInput(t){const e=t.target;if(this._inputValue=e.value,this._setMask(),!this._maskValue)return void this.onChange(e.value);const n=1===e.selectionStart?e.selectionStart+this._maskService.prefix.length:e.selectionStart;let r=0,i=!1;if(this._maskService.applyValueChanges(n,(t,e)=>{r=t,i=e}),this.document.activeElement!==e)return;this._position=1===this._position&&1===this._inputValue.length?null:this._position;let o=this._position?this._inputValue.length+n+r:n+("Backspace"!==this._code||i?r:0);o>this._getActualInputLength()&&(o=this._getActualInputLength()),e.setSelectionRange(o,o),this._position=null}onBlur(){this._maskValue&&this._maskService.clearIfNotMatchFn(),this.onTouch()}onFocus(t){if(!this._maskValue)return;const e=t.target;null!==e&&null!==e.selectionStart&&e.selectionStart===e.selectionEnd&&e.selectionStart>this._maskService.prefix.length&&38!==t.keyCode&&this._maskService.showMaskTyped&&(this._maskService.maskIsShown=this._maskService.showMaskInInput(),e.setSelectionRange&&this._maskService.prefix+this._maskService.maskIsShown===e.value?(e.focus(),e.setSelectionRange(0,0)):e.selectionStart>this._maskService.actualValue.length&&e.setSelectionRange(this._maskService.actualValue.length,this._maskService.actualValue.length));const n=e.value&&e.value!==this._maskService.prefix?e.value:this._maskService.prefix+this._maskService.maskIsShown;e.value!==n&&(e.value=n),(e.selectionStart||e.selectionEnd)<=this._maskService.prefix.length?e.selectionStart=this._maskService.prefix.length:e.selectionEnd>this._getActualInputLength()&&(e.selectionEnd=this._getActualInputLength())}onKeyDown(t){var e;if(!this._maskValue)return;this._code=t.code?t.code:t.key;const n=t.target;if(this._inputValue=n.value,this._setMask(),38===t.keyCode&&t.preventDefault(),37===t.keyCode||8===t.keyCode||46===t.keyCode){if(8===t.keyCode&&0===n.value.length&&(n.selectionStart=n.selectionEnd),8===t.keyCode&&0!==n.selectionStart)if(this.specialCharacters=(null===(e=this.specialCharacters)||void 0===e?void 0:e.length)?this.specialCharacters:this._config.specialCharacters,this.prefix.length>1&&n.selectionStart<=this.prefix.length)n.setSelectionRange(this.prefix.length,this.prefix.length);else{if(this._inputValue.length!==n.selectionStart&&1!==n.selectionStart)for(;this.specialCharacters.includes(this._inputValue[n.selectionStart-1].toString())&&(this.prefix.length>=1&&n.selectionStart>this.prefix.length||0===this.prefix.length);)n.setSelectionRange(n.selectionStart-1,n.selectionStart-1);this.suffixCheckOnPressDelete(t.keyCode,n)}this.suffixCheckOnPressDelete(t.keyCode,n),this._maskService.prefix.length&&n.selectionStart<=this._maskService.prefix.length&&n.selectionEnd<=this._maskService.prefix.length&&t.preventDefault();const r=n.selectionStart;8!==t.keyCode||n.readOnly||0!==r||n.selectionEnd!==n.value.length||0===n.value.length||(this._position=this._maskService.prefix?this._maskService.prefix.length:0,this._maskService.applyMask(this._maskService.prefix,this._maskService.maskExpression,this._position))}this.suffix&&this.suffix.length>1&&this._inputValue.length-this.suffix.length<n.selectionStart?n.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length):(65===t.keyCode&&!0===t.ctrlKey||65===t.keyCode&&!0===t.metaKey)&&(n.setSelectionRange(0,this._getActualInputLength()),t.preventDefault()),this._maskService.selStart=n.selectionStart,this._maskService.selEnd=n.selectionEnd}writeValue(t){return Object(Ui.b)(this,void 0,void 0,function*(){void 0===t&&(t=""),"number"==typeof t&&(t=String(t),t="."!==this.decimalMarker?t.replace(".",this.decimalMarker):t,this._maskService.isNumberValue=!0),t&&this._maskService.maskExpression||this._maskService.maskExpression&&(this._maskService.prefix||this._maskService.showMaskTyped)?(this._maskService.writingValue=!0,this._maskService.formElementProperty=["value",this._maskService.applyMask(t,this._maskService.maskExpression)],this._maskService.writingValue=!1):this._maskService.formElementProperty=["value",t],this._inputValue=t})}registerOnChange(t){this.onChange=t,this._maskService.onChange=this.onChange}registerOnTouched(t){this.onTouch=t}suffixCheckOnPressDelete(t,e){46===t&&this.suffix.length>0&&this._inputValue.length-this.suffix.length<=e.selectionStart&&e.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length),8===t&&(this.suffix.length>1&&this._inputValue.length-this.suffix.length<e.selectionStart&&e.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length),1===this.suffix.length&&this._inputValue.length===e.selectionStart&&e.setSelectionRange(e.selectionStart-1,e.selectionStart-1))}setDisabledState(t){this._maskService.formElementProperty=["disabled",t]}onModelChange(t){t||(this._maskService.actualValue="")}_repeatPatternSymbols(t){return t.match(/{[0-9]+}/)&&t.split("").reduce((e,n,r)=>{if(this._start="{"===n?r:this._start,"}"!==n)return this._maskService._findSpecialChar(n)?e+n:e;this._end=r;const i=Number(t.slice(this._start+1,this._end));return e+new Array(i+1).join(t[this._start-1])},"")||t}_applyMask(){this._maskService.maskExpression=this._repeatPatternSymbols(this._maskValue||""),this._maskService.formElementProperty=["value",this._maskService.applyMask(this._inputValue,this._maskService.maskExpression)]}_validateTime(t){const e=this._maskValue.split("").filter(t=>":"!==t).length;return null===t||0===t.length?null:0==+t[t.length-1]&&t.length<e||t.length<=e-2?this._createValidationError(t):null}_getActualInputLength(){return this._maskService.actualValue.length||this._maskService.actualValue.length+this._maskService.prefix.length}_createValidationError(t){return{mask:{requiredMask:this._maskValue,actualValue:t}}}_setMask(){this._maskExpressionArray.length>0&&this._maskExpressionArray.some(t=>{const e=this._maskService.removeMask(this._inputValue).length<=this._maskService.removeMask(t).length;if(this._inputValue&&e)return this._maskValue=t,this.maskExpression=t,this._maskService.maskExpression=t,e;this._maskValue=this._maskExpressionArray[this._maskExpressionArray.length-1],this.maskExpression=this._maskExpressionArray[this._maskExpressionArray.length-1],this._maskService.maskExpression=this._maskExpressionArray[this._maskExpressionArray.length-1]})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(s),r.Mb(fS),r.Mb(oS))},t.\u0275dir=r.Hb({type:t,selectors:[["input","mask",""],["textarea","mask",""]],hostBindings:function(t,e){1&t&&r.Yb("input",function(t){return e.onInput(t)})("blur",function(){return e.onBlur()})("click",function(t){return e.onFocus(t)})("keydown",function(t){return e.onKeyDown(t)})("ngModelChange",function(t){return e.onModelChange(t)})},inputs:{maskExpression:["mask","maskExpression"],specialCharacters:"specialCharacters",patterns:"patterns",prefix:"prefix",suffix:"suffix",thousandSeparator:"thousandSeparator",decimalMarker:"decimalMarker",dropSpecialCharacters:"dropSpecialCharacters",hiddenInput:"hiddenInput",showMaskTyped:"showMaskTyped",placeHolderCharacter:"placeHolderCharacter",shownMaskExpression:"shownMaskExpression",showTemplate:"showTemplate",clearIfNotMatch:"clearIfNotMatch",validation:"validation",separatorLimit:"separatorLimit",allowNegativeNumbers:"allowNegativeNumbers",leadZeroDateTime:"leadZeroDateTime"},features:[r.Bb([{provide:S_,useExisting:Object(r.V)(()=>t),multi:!0},{provide:k_,useExisting:Object(r.V)(()=>t),multi:!0},fS]),r.Ab]}),t})(),pS=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[{provide:sS,useValue:e},{provide:aS,useValue:uS},{provide:oS,useFactory:gS,deps:[aS,sS]},hS]}}static forChild(){return{ngModule:t}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})();function gS(t,e){return Object.assign(Object.assign({},t),e instanceof Function?e():e)}const mS="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function bS(t,e){1&t&&(r.Rb(0,"p",3),r.sc(1," Passwords must be at least 8 characters long, have 1 uppercase letter, 1 lowercase letter, and 1 number. "),r.Qb())}function yS(t,e){1&t&&(r.Rb(0,"p",3),r.sc(1," Field is required "),r.Qb())}function vS(t,e){if(1&t&&(r.Rb(0,"p",3),r.sc(1),r.Qb()),2&t){const t=r.cc(2);r.Cb(1),r.vc(" The value you inputted is ",null==t.control.errors?null:t.control.errors.minlength.actualLength," characters long. It must be at least ",null==t.control.errors?null:t.control.errors.minlength.requiredLength," characters long. ")}}function _S(t,e){1&t&&(r.Rb(0,"p",3),r.sc(1," You must enter a valid email. "),r.Qb())}function wS(t,e){1&t&&(r.Rb(0,"p",3),r.sc(1," Value too low. "),r.Qb())}function SS(t,e){1&t&&(r.Rb(0,"p",3),r.sc(1," Value too high. "),r.Qb())}function CS(t,e){if(1&t&&(r.Pb(0),r.qc(1,bS,2,0,"p",2),r.qc(2,yS,2,0,"p",2),r.qc(3,vS,2,2,"p",2),r.qc(4,_S,2,0,"p",2),r.qc(5,wS,2,0,"p",2),r.qc(6,SS,2,0,"p",2),r.Ob()),2&t){const t=r.cc();r.Cb(1),r.hc("ngIf",null==t.control.errors?null:t.control.errors.pattern),r.Cb(1),r.hc("ngIf",null==t.control.errors?null:t.control.errors.required),r.Cb(1),r.hc("ngIf",null==t.control.errors?null:t.control.errors.minlength),r.Cb(1),r.hc("ngIf",null==t.control.errors?null:t.control.errors.email),r.Cb(1),r.hc("ngIf",null==t.control.errors?null:t.control.errors.min),r.Cb(1),r.hc("ngIf",null==t.control.errors?null:t.control.errors.max)}}mS.KeyboardEvent||(mS.KeyboardEvent=function(t,e){});let ES=(()=>{class t{constructor(){this.control=new ww,this.type="text",this.placeholder="",this.format=""}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-input"]],inputs:{control:"control",type:"type",placeholder:"placeholder",format:"format"},decls:2,vars:6,consts:[[1,"block","w-full","py-1.5","px-3","text-gray-200","border","border-gray-400","transition","duration-500","focus:outline-none","rounded","bg-transparent","focus:border-indigo-400",3,"formControl","type","placeholder","mask","dropSpecialCharacters"],[4,"ngIf"],["class","text-red-400",4,"ngIf"],[1,"text-red-400"]],template:function(t,e){1&t&&(r.Nb(0,"input",0),r.qc(1,CS,7,6,"ng-container",1)),2&t&&(r.hc("formControl",e.control)("type",e.type)("placeholder",e.placeholder)("mask",e.format)("dropSpecialCharacters",!1),r.Cb(1),r.hc("ngIf",e.control.touched&&e.control.dirty))},directives:[O_,dS,X_,Dw,F],styles:[""]}),t})();function OS(t,e){if(1&t&&(r.Rb(0,"app-alert",11),r.sc(1),r.Qb()),2&t){const t=r.cc();r.hc("color",t.alertColor),r.Cb(1),r.uc(" ",t.alertMsg," ")}}let xS=(()=>{class t{constructor(t){this.auth=t,this.inSubmission=!1,this.name=new ww("",[R_.required,R_.minLength(3)]),this.email=new ww("",[R_.required,R_.email]),this.age=new ww("",[R_.required,R_.min(18),R_.max(120)]),this.password=new ww("",[R_.required,R_.pattern(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/gm)]),this.confirm_password=new ww("",[R_.required]),this.phoneNumber=new ww("",[R_.required,R_.minLength(13),R_.maxLength(13)]),this.showAlert=!1,this.alertMsg="Please wait! Your account is being created.",this.alertColor="blue",this.registerForm=new Sw({name:this.name,email:this.email,age:this.age,password:this.password,confirm_password:this.confirm_password,phoneNumber:this.phoneNumber},[iS.match("password","confirm_password")])}register(){return Object(Ui.b)(this,void 0,void 0,function*(){this.showAlert=!0,this.alertMsg="Please wait! Your account is being created.",this.alertColor="blue",this.inSubmission=!0;try{yield this.auth.createUser(this.registerForm.value)}catch(Pv){return console.error(Pv),this.alertMsg="An unexpected error occurred. Please try again later",this.alertColor="red",void(this.inSubmission=!1)}this.alertMsg="Success! Your account has been created.",this.alertColor="green"})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(n_))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-register"]],decls:28,vars:9,consts:[[3,"color",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"inline-block","mb-2"],["placeholder","Enter Name",3,"control"],["type","email","placeholder","Enter Email",3,"control"],["type","number","placeholder","Enter Age",3,"control"],["type","password","placeholder","Enter Password",3,"control"],["type","password","placeholder","Confirm Password",3,"control"],["format","(000)000-0000","placeholder","Enter Phone Number",3,"control"],["type","submit",1,"block","w-full","bg-indigo-400","text-white","py-1.5","px-3","rounded","transition","hover:bg-indigo-500","disabled:opacity-50","disabled:bg-indigo-400",3,"disabled"],[3,"color"]],template:function(t,e){1&t&&(r.qc(0,OS,2,2,"app-alert",0),r.Rb(1,"form",1),r.Yb("ngSubmit",function(){return e.register()}),r.Rb(2,"div",2),r.Rb(3,"label",3),r.sc(4,"Name"),r.Qb(),r.Nb(5,"app-input",4),r.Qb(),r.Rb(6,"div",2),r.Rb(7,"label",3),r.sc(8,"Email"),r.Qb(),r.Nb(9,"app-input",5),r.Qb(),r.Rb(10,"div",2),r.Rb(11,"label",3),r.sc(12,"Age"),r.Qb(),r.Nb(13,"app-input",6),r.Qb(),r.Rb(14,"div",2),r.Rb(15,"label",3),r.sc(16,"Password"),r.Qb(),r.Nb(17,"app-input",7),r.Qb(),r.Rb(18,"div",2),r.Rb(19,"label",3),r.sc(20,"Confirm Password"),r.Qb(),r.Nb(21,"app-input",8),r.Qb(),r.Rb(22,"div",2),r.Rb(23,"label",3),r.sc(24,"Phone Number"),r.Qb(),r.Nb(25,"app-input",9),r.Qb(),r.Rb(26,"button",10),r.sc(27," Submit "),r.Qb(),r.Qb()),2&t&&(r.hc("ngIf",e.showAlert),r.Cb(1),r.hc("formGroup",e.registerForm),r.Cb(4),r.hc("control",e.name),r.Cb(4),r.hc("control",e.email),r.Cb(4),r.hc("control",e.age),r.Cb(4),r.hc("control",e.password),r.Cb(4),r.hc("control",e.confirm_password),r.Cb(4),r.hc("control",e.phoneNumber),r.Cb(1),r.hc("disabled",e.registerForm.invalid||e.inSubmission))},directives:[F,Aw,J_,Vw,ES,Jw],styles:[""]}),t})(),TS=(()=>{class t{constructor(t){this.modal=t}ngOnInit(){this.modal.register("auth")}ngOnDestroy(){this.modal.unregister("auth")}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r_))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-auth-modal"]],decls:8,vars:0,consts:[["modalID","auth"],["heading","",1,"text-2xl","font-bold"],["tabTitle","Login"],["tabTitle","Register"]],template:function(t,e){1&t&&(r.Rb(0,"app-modal",0),r.Rb(1,"p",1),r.sc(2,"Your Account"),r.Qb(),r.Rb(3,"app-tabs-container"),r.Rb(4,"app-tab",2),r.Nb(5,"app-login"),r.Qb(),r.Rb(6,"app-tab",3),r.Nb(7,"app-register"),r.Qb(),r.Qb(),r.Qb())},directives:[f_,y_,p_,rS,xS],styles:[""]}),t})();function kS(t,e){1&t&&r.Nb(0,"app-auth-modal")}let IS=(()=>{class t{constructor(t){this.auth=t,this.title="videofireng"}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(n_))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-root"]],decls:4,vars:3,consts:[[4,"ngIf"]],template:function(t,e){1&t&&(r.Nb(0,"app-nav"),r.Nb(1,"router-outlet"),r.qc(2,kS,1,0,"app-auth-modal",0),r.dc(3,"async")),2&t&&(r.Cb(2),r.hc("ngIf",!r.ec(3,1,e.auth.isAuthenticatedWithDelay$)))},directives:[u_,bi,F,TS],pipes:[$],styles:[""]}),t})(),AS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[K,Zw,pS.forRoot()]]}),t})(),RS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[K,AS,Zw,Yw]]}),t})();class jS{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new NS(t,this.dueTime,this.scheduler))}}class NS extends Lt.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(DS,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function DS(t){t.debouncedNext()}var PS="firebasestorage.googleapis.com",VS=function(t){function e(n,r){var i=t.call(this,MS(n),"Firebase Storage: "+r+" ("+MS(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return Object(Ui.c)(e,t),e.prototype._codeEquals=function(t){return MS(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),e}(yo.c);function MS(t){return"storage/"+t}function LS(){return new VS("unknown","An unknown error occurred, please check the error payload for server response.")}function FS(){return new VS("canceled","User canceled the upload/download.")}function US(){return new VS("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function qS(t){return new VS("invalid-argument",t)}function HS(){return new VS("app-deleted","The Firebase app was deleted.")}function BS(t){return new VS("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function QS(t,e){return new VS("invalid-format","String does not match format '"+t+"': "+e)}function zS(t){throw new VS("internal-error","Internal error: "+t)}var GS={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},$S=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function WS(t,e){switch(t){case GS.RAW:return new $S(KS(e));case GS.BASE64:case GS.BASE64URL:return new $S(YS(t,e));case GS.DATA_URL:return new $S((n=new ZS(e)).base64?YS(GS.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(Pv){throw QS(GS.DATA_URL,"Malformed data URL.")}return KS(e)}(n.rest),new ZS(e).contentType)}var n;throw LS()}function KS(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function YS(t,e){switch(t){case GS.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw QS(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case GS.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw QS(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(Pv){throw QS(t,"Invalid character found")}for(var a=new Uint8Array(s.length),u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}var ZS=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw QS(GS.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=e[1]||null;null!=i&&(this.base64=(n=i).length>=(r=";base64").length&&n.substring(n.length-r.length)===r,this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}(),XS={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function JS(t){switch(t){case"running":case"pausing":case"canceling":return XS.RUNNING;case"paused":return XS.PAUSED;case"success":return XS.SUCCESS;case"canceled":return XS.CANCELED;case"error":default:return XS.ERROR}}var tC=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),eC=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=tC.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=tC.ABORT,e()}),t.xhr_.addEventListener("error",function(){t.errorCode_=tC.NETWORK_ERROR,e()}),t.xhr_.addEventListener("load",function(){e()})})}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw zS("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw zS("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw zS("cannot .getStatus() before sending");try{return this.xhr_.status}catch(Pv){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw zS("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),nC=function(){function t(){}return t.prototype.createConnection=function(){return new eC},t}(),rC=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(Pv){return new t(e,"")}if(""===r.path)return r;throw new VS("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e,n){var r=null,i="([A-Za-z0-9.\\-_]+)",o=new RegExp("^gs://"+i+"(/(.*))?$","i");function s(t){t.path_=decodeURIComponent(t.path)}for(var a=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://"+(n===PS?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:s}],c=0;c<u.length;c++){var l=u[c],h=l.regex.exec(e);if(h){var f=h[l.indices.path];f||(f=""),r=new t(h[l.indices.bucket],f),l.postModify(r);break}}if(null==r)throw function(t){return new VS("invalid-url","Invalid URL '"+t+"'.")}(e);return r},t}(),iC=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();function oC(t){return"string"==typeof t||t instanceof String}function sC(t){return aC()&&t instanceof Blob}function aC(){return"undefined"!=typeof Blob}function uC(t,e,n,r){if(r<e)throw qS("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw qS("Invalid value for '"+t+"'. Expected "+n+" or less.")}function cC(t,e){var n=e.match(/^(\w+):\/\/.+/),r=e;return null==(null==n?void 0:n[1])&&(r="https://"+e),r+"/v0"+t}function lC(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}var hC=function(){function t(t,e,n,r,i,o,s,a,u,c,l){var h=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.connection;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());void 0!==a?i(a):i()}catch(Pv){o(Pv)}else null!==s?((r=LS()).serverResponse=s.getResponseText(),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?HS():FS():new VS("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new fC(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,s=!1,a=0;function u(){return 2===a}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){o=setTimeout(function(){o=null,function(e,n){if(n)e(!1,new fC(!1,null,!0));else{var r=t.pool_.createConnection();t.pendingConnection_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(){null!==t.progressCallback_&&r.removeUploadProgressListener(i),t.pendingConnection_=null;var n=r.getErrorCode()===tC.NO_ERROR,o=r.getStatus();if(n&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new fC(s,r))}else{var a=r.getErrorCode()===tC.ABORT;e(!1,new fC(!1,null,a))}})}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(f,u())},e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,Object(Ui.f)([null,t],e));else{var r;u()||s?l.call.apply(l,Object(Ui.f)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var d=!1;function p(t){d||(d=!0,c||(null!==o?(t||(a=2),clearTimeout(o),h(0)):t||(a=1)))}return h(0),setTimeout(function(){s=!0,p(!0)},r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),fC=function(){return function(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n}}();function dC(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function pC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=dC();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(aC())return new Blob(t);throw new VS("unsupported-environment","This browser doesn't seem to support creating Blobs")}var gC=function(){function t(t,e){var n=0,r="";sC(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(sC(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(aC()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(pC.apply(null,r))}var i=e.map(function(t){return oC(t)?WS(GS.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var s=new Uint8Array(o),a=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]}),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}();function mC(t){var e,n;try{e=JSON.parse(t)}catch(Pv){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function bC(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function yC(t,e){return e}var vC=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||yC}}(),_C=null;function wC(){if(_C)return _C;var t=[];t.push(new vC("bucket")),t.push(new vC("generation")),t.push(new vC("metageneration")),t.push(new vC("name","fullPath",!0));var e=new vC("name");e.xform=function(t,e){return function(t){return!oC(t)||t.length<2?t:bC(t)}(e)},t.push(e);var n=new vC("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new vC("timeCreated")),t.push(new vC("updated")),t.push(new vC("md5Hash",null,!0)),t.push(new vC("cacheControl",null,!0)),t.push(new vC("contentDisposition",null,!0)),t.push(new vC("contentEncoding",null,!0)),t.push(new vC("contentLanguage",null,!0)),t.push(new vC("contentType",null,!0)),t.push(new vC("metadata","customMetadata",!0)),_C=t}function SC(t,e,n){var r=mC(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new rC(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(r,t),r}(t,r,n)}function CC(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var EC=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function OC(t){if(!t)throw LS()}function xC(t,e){return function(n,r){var i=SC(t,r,e);return OC(null!==i),i}}function TC(t){return function(e,n){var r;return(r=401===e.getStatus()?e.getResponseText().includes("Firebase App Check token is invalid")?new VS("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new VS("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new VS("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new VS("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function kC(t){var e=TC(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new VS("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function IC(t,e,n){var r=cC(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new EC(r,"GET",xC(t,n),i);return o.errorHandler=kC(e),o}function AC(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var RC=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function jC(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(Pv){OC(!1)}return OC(!!n&&-1!==(e||["active"]).indexOf(n)),n}var NC=262144,DC=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}();function PC(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var VC=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=wC(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e,r._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(n){var r=n[0],i=n[1];switch(e._state){case"running":t(r,i);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=AC(e,r,i),a={name:s.fullPath},u=cC(o,t.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=CC(s,n),h=new EC(u,"POST",function(t){var e;jC(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(Pv){OC(!1)}return OC(oC(e)),e},t.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=l,h.errorHandler=TC(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n,r){var i=function(t,e,n,r){var i=new EC(n,"POST",function(t){var e=jC(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Pv){OC(!1)}n||OC(!1);var i=Number(n);return OC(!isNaN(i)),new RC(i,r.size(),"final"===e)},t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=TC(e),i}(t._ref.storage,t._ref._location,e,t._blob),o=t._ref.storage._makeRequest(i,n,r);t._request=o,o.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=NC*this._chunkMultiplier,n=new RC(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i,o){var s;try{s=function(t,e,n,r,i,o,s,a){var u=new RC(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new VS("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":""+u.current},d=r.slice(h,h+l);if(null===d)throw US();var p=new EC(n,"POST",function(t,n){var i,s=jC(t,["active","final"]),a=u.current+l,c=r.size();return i="final"===s?xC(e,o)(t,n):null,new RC(a,c,"final"===s,i)},e.maxUploadRetryTime);return p.headers=f,p.body=d.uploadData(),p.progressCallback=a||null,p.errorHandler=TC(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(Pv){return t._error=Pv,void t._transition("error")}var a=t._ref.storage._makeRequest(s,i,o);t._request=a,a.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){NC*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e,n){var r=IC(t._ref.storage,t._ref._location,t._mappings),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition("success")},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=AC(e,r,i),c=CC(u,n),l=gC.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw US();var h={name:u.fullPath},f=cC(o,t.host),d=t.maxUploadRetryTime,p=new EC(f,"POST",xC(t,n),d);return p.urlParams=h,p.headers=s,p.body=l.uploadData(),p.errorHandler=TC(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=FS(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=JS(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new DC(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(JS(this._state)){case XS.SUCCESS:PC(this._resolve.bind(null,this.snapshot))();break;case XS.CANCELED:case XS.ERROR:PC(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(JS(this._state)){case XS.RUNNING:case XS.PAUSED:t.next&&PC(t.next.bind(t,this.snapshot))();break;case XS.SUCCESS:t.complete&&PC(t.complete.bind(t))();break;case XS.CANCELED:case XS.ERROR:t.error&&PC(t.error.bind(t,this._error))();break;default:t.error&&PC(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),MC=function(){function t(t,e){this._service=t,this._location=e instanceof rC?e:rC.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new rC(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return bC(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new rC(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw BS(t)},t}();function LC(t){var e={prefixes:[],items:[]};return FC(t,e).then(function(){return e})}function FC(t,e,n){return Object(Ui.b)(this,void 0,void 0,function(){var r,i,o;return Object(Ui.d)(this,function(s){switch(s.label){case 0:return[4,UC(t,{pageToken:n})];case 1:return r=s.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(o=e.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,FC(t,e,r.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function UC(t,e){return Object(Ui.b)(this,void 0,void 0,function(){var n,r;return Object(Ui.d)(this,function(i){switch(i.label){case 0:return null!=e&&"number"==typeof e.maxResults&&uC("options.maxResults",1,1e3,e.maxResults),r=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=cC(e.bucketOnlyServerUrl(),t.host),a=t.maxOperationRetryTime,u=new EC(s,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=mC(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t._makeStorageReference(new rC(e,s));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)a=t._makeStorageReference(new rC(e,c[u].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return OC(null!==i),i}}(t,e.bucket),a);return u.urlParams=o,u.errorHandler=TC(e),u}(t.storage,t._location,"/",(n=e||{}).pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function qC(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new rC(t._location.bucket,n);return new MC(t.storage,r)}function HC(t){return/^[A-Za-z]+:\/\//.test(t)}function BC(t,e){if(t instanceof GC){var n=t;if(null==n._bucket)throw new VS("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new MC(n,n._bucket);return null!=e?BC(r,e):r}return void 0!==e?qC(t,e):t}function QC(t,e){if(e&&HC(e)){if(t instanceof GC)return new MC(t,e);throw qS("To use ref(service, url), the first argument must be a Storage instance.")}return BC(t,e)}function zC(t,e){var n=null==e?void 0:e.storageBucket;return null==n?null:rC.makeFromBucketSpec(n,t)}var GC=function(){function t(t,e,n,r,i,o){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=PS,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?rC.makeFromBucketSpec(i,this._host):zC(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._bucket=null!=this._url?rC.makeFromBucketSpec(this._url,t):zC(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){uC("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){uC("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return Object(Ui.b)(this,void 0,void 0,function(){var t,e;return Object(Ui.d)(this,function(n){switch(n.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._getAppCheckToken=function(){return Object(Ui.b)(this,void 0,void 0,function(){var t;return Object(Ui.d)(this,function(e){switch(e.label){case 0:return(t=this._appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new MC(this,t)},t.prototype._makeRequest=function(t,e,n){var r=this;if(this._deleted)return new iC(HS());var i=function(t,e,n,r,i,o){var s=lC(t.urlParams),a=t.url+s,u=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(u,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(u,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(u,o),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(u,r),new hC(a,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}(t,this._appId,e,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then(function(){return r._requests.delete(i)},function(){return r._requests.delete(i)}),i},t.prototype.makeRequestWithTokens=function(t){return Object(Ui.b)(this,void 0,void 0,function(){var e;return Object(Ui.d)(this,function(n){switch(n.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return e=n.sent(),[2,this._makeRequest(t,e[0],e[1])]}})})},t}();function $C(t,e){return QC(t=Object(yo.i)(t),e)}var WC,KC,YC=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),ZC=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new YC(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new YC(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new YC(t,i,i._ref))}:{next:e.next?function(t){return e.next(new YC(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),XC=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new JC(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new JC(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),JC=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return qC(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new ZC(function(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new VC(t,new gC(e),n)}(t=Object(yo.i)(t),e,n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=GS.RAW),this._throwIfRoot("putString");var r=WS(e,t),i=Object(Ui.a)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new ZC(new VC(this._delegate,new gC(r.data,!0),i),this)},t.prototype.listAll=function(){var t,e=this;return(t=this._delegate,LC(t=Object(yo.i)(t))).then(function(t){return new XC(t,e.storage)})},t.prototype.list=function(t){var e=this;return function(t,e){return UC(t=Object(yo.i)(t),e)}(this._delegate,t||void 0).then(function(t){return new XC(t,e.storage)})},t.prototype.getMetadata=function(){return t=this._delegate,function(t){return Object(Ui.b)(this,void 0,void 0,function(){var e;return Object(Ui.d)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=IC(t.storage,t._location,wC()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}(t=Object(yo.i)(t));var t},t.prototype.updateMetadata=function(t){return function(t,e){return function(t,e){return Object(Ui.b)(this,void 0,void 0,function(){var n;return Object(Ui.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=function(t,e,n,r){var i=cC(e.fullServerUrl(),t.host),o=CC(n,r),s=t.maxOperationRetryTime,a=new EC(i,"PATCH",xC(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=kC(e),a}(t.storage,t._location,e,wC()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}(t=Object(yo.i)(t),e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return t=this._delegate,function(t){return Object(Ui.b)(this,void 0,void 0,function(){var e;return Object(Ui.d)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=function(t,e,n){var r=cC(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new EC(r,"GET",function(t,e){return function(n,r){var i=SC(t,r,e);return OC(null!==i),function(t,e,n){var r=mC(e);if(null===r)return null;if(!oC(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map(function(e){var r=t.fullPath;return cC("/b/"+o(t.bucket)+"/o/"+o(r),n)+lC({alt:"media",token:e})})[0]}(i,r,t.host)}}(t,n),i);return o.errorHandler=kC(e),o}(t.storage,t._location,wC()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then(function(t){if(null===t)throw new VS("no-download-url","The given file does not have any download URLs.");return t})]}})})}(t=Object(yo.i)(t));var t},t.prototype.delete=function(){return this._throwIfRoot("delete"),t=this._delegate,function(t){return Object(Ui.b)(this,void 0,void 0,function(){var e;return Object(Ui.d)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=function(t,e){var n=cC(e.fullServerUrl(),t.host),r=new EC(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=kC(e),r}(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}(t=Object(yo.i)(t));var t},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw BS(t)},t}(),tE=function(){function t(t,e){this.app=t,this._delegate=e}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(HC(t))throw qS("ref() expected a child path but got a URL, use refFromURL instead.");return new JC($C(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!HC(t))throw qS("refFromURL() expected a full URL but got a child path, use ref() instead.");try{rC.makeFromUrl(t,this._delegate.host)}catch(Pv){throw qS("refFromUrl() expected a valid full URL but got an invalid one.")}return new JC($C(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={}),function(t,e,n,r){void 0===r&&(r={}),t.host="http://"+e+":"+n;var i=r.mockUserToken;i&&(t._overrideAuthToken="string"==typeof i?i:Object(yo.e)(i,t.app.options.projectId))}(t,e,n,r)}(this._delegate,t,e,n)},t}();function eE(t){const e=function(t){return new Ht.a(e=>{const n=t=>e.next(t);n(t.snapshot);const r=t.on("state_changed",n);return t.then(t=>{n(t),e.complete()},r=>{n(t.snapshot),(t=>{e.error(t)})(r)}),function(){r()}}).pipe(function(t,e=qi.a){return n=>n.lift(new jS(t,e))}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Object(ee.a)(t=>t.bytesTransferred/t.totalBytes*100))}}function nE(t,e,n){return{getDownloadURL:()=>Object(jt.a)(void 0).pipe(Object($i.b)(e.outsideAngular),re(()=>t.getDownloadURL()),n),getMetadata:()=>Object(jt.a)(void 0).pipe(Object($i.b)(e.outsideAngular),re(()=>t.getMetadata()),n),delete:()=>Object(Rt.a)(t.delete()),child:r=>nE(t.child(r),e,n),updateMetadata:e=>Object(Rt.a)(t.updateMetadata(e)),put:(e,n)=>eE(t.put(e,n)),putString:(e,n,r)=>eE(t.putString(e,n,r)),listAll:()=>Object(Rt.a)(t.listAll())}}KC={TaskState:XS,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:GS,Storage:GC,Reference:JC},(WC=bo.a).INTERNAL.registerComponent(new Lv.a("storage",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new tE(r,new GC(r,i,o,new nC,n,bo.a.SDK_VERSION))},"PUBLIC").setServiceProps(KC).setMultipleInstances(!0)),WC.registerVersion("@firebase/storage","0.7.1");const rE=new r.r("angularfire2.storageBucket"),iE=new r.r("angularfire2.storage.maxUploadRetryTime"),oE=new r.r("angularfire2.storage.maxOperationRetryTime");let sE=(()=>{class t{constructor(t,e,n,r,i,o,s){this.schedulers=new eo.d(i),this.keepUnstableUntilFirst=Object(eo.h)(this.schedulers);const a=Object(eo.g)(t,i,e);this.storage=Object(eo.f)(`${a.name}.storage.${n}`,"AngularFireStorage",a,()=>{const t=i.runOutsideAngular(()=>a.storage(n||void 0));return o&&t.setMaxUploadRetryTime(o),s&&t.setMaxOperationRetryTime(s),t},[o,s])}ref(t){return nE(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(t){return nE(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return nE(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(eo.c),r.Vb(eo.b,8),r.Vb(rE,8),r.Vb(r.C),r.Vb(r.A),r.Vb(iE,8),r.Vb(oE,8))},t.\u0275prov=r.Ib({factory:function(){return new t(r.Vb(eo.c),r.Vb(eo.b,8),r.Vb(rE,8),r.Vb(r.C),r.Vb(r.A),r.Vb(iE,8),r.Vb(oE,8))},token:t,providedIn:"any"}),t})(),aE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})(),uE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[sE],imports:[aE]}),t})(),cE=(()=>{class t{constructor(t,e,n){this.db=t,this.auth=e,this.storage=n,this.clipsCollection=t.collection("clips")}createClip(t){return this.clipsCollection.add(t)}getUserClips(t){return Gt([this.auth.user,t]).pipe(re(t=>{const[e,n]=t;return e?this.clipsCollection.ref.where("uid","==",e.uid).orderBy("timestamp","1"===n?"desc":"asc").get():Object(jt.a)([])}),Object(ee.a)(t=>t.docs))}updateClip(t,e){return this.clipsCollection.doc(t).update({title:e})}deleteClip(t){return Object(Ui.b)(this,void 0,void 0,function*(){const e=this.storage.ref(`clips/${t.fileName}`);yield e.delete(),yield this.clipsCollection.doc(t.docID).delete()})}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(t_),r.Vb(uo),r.Vb(sE))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function lE(t,e){if(1&t&&(r.Rb(0,"app-alert",9),r.Rb(1,"p"),r.sc(2),r.Qb(),r.Qb()),2&t){const t=r.cc();r.hc("color",t.alertColor),r.Cb(2),r.tc(t.alertMsg)}}const hE=function(t,e){return{"opacity-50":t,"hover:bg-indigo-700":e}};let fE=(()=>{class t{constructor(t,e){this.modal=t,this.clipService=e,this.activeClip=null,this.inSubmission=!1,this.showAlert=!1,this.alertColor="blue",this.alertMsg="Please wait! Updating clip.",this.update=new r.n,this.clipID=new ww(""),this.title=new ww("",[R_.required,R_.minLength(3)]),this.editForm=new Sw({title:this.title,id:this.clipID})}ngOnInit(){this.modal.register("editClip")}ngOnDestroy(){this.modal.unregister("editClip")}ngOnChanges(){this.activeClip&&(this.inSubmission=!1,this.showAlert=!1,this.clipID.setValue(this.activeClip.docID),this.title.setValue(this.activeClip.title))}submit(){return Object(Ui.b)(this,void 0,void 0,function*(){if(this.activeClip){this.inSubmission=!0,this.showAlert=!0,this.alertColor="blue",this.alertMsg="Please wait! Updating clip.";try{yield this.clipService.updateClip(this.clipID.value,this.title.value)}catch(Pv){return this.inSubmission=!1,this.alertColor="red",void(this.alertMsg="Something went wrong. Try again later")}this.activeClip.title=this.title.value,this.update.emit(this.activeClip),this.inSubmission=!1,this.alertColor="green",this.alertMsg="Success!"}})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r_),r.Mb(cE))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-edit"]],inputs:{activeClip:"activeClip"},outputs:{update:"update"},features:[r.Ab],decls:12,vars:8,consts:[["modalID","editClip"],["heading","",1,"text-2xl","font-bold"],[3,"color",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"mt-4"],[1,"block","text-xl","mb-4"],["placeholder","Enter Title",3,"control"],[1,"mt-4","text-right"],["type","submit",1,"inline-flex","justify-center","py-2","px-4","border","border-transparent","shadow-sm","rounded-md","text-white","bg-indigo-600","focus:outline-none",3,"disabled","ngClass"],[3,"color"]],template:function(t,e){1&t&&(r.Rb(0,"app-modal",0),r.Rb(1,"p",1),r.sc(2,"Edit Video"),r.Qb(),r.qc(3,lE,3,2,"app-alert",2),r.Rb(4,"form",3),r.Yb("ngSubmit",function(){return e.submit()}),r.Rb(5,"div",4),r.Rb(6,"label",5),r.sc(7,"Title"),r.Qb(),r.Nb(8,"app-input",6),r.Qb(),r.Rb(9,"div",7),r.Rb(10,"button",8),r.sc(11," Update "),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&t&&(r.Cb(3),r.hc("ngIf",e.showAlert),r.Cb(1),r.hc("formGroup",e.editForm),r.Cb(4),r.hc("control",e.title),r.Cb(2),r.hc("disabled",e.inSubmission)("ngClass",r.kc(5,hE,e.inSubmission,!e.inSubmission)))},directives:[f_,F,Aw,J_,Vw,ES,P,Jw],styles:[""]}),t})();function dE(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",10),r.Rb(1,"a",11),r.Nb(2,"img",12),r.Qb(),r.Rb(3,"div",13),r.Rb(4,"a",14),r.sc(5),r.Qb(),r.Rb(6,"a",15),r.sc(7," Copy Link "),r.Qb(),r.Qb(),r.Rb(8,"div",16),r.Rb(9,"a",17),r.Yb("click",function(n){r.nc(t);const i=e.$implicit;return r.cc().openModal(n,i)}),r.Rb(10,"span",18),r.sc(11,"build"),r.Qb(),r.Qb(),r.Rb(12,"a",19),r.Yb("click",function(n){r.nc(t);const i=e.$implicit;return r.cc().deleteClip(n,i)}),r.Rb(13,"span",18),r.sc(14,"delete"),r.Qb(),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=e.$implicit;r.Cb(5),r.uc(" ",t.title," ")}}let pE=(()=>{class t{constructor(t,e,n,r){this.router=t,this.route=e,this.clipService=n,this.modal=r,this.videoOrder="1",this.clips=[],this.activeClip=null,this.sort$=new Pt(this.videoOrder)}ngOnInit(){this.route.queryParams.subscribe(t=>{this.videoOrder="2"==t.sort?t.sort:"1",this.sort$.next(this.videoOrder)}),this.clipService.getUserClips(this.sort$).subscribe(t=>{this.clips=[],t.forEach(t=>{this.clips.push(Object.assign({docID:t.id},t.data()))})})}sort(t){const{value:e}=t.target;this.router.navigate([],{relativeTo:this.route,queryParams:{sort:e}})}openModal(t,e){t.preventDefault(),this.activeClip=e,this.modal.toggleModal("editClip")}update(t){this.clips.forEach((e,n)=>{e.docID==t.docID&&(this.clips[n].title=t.title)})}deleteClip(t,e){t.preventDefault(),this.clipService.deleteClip(e),this.clips.forEach((t,n)=>{t.docID==e.docID&&this.clips.splice(n,1)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(fi),r.Mb(Gn),r.Mb(cE),r.Mb(r_))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-manage"]],decls:13,vars:4,consts:[[1,"container","mx-auto","my-8","bg-secondary","p-6"],[1,"rounded","relative","flex","justify-between"],["routerLink","/upload",1,"bg-indigo-400","text-white","py-4","px-10","text-xl"],[1,"text-black","px-8","text-xl","outline-none","appearance-none",3,"change"],["value","1",3,"selected"],["value","2",3,"selected"],[1,"container","mx-auto","my-8"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-4"],["class","mt-6 rounded-tl-2xl rounded-br-2xl shadow-xl bg-secondary flex flex-col justify-start",4,"ngFor","ngForOf"],[3,"activeClip","update"],[1,"mt-6","rounded-tl-2xl","rounded-br-2xl","shadow-xl","bg-secondary","flex","flex-col","justify-start"],["href","#"],["src","assets/img/1.jpg",1,"card-img-top","rounded-tl-2xl","w-full"],[1,"p-6","text-2xl"],["href","#",1,"font-bold","mb-2"],["href","#",1,"bg-gray-400","text-white","px-2","py-1","ml-2","text-sm","rounded"],[1,"flex","text-center","text-2xl","bg-gray-800","p-2","mt-auto"],["href","#",1,"flex-1","p-2","border-right","border-r-2","border-gray-700","transition","hover:text-indigo-400",3,"click"],[1,"material-icons","text-base"],["href","#",1,"flex-1","p-2","rounded-br-2xl","transition","hover:text-indigo-400",3,"click"]],template:function(t,e){1&t&&(r.Rb(0,"section",0),r.Rb(1,"div",1),r.Rb(2,"a",2),r.sc(3," Upload Videos "),r.Qb(),r.Rb(4,"select",3),r.Yb("change",function(t){return e.sort(t)}),r.Rb(5,"option",4),r.sc(6,"Recent Uploads"),r.Qb(),r.Rb(7,"option",5),r.sc(8,"Oldest Uploads"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(9,"div",6),r.Rb(10,"div",7),r.qc(11,dE,15,1,"div",8),r.Qb(),r.Qb(),r.Rb(12,"app-edit",9),r.Yb("update",function(t){return e.update(t)}),r.Qb()),2&t&&(r.Cb(5),r.hc("selected","1"===e.videoOrder),r.Cb(2),r.hc("selected","2"===e.videoOrder),r.Cb(4),r.hc("ngForOf",e.clips),r.Cb(1),r.hc("activeClip",e.activeClip))},directives:[pi,Uw,Qw,M,fE],styles:[""]}),t})();var gE,mE=new Uint8Array(16);function bE(){if(!gE&&!(gE="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return gE(mE)}for(var yE=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,vE=function(t){return"string"==typeof t&&yE.test(t)},_E=[],wE=0;wE<256;++wE)_E.push((wE+256).toString(16).substr(1));var SE=function(t,e,n){var r=(t=t||{}).random||(t.rng||bE)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(_E[t[e+0]]+_E[t[e+1]]+_E[t[e+2]]+_E[t[e+3]]+"-"+_E[t[e+4]]+_E[t[e+5]]+"-"+_E[t[e+6]]+_E[t[e+7]]+"-"+_E[t[e+8]]+_E[t[e+9]]+"-"+_E[t[e+10]]+_E[t[e+11]]+_E[t[e+12]]+_E[t[e+13]]+_E[t[e+14]]+_E[t[e+15]]).toLowerCase();if(!vE(n))throw TypeError("Stringified UUID is invalid");return n}(r)};const CE=function(t){return{"bg-indigo-400 border-indigo-400 border-solid":t}};function EE(t,e){if(1&t){const t=r.Sb();r.Pb(0),r.Rb(1,"div",5),r.Yb("dragend",function(){return r.nc(t),r.cc().isDragover=!1})("dragover",function(){return r.nc(t),r.cc().isDragover=!0})("dragenter",function(){return r.nc(t),r.cc().isDragover=!0})("dragleave",function(){return r.nc(t),r.cc().isDragover=!1})("mouseleave",function(){return r.nc(t),r.cc().isDragover=!1})("drop",function(e){return r.nc(t),r.cc().storeFile(e)}),r.Rb(2,"h5"),r.sc(3,"Drop your file here (mp4 only!)"),r.Qb(),r.Qb(),r.Rb(4,"input",6),r.Yb("change",function(e){return r.nc(t),r.cc().storeFile(e)}),r.Qb(),r.Ob()}if(2&t){const t=r.cc();r.Cb(1),r.hc("ngClass",r.jc(1,CE,t.isDragover))}}function OE(t,e){if(1&t&&(r.Rb(0,"p"),r.sc(1),r.dc(2,"percent"),r.Qb()),2&t){const t=r.cc(3);r.Cb(1),r.tc(r.ec(2,1,t.percentage))}}function xE(t,e){if(1&t&&(r.Rb(0,"app-alert",21),r.Rb(1,"p"),r.sc(2),r.Qb(),r.qc(3,OE,3,3,"p",22),r.Qb()),2&t){const t=r.cc(2);r.hc("color",t.alertColor),r.Cb(2),r.tc(t.alertMsg),r.Cb(1),r.hc("ngIf",t.showPercentage)}}const TE=function(t,e){return{"opacity-50":t,"hover:bg-indigo-700":e}};function kE(t,e){if(1&t){const t=r.Sb();r.qc(0,xE,4,3,"app-alert",7),r.Rb(1,"form",8),r.Yb("ngSubmit",function(){return r.nc(t),r.cc().uploadFile()}),r.Rb(2,"h2",9),r.sc(3,"Select a Thumbnail"),r.Qb(),r.Rb(4,"div",10),r.Rb(5,"div",11),r.Nb(6,"img",12),r.Qb(),r.Rb(7,"div",13),r.Nb(8,"img",14),r.Qb(),r.Rb(9,"div",13),r.Nb(10,"img",15),r.Qb(),r.Qb(),r.Rb(11,"div",16),r.Rb(12,"label",17),r.sc(13,"Title"),r.Qb(),r.Nb(14,"app-input",18),r.Qb(),r.Rb(15,"div",19),r.Rb(16,"button",20),r.sc(17," Publish "),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=r.cc();r.hc("ngIf",t.showAlert),r.Cb(1),r.hc("formGroup",t.uploadForm),r.Cb(13),r.hc("control",t.title),r.Cb(2),r.hc("disabled",t.inSubmission)("ngClass",r.kc(5,TE,t.inSubmission,!t.inSubmission))}}let IE=(()=>{class t{constructor(t,e,n,r){this.storage=t,this.auth=e,this.clipsService=n,this.router=r,this.isDragover=!1,this.file=null,this.nextStep=!1,this.showAlert=!1,this.alertColor="blue",this.alertMsg="Please wait! Your clip is being uploaded.",this.inSubmission=!1,this.percentage=0,this.showPercentage=!1,this.user=null,this.title=new ww("",[R_.required,R_.minLength(3)]),this.uploadForm=new Sw({title:this.title}),e.user.subscribe(t=>this.user=t)}ngOnDestroy(){var t;null===(t=this.task)||void 0===t||t.cancel()}storeFile(t){var e,n,r,i;this.isDragover=!1,this.file=t.dataTransfer?null!==(n=null===(e=t.dataTransfer)||void 0===e?void 0:e.files.item(0))&&void 0!==n?n:null:null!==(i=null===(r=t.target.files)||void 0===r?void 0:r.item(0))&&void 0!==i?i:null,this.file&&"video/mp4"===this.file.type&&(this.title.setValue(this.file.name.replace(/\.[^/.]+$/,"")),this.nextStep=!0)}uploadFile(){this.uploadForm.disable(),this.showAlert=!0,this.alertColor="blue",this.alertMsg="Please wait! Your clip is being uploaded.",this.inSubmission=!0,this.showPercentage=!0;const t=SE(),e=`clips/${t}.mp4`;this.task=this.storage.upload(e,this.file);const n=this.storage.ref(e);this.task.percentageChanges().subscribe(t=>{this.percentage=t/100}),this.task.snapshotChanges().pipe(Ne(),re(()=>n.getDownloadURL())).subscribe({next:e=>Object(Ui.b)(this,void 0,void 0,function*(){var n,r;const i={uid:null===(n=this.user)||void 0===n?void 0:n.uid,displayName:null===(r=this.user)||void 0===r?void 0:r.displayName,title:this.title.value,fileName:`${t}.mp4`,url:e,timestamp:mo.a.firestore.FieldValue.serverTimestamp()},o=yield this.clipsService.createClip(i);console.log(i),this.alertColor="green",this.alertMsg="Success! Your clip is now ready to share with the world.",this.showPercentage=!1,setTimeout(()=>{this.router.navigate(["clip",o.id])},1e3)}),error:t=>{this.uploadForm.enable(),this.alertColor="red",this.alertMsg="Upload failed! Please try again later.",this.inSubmission=!0,this.showPercentage=!1,console.error(t)}})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(sE),r.Mb(uo),r.Mb(cE),r.Mb(fi))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-upload"]],decls:7,vars:2,consts:[[1,"container","mx-auto","my-8","bg-secondary","p-6"],[1,"rounded","relative","flex","flex-col"],[1,"font-bold","mb-6"],[4,"ngIf","ngIfElse"],["uploadFormCtr",""],["app-event-blocker","",1,"w-full","px-10","py-40","rounded","text-center","cursor-pointer","border","border-dashed","border-gray-400","transition","duration-500","hover:text-white","hover:bg-indigo-400","hover:border-indigo-400","hover:border-solid","text-xl",3,"ngClass","dragend","dragover","dragenter","dragleave","mouseleave","drop"],["type","file",1,"mt-4",3,"change"],[3,"color",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"mb-4","text-xl"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-4"],[1,"border-8","cursor-pointer","border-green-400"],["src","assets/img/1.jpg"],[1,"border-8","cursor-pointer","border-transparent"],["src","assets/img/2.jpg"],["src","assets/img/3.jpg"],[1,"mt-4"],[1,"block","text-xl","mb-4"],["placeholder","Enter Title",3,"control"],[1,"mt-4","text-right"],["type","submit",1,"inline-flex","justify-center","py-2","px-4","border","border-transparent","shadow-sm","rounded-md","text-white","bg-indigo-600","focus:outline-none",3,"disabled","ngClass"],[3,"color"],[4,"ngIf"]],template:function(t,e){if(1&t&&(r.Rb(0,"section",0),r.Rb(1,"div",1),r.Rb(2,"div",2),r.sc(3,"Upload Video"),r.Qb(),r.qc(4,EE,5,3,"ng-container",3),r.qc(5,kE,18,8,"ng-template",null,4,r.rc),r.Qb(),r.Qb()),2&t){const t=r.mc(6);r.Cb(4),r.hc("ngIf",!e.nextStep)("ngIfElse",t)}},directives:[F,P,Aw,J_,Vw,ES,Jw],pipes:[W],styles:[""]}),t})();var AE=n("mCNh");const RE=Object(ee.a)(t=>!!t);let jE=(()=>{class t{constructor(t,e){this.router=t,this.auth=e,this.canActivate=(t,e)=>{const n=t.data.authGuardPipe||(()=>RE);return this.auth.user.pipe(ae(1),n(t,e),Object(ee.a)(t=>"boolean"==typeof t?t:Array.isArray(t)?this.router.createUrlTree(t):this.router.parseUrl(t)))}}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(fi),r.Vb(uo))},t.\u0275prov=r.Ib({factory:function(){return new t(r.Vb(fi),r.Vb(uo))},token:t,providedIn:"any"}),t})();Object(ee.a)(t=>!!t&&!t.isAnonymous);const NE=re(t=>t?t.getIdTokenResult():Object(jt.a)(null));Object(ee.a)(t=>!!t&&t.emailVerified),Object(AE.a)(NE,Object(ee.a)(t=>t?t.claims:[]));const DE=()=>Object(AE.a)(RE,Object(ee.a)(t=>t||"/")),PE=[{path:"manage",component:pE,data:{authOnly:!0,authGuardPipe:DE},canActivate:[jE]},{path:"upload",component:IE,data:{authOnly:!0,authGuardPipe:DE},canActivate:[jE]},{path:"manage-clips",redirectTo:"manage"}];let VE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[Ti.forChild(PE)],Ti]}),t})(),ME=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[K,VE,AS,Zw]]}),t})(),LE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t,bootstrap:[IS]}),t.\u0275inj=r.Jb({providers:[],imports:[[It,Fi,RS,eo.a.initializeApp(At),e_,co,ME,uE]]}),t})();Object(r.U)(),Tt().bootstrapModule(LE).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof i.a)return t.subscribe(e);let n;try{n=Object(o.a)(t)(e)}catch(r){e.error(r)}return n}}},[[0,0]]]);